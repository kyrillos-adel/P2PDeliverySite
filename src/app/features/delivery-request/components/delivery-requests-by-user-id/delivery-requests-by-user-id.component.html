
    <div class="container">
  <!-- Header Section -->
   
  <div class="d-flex justify-content-center align-items-center mb-3">
    <h2 class="fw-bold text-primary-emphasis">My Delivery Requests</h2>
  </div>

  <!-- Add Delivery Request Button -->

  <div class=" bg-white z-1 ">
    <div class=" bg-white   d-flex align-items-center  flex-wrap justify-content-center">
      <button
        class="add-button rounded-pill px-4 py-2 fw-semibold"
        (click)="navigateToCreatePost()">
        <i class="bi bi-plus-circle me-2"></i>Add Delivery Request
      </button>
    </div>
  </div>
  

  <!-- Scrollable Delivery Requests Feed -->
  <div class=" col-md-8 mx-auto mb-4 bg-light p-3 rounded shadow-sm flex-grow-1">
    <div *ngFor="let request of deliveryRequests" class="card post-card mb-4 border-0 shadow-sm rounded-4 position-relative">
      <div class="card-body">
        <!-- Profile Section -->
        <div class="d-flex align-items-center gap-2">
          <img
            *ngIf="request.profileImageUrl"
            [src]="imageBaseUrl + request.profileImageUrl"
            alt="Profile Image"
            class="rounded-circle"
            style="width: 50px; height: 50px; object-fit: cover;"
          />
          <div
            *ngIf="!request.profileImageUrl"
            class="d-flex justify-content-center align-items-center rounded-circle bg-warning text-white fw-bold"
            style="width: 50px; height: 50px; font-size: 1.3rem;"
          >
            {{ request.userName.charAt(0).toUpperCase() }}
          </div>
          <h5 class="text-black mb-1" style="font-size: 1.1rem; cursor: pointer;" [routerLink]="['/profile', request.userId]">
            {{ request.userName }}
          </h5>
        </div>

        <!-- Request Details -->
        <h5 class="fw-semibold text-dark mb-2">{{ request.title }}</h5>
        <p class="text-muted">{{ request.description }}</p>

        <ul class="list-unstyled small mb-3">
          <li><strong>âš–ï¸ Weight:</strong> {{ request.totalWeight }} kg</li>
          <li><strong>ğŸ“ From:</strong> {{ request.pickUpLocation }}</li>
          <li><strong>ğŸ“¦ To:</strong> {{ request.dropOffLocation }}</li>
          <li><strong>ğŸ“… Pickup Date:</strong> {{ request.pickUpDate | date: 'MM/dd/yyyy' }}</li>
          <li><strong>ğŸ’° Price Range:</strong> {{ request.minPrice }} - {{ request.maxPrice }} EGP</li>
        </ul>

        <!-- Delivery Image -->
        <div *ngIf="request.drImageUrl" class="text-center my-3">
          <img
            [src]="imageBaseUrl + request.drImageUrl"
            alt="Delivery Request Image"
            class="img-fluid rounded"
            style="max-height: 300px; object-fit: cover;"
          />
        </div>

        <!-- Status Badge -->
        <span
          class="badge position-absolute top-0 end-0 m-3 px-3 py-2 fs-6 rounded-pill"
          [ngClass]="{
            'bg-warning text-dark': request.status === 'Pending',
            'bg-success': request.status === 'Accepted' || request.status === 'Delivered',
            'bg-secondary': request.status === 'Completed',
            'bg-danger': request.status === 'Cancelled'
          }">
          {{ request.status }}
        </span>

        <!-- Divider -->
        <hr class="my-3" />

        <!-- Action Buttons -->
        <div class="d-flex flex-column flex-sm-row justify-content-center gap-2 px-2">
          <button class="link-button" (click)="openUpdateModal(request.id)">
            <i class="bi bi-pencil-square me-1"></i> Update
          </button>
          <button class="link-button" (click)="confirmDelete(request.id)">
            <i class="bi bi-trash me-1"></i> Delete
          </button>
          <button class="link-button" [routerLink]="['/deliveryrequests/details', request.id]">
            <i class="bi bi-eye me-1"></i> View Details
          </button>
        </div>
      </div>
    </div>
  </div>
<<<<<<< HEAD
=======


  <div *ngFor="let request of deliveryRequests" class="card post-card mb-4 shadow-sm border-1 col-md-8 mx-auto mb-4">
    <div class="card-body">
      <span class="badge bg-success status-badge" *ngIf="request.status === 'Accepted'">{{ request.status }}</span>
      <span class="badge bg-warning text-dark status-badge" *ngIf="request.status === 'Pending'">{{ request.status }}</span>
      <span class="badge bg-danger status-badge" *ngIf="request.status === 'Cancelled'">{{ request.status }}</span>
      <span class="badge bg-info status-badge" *ngIf="request.status === 'Completed'">{{ request.status }}</span>
      <span class="badge bg-warning status-badge" *ngIf="request.status === 'Delivered'">{{ request.status }}</span>
      <span class="badge bg-secondary status-badge" *ngIf="!['Accepted','Pending','Cancelled','Completed','Delivered'].includes(request.status)">
        {{ request.status }}
      </span>
      <div class="card-header bg-transparent d-flex justify-content-between align-items-center flex-wrap">
        
        <div>
          <h3 class="mb-0">{{ request.title }}</h3>
        </div>
      

        <div class="d-flex align-items-center gap-2">
          <h5
            class="text-muted mb-0"
            style="font-size: 1rem; cursor: pointer;"
            [routerLink]="['/profile', request.userId]">
            {{ request.userName }}
          </h5>
          <img
            *ngIf="request.profileImageUrl"
            [src]="imageBaseUrl + request.profileImageUrl"
            alt="Profile Image"
            class="rounded-circle"
            style="width: 50px; height: 50px; object-fit: cover;" />
      
          <div
            *ngIf="!request.profileImageUrl"
            class="d-flex justify-content-center align-items-center rounded-circle bg-secondary text-white fw-bold"
            style="width: 50px; height: 50px; font-size: 1.3rem;">
            {{ request.userName.charAt(0).toUpperCase() }}
          </div>
        </div>
      </div>
      

      <p class=" my-4 container text-muted">{{ request.description }}</p>
  
      <ul class="list-unstyled mt-1 d-flex flex-wrap gap-4">
        <li class="mb-1">
          <strong>âš–ï¸ Weight:</strong> {{ request.totalWeight }} kg
        </li>
        <li class="mb-1">
          <strong>ğŸ“ From:</strong> {{ request.pickUpLocation }}
        </li>
        <li class="mb-1">
          <strong>ğŸ“¦ To:</strong> {{ request.dropOffLocation }}
        </li>
        <li class="mb-1">
          <strong>ğŸ“… Pickup Date:</strong> {{ request.pickUpDate | date: 'mediumDate' }}
        </li>
      </ul>
      
      <div *ngIf="request.drImageUrl" class="text-center my-3">
        <img 
          [src]="imageBaseUrl + request.drImageUrl" 
          alt="Delivery Request Image" 
          class="img-fluid rounded" 
          style="max-height: 300px; object-fit: cover;"
        />
      </div>

      <hr class="my-3" />

      <div class="d-flex flex-column flex-sm-row justify-content-center gap-2 px-2">
        <button 
          [routerLink]="['/deliveryrequests/details', request.id]" 
          class="link-button" > <i class="bi bi-eye"></i> View Details </button>
      </div>
      
    </div>
  </div>
>>>>>>> 5f7188c97e76e22f71d2b30bda646fc0da352c42
</div>
<confirm-dialog
  *ngIf="showConfirmModal"
  [title]="'Delete Application'"
  [message]="'Are you sure you want to delete this application?'"
  [confirmText]="'Delete'"
  [cancelText]="'Cancel'"
  (confirm)="onConfirmDelete()"
  (cancel)="onCancelDelete()">
</confirm-dialog>
