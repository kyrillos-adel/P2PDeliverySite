<div class="auth-background d-flex justify-content-center align-items-center py-5 px-3">
    <form
      (ngSubmit)="saveProfile()"
      #editForm="ngForm"
      class="registerForm w-100 bg-white p-4 p-md-5 shadow rounded"
      style="max-width: 800px;"
    >
      <h2 class="text-center mb-4 text-dark fw-bold">Edit Profile</h2>
  
      <div class="row g-3">
        <div class="col-12 col-md-6">
          <label for="userName" class="form-label fw-semibold">Username</label>
          <input type="text" class="form-control" id="userName" [(ngModel)]="user.userName" name="userName" disabled />
        </div>
  
        <div class="col-12 col-md-6">
          <label for="fullName" class="form-label fw-semibold">Full Name</label>
          <input
            type="text"
            class="form-control"
            id="fullName"
            [(ngModel)]="user.fullName"
            name="fullName"
            [disabled]="!editingProfile"
            (ngModelChange)="errors.fullName = ''"
          />
          <div *ngIf="errors.fullName" class="text-danger mt-1">{{ errors.fullName }}</div>
        </div>
  
        <div class="col-12 col-md-6">
          <label for="email" class="form-label fw-semibold">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            [(ngModel)]="user.email"
            name="email"
            [disabled]="!editingProfile"
            (ngModelChange)="errors.email = ''"
          />
          <div *ngIf="errors.email" class="text-danger mt-1">{{ errors.email }}</div>
          <div *ngIf="notvalidemail" class="text-danger mt-1">{{ notvalidemail }}</div>
        </div>
  
        <div class="col-12 col-md-6">
          <label for="phone" class="form-label fw-semibold">Phone</label>
          <input
            type="text"
            class="form-control"
            id="phone"
            [(ngModel)]="user.phone"
            name="phone"
            [disabled]="!editingProfile"
            (ngModelChange)="errors.phone = ''"
          />
          <div *ngIf="errors.phone" class="text-danger mt-1">{{ errors.phone }}</div>
        </div>
  
        <div class="col-12 col-md-6">
          <label for="governorate" class="form-label fw-semibold">Governorate</label>
          <select
            class="form-select"
            id="governorate"
            [(ngModel)]="user.address"
            name="address"
            [disabled]="!editingProfile"
          >
            <option *ngFor="let gov of egyptGovernorates" [value]="gov">{{ gov }}</option>
          </select>
        </div>
  
        <div class="col-12 col-md-6">
          <label for="natId" class="form-label fw-semibold">National ID</label>
          <input type="text" class="form-control" id="natId" [(ngModel)]="user.natId" name="natId" disabled />
        </div>
      </div>
  
      <div class="d-flex flex-column flex-md-row justify-content-center gap-2 mt-4 flex-wrap">
        <button *ngIf="!editingProfile" type="button" class="btn btn-warning" (click)="startEdit()">Edit Profile</button>
        <button *ngIf="!editingProfile" type="button" class="btn btn-outline-secondary" [routerLink]="['/']" routerLinkActive="active-link">Go to home</button>
  
        <ng-container *ngIf="editingProfile">
          <button type="submit" class="btn btn-warning">Save</button>
          <button type="button" class="btn btn-outline-secondary" (click)="cancelEdit()">Cancel</button>
        </ng-container>
      </div>
    </form>
  </div>
  