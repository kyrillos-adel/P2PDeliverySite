var ND=Object.defineProperty,OD=Object.defineProperties;var PD=Object.getOwnPropertyDescriptors;var ng=Object.getOwnPropertySymbols;var kD=Object.prototype.hasOwnProperty,AD=Object.prototype.propertyIsEnumerable;var ig=(e,n,t)=>n in e?ND(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,I=(e,n)=>{for(var t in n||={})kD.call(n,t)&&ig(e,t,n[t]);if(ng)for(var t of ng(n))AD.call(n,t)&&ig(e,t,n[t]);return e},H=(e,n)=>OD(e,PD(n));var Br=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var X=(e,n,t)=>new Promise((i,r)=>{var o=l=>{try{a(t.next(l))}catch(d){r(d)}},s=l=>{try{a(t.throw(l))}catch(d){r(d)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(e,n)).next())});function Rd(e,n){return Object.is(e,n)}var Ke=null,Ra=!1,Nd=1,Kt=Symbol("SIGNAL");function ee(e){let n=Ke;return Ke=e,n}function Od(){return Ke}var is={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rs(e){if(Ra)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(e);let n=Ke.nextProducerIndex++;if(ka(Ke),n<Ke.producerNode.length&&Ke.producerNode[n]!==e&&ns(Ke)){let t=Ke.producerNode[n];Pa(t,Ke.producerIndexOfThis[n])}Ke.producerNode[n]!==e&&(Ke.producerNode[n]=e,Ke.producerIndexOfThis[n]=ns(Ke)?og(e,Ke,n):0),Ke.producerLastReadVersion[n]=e.version}function rg(){Nd++}function Pd(e){if(!(ns(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Nd)){if(!e.producerMustRecompute(e)&&!Ld(e)){Td(e);return}e.producerRecomputeValue(e),Td(e)}}function kd(e){if(e.liveConsumerNode===void 0)return;let n=Ra;Ra=!0;try{for(let t of e.liveConsumerNode)t.dirty||FD(t)}finally{Ra=n}}function Ad(){return Ke?.consumerAllowSignalWrites!==!1}function FD(e){e.dirty=!0,kd(e),e.consumerMarkedDirty?.(e)}function Td(e){e.dirty=!1,e.lastCleanEpoch=Nd}function Oa(e){return e&&(e.nextProducerIndex=0),ee(e)}function Fd(e,n){if(ee(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ns(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Pa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ld(e){ka(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(Pd(t),i!==t.version))return!0}return!1}function Vd(e){if(ka(e),ns(e))for(let n=0;n<e.producerNode.length;n++)Pa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function og(e,n,t){if(sg(e),e.liveConsumerNode.length===0&&ag(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=og(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Pa(e,n){if(sg(e),e.liveConsumerNode.length===1&&ag(e))for(let i=0;i<e.producerNode.length;i++)Pa(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];ka(r),r.producerIndexOfThis[i]=n}}function ns(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ka(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function sg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ag(e){return e.producerNode!==void 0}function jd(e,n){let t=Object.create(LD);t.computation=e,n!==void 0&&(t.equal=n);let i=()=>{if(Pd(t),rs(t),t.value===Na)throw t.error;return t.value};return i[Kt]=t,i}var Md=Symbol("UNSET"),xd=Symbol("COMPUTING"),Na=Symbol("ERRORED"),LD=H(I({},is),{value:Md,dirty:!0,error:null,equal:Rd,kind:"computed",producerMustRecompute(e){return e.value===Md||e.value===xd},producerRecomputeValue(e){if(e.value===xd)throw new Error("Detected cycle in computations.");let n=e.value;e.value=xd;let t=Oa(e),i,r=!1;try{i=e.computation(),ee(null),r=n!==Md&&n!==Na&&i!==Na&&e.equal(n,i)}catch(o){i=Na,e.error=o}finally{Fd(e,t)}if(r){e.value=n;return}e.value=i,e.version++}});function VD(){throw new Error}var lg=VD;function cg(e){lg(e)}function Bd(e){lg=e}var jD=null;function Ud(e,n){let t=Object.create(Aa);t.value=e,n!==void 0&&(t.equal=n);let i=()=>(rs(t),t.value);return i[Kt]=t,i}function os(e,n){Ad()||cg(e),e.equal(e.value,n)||(e.value=n,BD(e))}function Hd(e,n){Ad()||cg(e),os(e,n(e.value))}var Aa=H(I({},is),{equal:Rd,value:void 0,kind:"signal"});function BD(e){e.version++,rg(),kd(e),jD?.()}function $d(e){let n=ee(null);try{return e()}finally{ee(n)}}var qd;function ss(){return qd}function Zn(e){let n=qd;return qd=e,n}var Fa=Symbol("NotFound");function B(e){return typeof e=="function"}function Ur(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var La=Ur(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ji(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Fe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(B(i))try{i()}catch(o){n=o instanceof La?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{ug(o)}catch(s){n=n??[],s instanceof La?n=[...n,...s.errors]:n.push(s)}}if(n)throw new La(n)}}add(n){var t;if(n&&n!==this)if(this.closed)ug(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ji(t,n)}remove(n){let{_finalizers:t}=this;t&&Ji(t,n),n instanceof e&&n._removeParent(this)}};Fe.EMPTY=(()=>{let e=new Fe;return e.closed=!0,e})();var zd=Fe.EMPTY;function Va(e){return e instanceof Fe||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function ug(e){B(e)?e():e.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hr={setTimeout(e,n,...t){let{delegate:i}=Hr;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Hr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ja(e){Hr.setTimeout(()=>{let{onUnhandledError:n}=un;if(n)n(e);else throw e})}function Xi(){}var dg=Gd("C",void 0,void 0);function fg(e){return Gd("E",void 0,e)}function pg(e){return Gd("N",e,void 0)}function Gd(e,n,t){return{kind:e,value:n,error:t}}var er=null;function $r(e){if(un.useDeprecatedSynchronousErrorHandling){let n=!er;if(n&&(er={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=er;if(er=null,t)throw i}}else e()}function hg(e){un.useDeprecatedSynchronousErrorHandling&&er&&(er.errorThrown=!0,er.error=e)}var tr=class extends Fe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Va(n)&&n.add(this)):this.destination=GD}static create(n,t,i){return new qr(n,t,i)}next(n){this.isStopped?Yd(pg(n),this):this._next(n)}error(n){this.isStopped?Yd(fg(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Yd(dg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qD=Function.prototype.bind;function Wd(e,n){return qD.call(e,n)}var Qd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Ba(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Ba(i)}else Ba(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ba(t)}}},qr=class extends tr{constructor(n,t,i){super();let r;if(B(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Wd(n.next,o),error:n.error&&Wd(n.error,o),complete:n.complete&&Wd(n.complete,o)}):r=n}this.destination=new Qd(r)}};function Ba(e){un.useDeprecatedSynchronousErrorHandling?hg(e):ja(e)}function zD(e){throw e}function Yd(e,n){let{onStoppedNotification:t}=un;t&&Hr.setTimeout(()=>t(e,n))}var GD={closed:!0,next:Xi,error:zD,complete:Xi};var zr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(e){return e}function Zd(...e){return Kd(e)}function Kd(e){return e.length===0?yt:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var Y=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=YD(t)?t:new qr(t,i,r);return $r(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=mg(i),new i((r,o)=>{let s=new qr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[zr](){return this}pipe(...t){return Kd(t)(this)}toPromise(t){return t=mg(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function mg(e){var n;return(n=e??un.Promise)!==null&&n!==void 0?n:Promise}function WD(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}function YD(e){return e&&e instanceof tr||WD(e)&&Va(e)}function Jd(e){return B(e?.lift)}function se(e){return n=>{if(Jd(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(e,n,t,i,r){return new Xd(e,n,t,i,r)}var Xd=class extends tr{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Gr(){return se((e,n)=>{let t=null;e._refCount++;let i=Q(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var Wr=class extends Y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Fe;let t=this.getSubject();n.add(this.source.subscribe(Q(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Fe.EMPTY)}return n}refCount(){return Gr()(this)}};var gg=Ur(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Ua(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new gg}next(t){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?zd:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,Ji(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return e.create=(n,t)=>new Ua(n,t),e})(),Ua=class extends ae{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:zd}};var le=class extends ae{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var ef={now(){return(ef.delegate||Date).now()},delegate:void 0};var Ha=class extends Fe{constructor(n,t){super()}schedule(n,t=0){return this}};var as={setInterval(e,n,...t){let{delegate:i}=as;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=as;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var $a=class extends Ha{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return as.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&as.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ji(i,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var Yr=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}};Yr.now=ef.now;var qa=class extends Yr{constructor(n,t=Yr.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}};var QD=new qa($a),_g=QD;var it=new Y(e=>e.complete());function za(e){return e&&B(e.schedule)}function vg(e){return e[e.length-1]}function yi(e){return B(vg(e))?e.pop():void 0}function bi(e){return za(vg(e))?e.pop():void 0}function bg(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(i.next(p))}catch(m){s(m)}}function l(p){try{d(i.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):r(p.value).then(a,l)}d((i=i.apply(e,n||[])).next())})}function yg(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function nr(e){return this instanceof nr?(this.v=e,this):new nr(e)}function Dg(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(E){return Promise.resolve(E).then(_,m)}}function a(_,E){i[_]&&(r[_]=function(T){return new Promise(function(F,G){o.push([_,T,F,G])>1||l(_,T)})},E&&(r[_]=E(r[_])))}function l(_,E){try{d(i[_](E))}catch(T){v(o[0][3],T)}}function d(_){_.value instanceof nr?Promise.resolve(_.value.v).then(p,m):v(o[0][2],_)}function p(_){l("next",_)}function m(_){l("throw",_)}function v(_,E){_(E),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Cg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof yg=="function"?yg(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Qr=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ga(e){return B(e?.then)}function Wa(e){return B(e[zr])}function Ya(e){return Symbol.asyncIterator&&B(e?.[Symbol.asyncIterator])}function Qa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Za=ZD();function Ka(e){return B(e?.[Za])}function Ja(e){return Dg(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield nr(t.read());if(r)return yield nr(void 0);yield yield nr(i)}}finally{t.releaseLock()}})}function Xa(e){return B(e?.getReader)}function he(e){if(e instanceof Y)return e;if(e!=null){if(Wa(e))return KD(e);if(Qr(e))return JD(e);if(Ga(e))return XD(e);if(Ya(e))return wg(e);if(Ka(e))return eC(e);if(Xa(e))return tC(e)}throw Qa(e)}function KD(e){return new Y(n=>{let t=e[zr]();if(B(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JD(e){return new Y(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function XD(e){return new Y(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ja)})}function eC(e){return new Y(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function wg(e){return new Y(n=>{nC(e,n).catch(t=>n.error(t))})}function tC(e){return wg(Ja(e))}function nC(e,n){var t,i,r,o;return bg(this,void 0,void 0,function*(){try{for(t=Cg(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function Et(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function el(e,n=0){return se((t,i)=>{t.subscribe(Q(i,r=>Et(i,e,()=>i.next(r),n),()=>Et(i,e,()=>i.complete(),n),r=>Et(i,e,()=>i.error(r),n)))})}function tl(e,n=0){return se((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function Eg(e,n){return he(e).pipe(tl(n),el(n))}function Sg(e,n){return he(e).pipe(tl(n),el(n))}function Ig(e,n){return new Y(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function Mg(e,n){return new Y(t=>{let i;return Et(t,n,()=>{i=e[Za](),Et(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>B(i?.return)&&i.return()})}function nl(e,n){if(!e)throw new Error("Iterable cannot be null");return new Y(t=>{Et(t,n,()=>{let i=e[Symbol.asyncIterator]();Et(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function xg(e,n){return nl(Ja(e),n)}function Tg(e,n){if(e!=null){if(Wa(e))return Eg(e,n);if(Qr(e))return Ig(e,n);if(Ga(e))return Sg(e,n);if(Ya(e))return nl(e,n);if(Ka(e))return Mg(e,n);if(Xa(e))return xg(e,n)}throw Qa(e)}function ye(e,n){return n?Tg(e,n):he(e)}function L(...e){let n=bi(e);return ye(e,n)}function Pe(e,n){let t=B(e)?e:()=>e,i=r=>r.error(t());return new Y(n?r=>n.schedule(i,0,r):i)}function tf(e){return!!e&&(e instanceof Y||B(e.lift)&&B(e.subscribe))}var Kn=Ur(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Rg(e){return e instanceof Date&&!isNaN(e)}function Z(e,n){return se((t,i)=>{let r=0;t.subscribe(Q(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:iC}=Array;function rC(e,n){return iC(n)?e(...n):e(n)}function Zr(e){return Z(n=>rC(e,n))}var{isArray:oC}=Array,{getPrototypeOf:sC,prototype:aC,keys:lC}=Object;function il(e){if(e.length===1){let n=e[0];if(oC(n))return{args:n,keys:null};if(cC(n)){let t=lC(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function cC(e){return e&&typeof e=="object"&&sC(e)===aC}function rl(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Kr(...e){let n=bi(e),t=yi(e),{args:i,keys:r}=il(e);if(i.length===0)return ye([],n);let o=new Y(uC(i,n,r?s=>rl(r,s):yt));return t?o.pipe(Zr(t)):o}function uC(e,n,t=yt){return i=>{Ng(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)Ng(n,()=>{let d=ye(e[l],n),p=!1;d.subscribe(Q(i,m=>{o[l]=m,p||(p=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Ng(e,n,t){e?Et(t,e,n):n()}function Og(e,n,t,i,r,o,s,a){let l=[],d=0,p=0,m=!1,v=()=>{m&&!l.length&&!d&&n.complete()},_=T=>d<i?E(T):l.push(T),E=T=>{o&&n.next(T),d++;let F=!1;he(t(T,p++)).subscribe(Q(n,G=>{r?.(G),o?_(G):n.next(G)},()=>{F=!0},void 0,()=>{if(F)try{for(d--;l.length&&d<i;){let G=l.shift();s?Et(n,s,()=>E(G)):E(G)}v()}catch(G){n.error(G)}}))};return e.subscribe(Q(n,_,()=>{m=!0,v()})),()=>{a?.()}}function Re(e,n,t=1/0){return B(n)?Re((i,r)=>Z((o,s)=>n(i,o,r,s))(he(e(i,r))),t):(typeof n=="number"&&(t=n),se((i,r)=>Og(i,r,e,t)))}function Di(e=1/0){return Re(yt,e)}function Pg(){return Di(1)}function Ci(...e){return Pg()(ye(e,bi(e)))}function ol(e){return new Y(n=>{he(e()).subscribe(n)})}function nf(...e){let n=yi(e),{args:t,keys:i}=il(e),r=new Y(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let m=!1;he(t[p]).subscribe(Q(o,v=>{m||(m=!0,d--),a[p]=v},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(i?rl(i,a):a),o.complete())}))}});return n?r.pipe(Zr(n)):r}var dC=["addListener","removeListener"],fC=["addEventListener","removeEventListener"],pC=["on","off"];function Jt(e,n,t,i){if(B(t)&&(i=t,t=void 0),i)return Jt(e,n,t).pipe(Zr(i));let[r,o]=gC(e)?fC.map(s=>a=>e[s](n,a,t)):hC(e)?dC.map(kg(e,n)):mC(e)?pC.map(kg(e,n)):[];if(!r&&Qr(e))return Re(s=>Jt(s,n,t))(he(e));if(!r)throw new TypeError("Invalid event target");return new Y(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function kg(e,n){return t=>i=>e[t](n,i)}function hC(e){return B(e.addListener)&&B(e.removeListener)}function mC(e){return B(e.on)&&B(e.off)}function gC(e){return B(e.addEventListener)&&B(e.removeEventListener)}function rf(e=0,n,t=_g){let i=-1;return n!=null&&(za(n)?t=n:i=n),new Y(r=>{let o=Rg(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}var{isArray:_C}=Array;function sl(e){return e.length===1&&_C(e[0])?e[0]:e}function Le(e,n){return se((t,i)=>{let r=0;t.subscribe(Q(i,o=>e.call(n,o,r++)&&i.next(o)))})}function of(...e){return e=sl(e),e.length===1?he(e[0]):new Y(vC(e))}function vC(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(he(e[i]).subscribe(Q(n,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}n.next(r)})))}}function ls(...e){let n=yi(e),t=sl(e);return t.length?new Y(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)he(t[s]).subscribe(Q(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(d=>d.shift());i.next(n?n(...l):l),r.some((d,p)=>!d.length&&o[p])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):it}function rt(e){return se((n,t)=>{let i=null,r=!1,o;i=n.subscribe(Q(t,void 0,void 0,s=>{o=he(e(s,rt(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Ag(e,n,t,i,r){return(o,s)=>{let a=t,l=n,d=0;o.subscribe(Q(s,p=>{let m=d++;l=a?e(l,p,m):(a=!0,p),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function wn(e,n){return B(n)?Re(e,n,1):Re(e,1)}function wi(e){return se((n,t)=>{let i=!1;n.subscribe(Q(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function St(e){return e<=0?()=>it:se((n,t)=>{let i=0;n.subscribe(Q(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function al(e=yC){return se((n,t)=>{let i=!1;n.subscribe(Q(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function yC(){return new Kn}function sf(...e){return n=>Ci(n,L(...e))}function It(e){return se((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Jn(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Le((r,o)=>e(r,o,i)):yt,St(1),t?wi(n):al(()=>new Kn))}function Jr(e){return e<=0?()=>it:se((n,t)=>{let i=[];n.subscribe(Q(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function af(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Le((r,o)=>e(r,o,i)):yt,Jr(1),t?wi(n):al(()=>new Kn))}function lf(e,n){return se(Ag(e,n,arguments.length>=2,!0))}function ll(...e){let n=bi(e);return se((t,i)=>{(n?Ci(e,t,n):Ci(e,t)).subscribe(i)})}function Ve(e,n){return se((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Q(i,l=>{r?.unsubscribe();let d=0,p=o++;he(e(l,p)).subscribe(r=Q(i,m=>i.next(n?n(l,m,p,d++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ut(e){return se((n,t)=>{he(e).subscribe(Q(t,()=>t.complete(),Xi)),!t.closed&&n.subscribe(t)})}function je(e,n,t){let i=B(e)||n||t?{next:e,error:n,complete:t}:e;return i?se((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Q(o,l=>{var d;(d=i.next)===null||d===void 0||d.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,l),o.error(l)},()=>{var l,d;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):yt}function cl(...e){let n=yi(e);return se((t,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)he(e[l]).subscribe(Q(i,d=>{o[l]=d,!a&&!s[l]&&(s[l]=!0,(a=s.every(yt))&&(s=null))},Xi));t.subscribe(Q(i,l=>{if(a){let d=[l,...o];i.next(n?n(...d):d)}}))})}var M0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",A=class extends Error{code;constructor(n,t){super(x0(n,t)),this.code=n}};function bC(e){return`NG0${Math.abs(e)}`}function x0(e,n){return`${bC(e)}${n?": "+n:""}`}var T0=Symbol("InputSignalNode#UNSET"),DC=H(I({},Aa),{transformFn:void 0,applyValueToInputSignal(e,n){os(e,n)}});function R0(e,n){let t=Object.create(DC);t.value=e,t.transformFn=n?.transform;function i(){if(rs(t),t.value===T0){let r=null;throw new A(-950,r)}return t.value}return i[Kt]=t,i}function Ds(e){return{toString:e}.toString()}var ul="__parameters__";function CC(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function N0(e,n,t){return Ds(()=>{let i=CC(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,p){let m=l.hasOwnProperty(ul)?l[ul]:Object.defineProperty(l,ul,{value:[]})[ul];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),l}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Xn=globalThis;function be(e){for(let n in e)if(e[n]===be)return n;throw Error("Could not find renamed property on target object.")}function wC(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Tt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Tt).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Ef(e,n){return e?n?`${e} ${n}`:e:n||""}var EC=be({__forward_ref__:be});function pt(e){return e.__forward_ref__=pt,e.toString=function(){return Tt(this())},e}function bt(e){return O0(e)?e():e}function O0(e){return typeof e=="function"&&e.hasOwnProperty(EC)&&e.__forward_ref__===pt}function x(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ce(e){return{providers:e.providers||[],imports:e.imports||[]}}function Yl(e){return Fg(e,k0)||Fg(e,A0)}function P0(e){return Yl(e)!==null}function Fg(e,n){return e.hasOwnProperty(n)?e[n]:null}function SC(e){let n=e&&(e[k0]||e[A0]);return n||null}function Lg(e){return e&&(e.hasOwnProperty(Vg)||e.hasOwnProperty(IC))?e[Vg]:null}var k0=be({\u0275prov:be}),Vg=be({\u0275inj:be}),A0=be({ngInjectableDef:be}),IC=be({ngInjectorDef:be}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=x({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function F0(e){return e&&!!e.\u0275providers}var MC=be({\u0275cmp:be}),xC=be({\u0275dir:be}),TC=be({\u0275pipe:be}),RC=be({\u0275mod:be}),Dl=be({\u0275fac:be}),fs=be({__NG_ELEMENT_ID__:be}),jg=be({__NG_ENV_ID__:be});function sr(e){return typeof e=="string"?e:e==null?"":String(e)}function NC(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():sr(e)}function L0(e,n){throw new A(-200,e)}function xp(e,n){throw new A(-201,!1)}var ie=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ie||{}),Sf;function V0(){return Sf}function Mt(e){let n=Sf;return Sf=e,n}function j0(e,n,t){let i=Yl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&ie.Optional)return null;if(n!==void 0)return n;xp(e,"Injector")}var OC={},rr=OC,If="__NG_DI_FLAG__",Cl=class{injector;constructor(n){this.injector=n}retrieve(n,t){let i=t;return this.injector.get(n,i.optional?Fa:rr,i)}},wl="ngTempTokenPath",PC="ngTokenPath",kC=/\n/gm,AC="\u0275",Bg="__source";function FC(e,n=ie.Default){if(ss()===void 0)throw new A(-203,!1);if(ss()===null)return j0(e,void 0,n);{let t=ss(),i;return t instanceof Cl?i=t.injector:i=t,i.get(e,n&ie.Optional?null:void 0,n)}}function P(e,n=ie.Default){return(V0()||FC)(bt(e),n)}function b(e,n=ie.Default){return P(e,Ql(n))}function Ql(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Mf(e){let n=[];for(let t=0;t<e.length;t++){let i=bt(e[t]);if(Array.isArray(i)){if(i.length===0)throw new A(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){let a=i[s],l=LC(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(P(r,o))}else n.push(P(i))}return n}function B0(e,n){return e[If]=n,e.prototype[If]=n,e}function LC(e){return e[If]}function VC(e,n,t,i){let r=e[wl];throw n[Bg]&&r.unshift(n[Bg]),e.message=jC(`
`+e.message,r,t,i),e[PC]=r,e[wl]=null,e}function jC(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==AC?e.slice(2):e;let r=Tt(n);if(Array.isArray(n))r=n.map(Tt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(kC,`
  `)}`}var BC=B0(N0("Optional"),8);var UC=B0(N0("SkipSelf"),4);function ar(e,n){let t=e.hasOwnProperty(Dl);return t?e[Dl]:null}function HC(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function $C(e){return e.flat(Number.POSITIVE_INFINITY)}function Tp(e,n){e.forEach(t=>Array.isArray(t)?Tp(t,n):n(t))}function U0(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function El(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function qC(e,n){let t=[];for(let i=0;i<e;i++)t.push(n);return t}function zC(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function Rp(e,n,t){let i=Cs(e,n);return i>=0?e[i|1]=t:(i=~i,zC(e,i,n,t)),i}function cf(e,n){let t=Cs(e,n);if(t>=0)return e[t|1]}function Cs(e,n){return GC(e,n,1)}function GC(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var lr={},xt=[],ps=new k(""),H0=new k("",-1),$0=new k(""),Sl=class{get(n,t=rr){if(t===rr){let i=new Error(`NullInjectorError: No provider for ${Tt(n)}!`);throw i.name="NullInjectorError",i}return t}};function q0(e,n){let t=e[RC]||null;if(!t&&n===!0)throw new Error(`Type ${Tt(e)} does not have '\u0275mod' property.`);return t}function Ii(e){return e[MC]||null}function WC(e){return e[xC]||null}function YC(e){return e[TC]||null}function go(e){return{\u0275providers:e}}function QC(...e){return{\u0275providers:z0(!0,e),\u0275fromNgModule:!0}}function z0(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return Tp(n,s=>{let a=s;xf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&G0(r,o),t}function G0(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];Np(r,o=>{n(o,i)})}}function xf(e,n,t,i){if(e=bt(e),!e)return!1;let r=null,o=Lg(e),s=!o&&Ii(e);if(!o&&!s){let l=e.ngModule;if(o=Lg(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)xf(d,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{Tp(o.imports,p=>{xf(p,n,t,i)&&(d||=[],d.push(p))})}finally{}d!==void 0&&G0(d,n)}if(!a){let d=ar(r)||(()=>new r);n({provide:r,useFactory:d,deps:xt},r),n({provide:$0,useValue:r,multi:!0},r),n({provide:ps,useValue:()=>P(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=e;Np(l,p=>{n(p,d)})}}else return!1;return r!==e&&e.providers!==void 0}function Np(e,n){for(let t of e)F0(t)&&(t=t.\u0275providers),Array.isArray(t)?Np(t,n):n(t)}var ZC=be({provide:String,useValue:be});function W0(e){return e!==null&&typeof e=="object"&&ZC in e}function KC(e){return!!(e&&e.useExisting)}function JC(e){return!!(e&&e.useFactory)}function oo(e){return typeof e=="function"}function XC(e){return!!e.useClass}var Zl=new k(""),ml={},Ug={},uf;function Kl(){return uf===void 0&&(uf=new Sl),uf}var Xe=class{},hs=class extends Xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Rf(n,s=>this.processProvider(s)),this.records.set(H0,Xr(void 0,this)),r.has("environment")&&this.records.set(Xe,Xr(void 0,this));let o=this.records.get(Zl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($0,xt,ie.Self))}retrieve(n,t){let i=t;return this.get(n,i.optional?Fa:rr,i)}destroy(){us(this),this._destroyed=!0;let n=ee(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(n)}}onDestroy(n){return us(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){us(this);let t=Zn(this),i=Mt(void 0),r;try{return n()}finally{Zn(t),Mt(i)}}get(n,t=rr,i=ie.Default){if(us(this),n.hasOwnProperty(jg))return n[jg](this);i=Ql(i);let r,o=Zn(this),s=Mt(void 0);try{if(!(i&ie.SkipSelf)){let l=this.records.get(n);if(l===void 0){let d=rw(n)&&Yl(n);d&&this.injectableDefInScope(d)?l=Xr(Tf(n),ml):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&ie.Self?Kl():this.parent;return t=i&ie.Optional&&t===rr?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[wl]=a[wl]||[]).unshift(Tt(n)),o)throw a;return VC(a,n,"R3InjectorError",this.source)}else throw a}finally{Mt(s),Zn(o)}}resolveInjectorInitializers(){let n=ee(null),t=Zn(this),i=Mt(void 0),r;try{let o=this.get(ps,xt,ie.Self);for(let s of o)s()}finally{Zn(t),Mt(i),ee(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(Tt(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=bt(n);let t=oo(n)?n:bt(n&&n.provide),i=tw(n);if(!oo(n)&&n.multi===!0){let r=this.records.get(t);r||(r=Xr(void 0,ml,!0),r.factory=()=>Mf(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=ee(null);try{return t.value===Ug?L0(Tt(n)):t.value===ml&&(t.value=Ug,t.value=t.factory()),typeof t.value=="object"&&t.value&&iw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ee(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=bt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Tf(e){let n=Yl(e),t=n!==null?n.factory:ar(e);if(t!==null)return t;if(e instanceof k)throw new A(204,!1);if(e instanceof Function)return ew(e);throw new A(204,!1)}function ew(e){if(e.length>0)throw new A(204,!1);let t=SC(e);return t!==null?()=>t.factory(e):()=>new e}function tw(e){if(W0(e))return Xr(void 0,e.useValue);{let n=Y0(e);return Xr(n,ml)}}function Y0(e,n,t){let i;if(oo(e)){let r=bt(e);return ar(r)||Tf(r)}else if(W0(e))i=()=>bt(e.useValue);else if(JC(e))i=()=>e.useFactory(...Mf(e.deps||[]));else if(KC(e))i=()=>P(bt(e.useExisting));else{let r=bt(e&&(e.useClass||e.provide));if(nw(e))i=()=>new r(...Mf(e.deps));else return ar(r)||Tf(r)}return i}function us(e){if(e.destroyed)throw new A(205,!1)}function Xr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function nw(e){return!!e.deps}function iw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function rw(e){return typeof e=="function"||typeof e=="object"&&e instanceof k}function Rf(e,n){for(let t of e)Array.isArray(t)?Rf(t,n):t&&F0(t)?Rf(t.\u0275providers,n):n(t)}function Rt(e,n){let t;e instanceof hs?(us(e),t=e):t=new Cl(e);let i,r=Zn(t),o=Mt(void 0);try{return n()}finally{Zn(r),Mt(o)}}function Q0(){return V0()!==void 0||ss()!=null}function ow(e){if(!Q0())throw new A(-203,!1)}function sw(e){return typeof e=="function"}var oi=0,K=1,W=2,ft=3,pn=4,Nt=5,so=6,Il=7,Je=8,cr=9,ei=10,Be=11,ms=12,Hg=13,_o=14,jt=15,ur=16,eo=17,ti=18,Jl=19,Z0=20,Ei=21,df=22,Ml=23,Xt=24,io=25,ze=26,K0=1;var dr=7,xl=8,ao=9,dt=10;function Si(e){return Array.isArray(e)&&typeof e[K0]=="object"}function si(e){return Array.isArray(e)&&e[K0]===!0}function Op(e){return(e.flags&4)!==0}function vo(e){return e.componentOffset>-1}function Xl(e){return(e.flags&1)===1}function Sn(e){return!!e.template}function Tl(e){return(e[W]&512)!==0}function yo(e){return(e[W]&256)===256}var Nf=class{previousValue;currentValue;firstChange;constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function J0(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}var Dt=(()=>{let e=()=>X0;return e.ngInherit=!0,e})();function X0(e){return e.type.prototype.ngOnChanges&&(e.setInput=lw),aw}function aw(){let e=t_(this),n=e?.current;if(n){let t=e.previous;if(t===lr)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function lw(e,n,t,i,r){let o=this.declaredInputs[i],s=t_(e)||cw(e,{previous:lr,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Nf(d&&d.currentValue,t,l===lr),J0(e,n,r,t)}var e_="__ngSimpleChanges__";function t_(e){return e[e_]||null}function cw(e,n){return e[e_]=n}var $g=null;var ge=function(e,n=null,t){$g?.(e,n,t)},uw="svg",dw="math";function In(e){for(;Array.isArray(e);)e=e[oi];return e}function n_(e,n){return In(n[e])}function Rn(e,n){return In(n[e.index])}function Pp(e,n){return e.data[n]}function ec(e,n){return e[n]}function Mn(e,n){let t=n[e];return Si(t)?t:t[oi]}function fw(e){return(e[W]&4)===4}function kp(e){return(e[W]&128)===128}function pw(e){return si(e[ft])}function Mi(e,n){return n==null?null:e[n]}function i_(e){e[eo]=0}function r_(e){e[W]&1024||(e[W]|=1024,kp(e)&&ws(e))}function hw(e,n){for(;e>0;)n=n[_o],e--;return n}function tc(e){return!!(e[W]&9216||e[Xt]?.dirty)}function Of(e){e[ei].changeDetectionScheduler?.notify(8),e[W]&64&&(e[W]|=1024),tc(e)&&ws(e)}function ws(e){e[ei].changeDetectionScheduler?.notify(0);let n=fr(e);for(;n!==null&&!(n[W]&8192||(n[W]|=8192,!kp(n)));)n=fr(n)}function o_(e,n){if(yo(e))throw new A(911,!1);e[Ei]===null&&(e[Ei]=[]),e[Ei].push(n)}function mw(e,n){if(e[Ei]===null)return;let t=e[Ei].indexOf(n);t!==-1&&e[Ei].splice(t,1)}function fr(e){let n=e[ft];return si(n)?n[ft]:n}function Ap(e){return e[Il]??=[]}function Fp(e){return e.cleanup??=[]}function gw(e,n,t,i){let r=Ap(n);r.push(t),e.firstCreatePass&&Fp(e).push(i,r.length-1)}var te={lFrame:f_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Pf=!1;function _w(){return te.lFrame.elementDepthCount}function vw(){te.lFrame.elementDepthCount++}function yw(){te.lFrame.elementDepthCount--}function Lp(){return te.bindingsEnabled}function s_(){return te.skipHydrationRootTNode!==null}function bw(e){return te.skipHydrationRootTNode===e}function Dw(){te.skipHydrationRootTNode=null}function q(){return te.lFrame.lView}function Ue(){return te.lFrame.tView}function R(e){return te.lFrame.contextLView=e,e[Je]}function N(e){return te.lFrame.contextLView=null,e}function ht(){let e=a_();for(;e!==null&&e.type===64;)e=e.parent;return e}function a_(){return te.lFrame.currentTNode}function Cw(){let e=te.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function _r(e,n){let t=te.lFrame;t.currentTNode=e,t.isParent=n}function Vp(){return te.lFrame.isParent}function jp(){te.lFrame.isParent=!1}function ww(){return te.lFrame.contextLView}function l_(){return Pf}function qg(e){let n=Pf;return Pf=e,n}function xi(){let e=te.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Ew(){return te.lFrame.bindingIndex}function Sw(e){return te.lFrame.bindingIndex=e}function bo(){return te.lFrame.bindingIndex++}function Bp(e){let n=te.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Iw(){return te.lFrame.inI18n}function Mw(e,n){let t=te.lFrame;t.bindingIndex=t.bindingRootIndex=e,kf(n)}function xw(){return te.lFrame.currentDirectiveIndex}function kf(e){te.lFrame.currentDirectiveIndex=e}function Tw(e){let n=te.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function c_(){return te.lFrame.currentQueryIndex}function Up(e){te.lFrame.currentQueryIndex=e}function Rw(e){let n=e[K];return n.type===2?n.declTNode:n.type===1?e[Nt]:null}function u_(e,n,t){if(t&ie.SkipSelf){let r=n,o=e;for(;r=r.parent,r===null&&!(t&ie.Host);)if(r=Rw(o),r===null||(o=o[_o],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=te.lFrame=d_();return i.currentTNode=n,i.lView=e,!0}function Hp(e){let n=d_(),t=e[K];te.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function d_(){let e=te.lFrame,n=e===null?null:e.child;return n===null?f_(e):n}function f_(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function p_(){let e=te.lFrame;return te.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var h_=p_;function $p(){let e=p_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Nw(e){return(te.lFrame.contextLView=hw(e,te.lFrame.contextLView))[Je]}function ai(){return te.lFrame.selectedIndex}function pr(e){te.lFrame.selectedIndex=e}function qp(){let e=te.lFrame;return Pp(e.tView,e.selectedIndex)}function Ow(){return te.lFrame.currentNamespace}var m_=!0;function nc(){return m_}function ic(e){m_=e}function Pw(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=X0(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function zp(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),p!=null&&(e.destroyHooks??=[]).push(t,p)}}function gl(e,n,t){g_(e,n,3,t)}function _l(e,n,t,i){(e[W]&3)===t&&g_(e,n,t,i)}function ff(e,n){let t=e[W];(t&3)===n&&(t&=16383,t+=1,e[W]=t)}function g_(e,n,t,i){let r=i!==void 0?e[eo]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(e[eo]+=65536),(a<o||o==-1)&&(kw(e,t,n,l),e[eo]=(e[eo]&4294901760)+l+2),l++}function zg(e,n){ge(4,e,n);let t=ee(null);try{n.call(e)}finally{ee(t),ge(5,e,n)}}function kw(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[W]>>14<e[eo]>>16&&(e[W]&3)===n&&(e[W]+=16384,zg(a,o)):zg(a,o)}var ro=-1,hr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,i){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=i}};function Aw(e){return(e.flags&8)!==0}function Fw(e){return(e.flags&16)!==0}function Lw(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];Vw(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function __(e){return e===3||e===4||e===6}function Vw(e){return e.charCodeAt(0)===64}function lo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Gg(e,t,r,null,n[++i]):Gg(e,t,r,null,null))}}return e}function Gg(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r)}function v_(e){return e!==ro}function Rl(e){return e&32767}function jw(e){return e>>16}function Nl(e,n){let t=jw(e),i=n;for(;t>0;)i=i[_o],t--;return i}var Af=!0;function Ol(e){let n=Af;return Af=e,n}var Bw=256,y_=Bw-1,b_=5,Uw=0,En={};function Hw(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(fs)&&(i=t[fs]),i==null&&(i=t[fs]=Uw++);let r=i&y_,o=1<<r;n.data[e+(r>>b_)]|=o}function Pl(e,n){let t=D_(e,n);if(t!==-1)return t;let i=n[K];i.firstCreatePass&&(e.injectorIndex=n.length,pf(i.data,e),pf(n,null),pf(i.blueprint,null));let r=Gp(e,n),o=e.injectorIndex;if(v_(r)){let s=Rl(r),a=Nl(r,n),l=a[K].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|l[s+d]}return n[o+8]=r,o}function pf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function D_(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Gp(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=I_(r),i===null)return ro;if(t++,r=r[_o],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ro}function Ff(e,n,t){Hw(e,n,t)}function $w(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(__(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===n)return t[r+1];r=r+2}}}return null}function C_(e,n,t){if(t&ie.Optional||e!==void 0)return e;xp(n,"NodeInjector")}function w_(e,n,t,i){if(t&ie.Optional&&i===void 0&&(i=null),(t&(ie.Self|ie.Host))===0){let r=e[cr],o=Mt(void 0);try{return r?r.get(n,i,t&ie.Optional):j0(n,i,t&ie.Optional)}finally{Mt(o)}}return C_(i,n,t)}function E_(e,n,t,i=ie.Default,r){if(e!==null){if(n[W]&2048&&!(i&ie.Self)){let s=Ww(e,n,t,i,En);if(s!==En)return s}let o=S_(e,n,t,i,En);if(o!==En)return o}return w_(n,t,i,r)}function S_(e,n,t,i,r){let o=zw(t);if(typeof o=="function"){if(!u_(n,e,i))return i&ie.Host?C_(r,t,i):w_(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&ie.Optional))xp(t);else return s}finally{h_()}}else if(typeof o=="number"){let s=null,a=D_(e,n),l=ro,d=i&ie.Host?n[jt][Nt]:null;for((a===-1||i&ie.SkipSelf)&&(l=a===-1?Gp(e,n):n[a+8],l===ro||!Yg(i,!1)?a=-1:(s=n[K],a=Rl(l),n=Nl(l,n)));a!==-1;){let p=n[K];if(Wg(o,a,p.data)){let m=qw(a,n,t,s,i,d);if(m!==En)return m}l=n[a+8],l!==ro&&Yg(i,n[K].data[a+8]===d)&&Wg(o,a,n)?(s=p,a=Rl(l),n=Nl(l,n)):a=-1}}return r}function qw(e,n,t,i,r,o){let s=n[K],a=s.data[e+8],l=i==null?vo(a)&&Af:i!=s&&(a.type&3)!==0,d=r&ie.Host&&o===a,p=vl(a,s,t,l,d);return p!==null?gs(n,s,p,a):En}function vl(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,d=e.directiveEnd,p=o>>20,m=i?a:a+p,v=r?a+p:d;for(let _=m;_<v;_++){let E=s[_];if(_<l&&t===E||_>=l&&E.type===t)return _}if(r){let _=s[l];if(_&&Sn(_)&&_.type===t)return l}return null}function gs(e,n,t,i){let r=e[t],o=n.data;if(r instanceof hr){let s=r;s.resolving&&L0(NC(o[t]));let a=Ol(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?Mt(s.injectImpl):null,p=u_(e,i,ie.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&Pw(t,o[t],n)}finally{d!==null&&Mt(d),Ol(a),s.resolving=!1,h_()}}return r}function zw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(fs)?e[fs]:void 0;return typeof n=="number"?n>=0?n&y_:Gw:n}function Wg(e,n,t){let i=1<<e;return!!(t[n+(e>>b_)]&i)}function Yg(e,n){return!(e&ie.Self)&&!(e&ie.Host&&n)}var or=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return E_(this._tNode,this._lView,n,Ql(i),t)}};function Gw(){return new or(ht(),q())}function tn(e){return Ds(()=>{let n=e.prototype.constructor,t=n[Dl]||Lf(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Dl]||Lf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Lf(e){return O0(e)?()=>{let n=Lf(bt(e));return n&&n()}:ar(e)}function Ww(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[W]&2048&&!Tl(s);){let a=S_(o,s,t,i|ie.Self,En);if(a!==En)return a;let l=o.parent;if(!l){let d=s[Z0];if(d){let p=d.get(t,En,i);if(p!==En)return p}l=I_(s),s=s[_o]}o=l}return r}function I_(e){let n=e[K],t=n.type;return t===2?n.declTNode:t===1?e[Nt]:null}function rc(e){return $w(ht(),e)}function Qg(e,n=null,t=null,i){let r=M_(e,n,t,i);return r.resolveInjectorInitializers(),r}function M_(e,n=null,t=null,i,r=new Set){let o=[t||xt,QC(e)];return i=i||(typeof e=="object"?void 0:Tt(e)),new hs(o,n||Kl(),i||null,r)}var ot=class e{static THROW_IF_NOT_FOUND=rr;static NULL=new Sl;static create(n,t){if(Array.isArray(n))return Qg({name:""},t,n,"");{let i=n.name??"";return Qg({name:i},n.parent,n.providers,i)}}static \u0275prov=x({token:e,providedIn:"any",factory:()=>P(H0)});static __NG_ELEMENT_ID__=-1};var Yw=new k("");Yw.__NG_ELEMENT_ID__=e=>{let n=ht();if(n===null)throw new A(204,!1);if(n.type&2)return n.value;if(e&ie.Optional)return null;throw new A(204,!1)};var x_=!1,Do=(()=>{class e{static __NG_ELEMENT_ID__=Qw;static __NG_ENV_ID__=t=>t}return e})(),Vf=class extends Do{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return yo(t)?(n(),()=>{}):(o_(t,n),()=>mw(t,n))}};function Qw(){return new Vf(q())}var co=class{},Wp=new k("",{providedIn:"root",factory:()=>!1});var T_=new k(""),R_=new k(""),li=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new le(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})();var jf=class extends ae{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Q0()&&(this.destroyRef=b(Do,{optional:!0})??void 0,this.pendingTasks=b(li,{optional:!0})??void 0)}emit(n){let t=ee(null);try{super.next(n)}finally{ee(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof Fe&&n.add(a),a}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},me=jf;function kl(...e){}function N_(e){let n,t;function i(){e=kl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Zg(e){return queueMicrotask(()=>e()),()=>{e=kl}}var Yp="isAngularZone",Al=Yp+"_ID",Zw=0,Ce=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new me(!1);onMicrotaskEmpty=new me(!1);onStable=new me(!1);onError=new me(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=x_}=n;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Xw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Yp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new A(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,Kw,kl,kl);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},Kw={};function Qp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Jw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){N_(()=>{e.callbackScheduled=!1,Bf(e),e.isCheckStableRunning=!0,Qp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Bf(e)}function Xw(e){let n=()=>{Jw(e)},t=Zw++;e._inner=e._inner.fork({name:"angular",properties:{[Yp]:!0,[Al]:t,[Al+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(eE(l))return i.invokeTask(o,s,a,l);try{return Kg(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Jg(e)}},onInvoke:(i,r,o,s,a,l,d)=>{try{return Kg(e),i.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!tE(l)&&n(),Jg(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Bf(e),Qp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Bf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Kg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Jg(e){e._nesting--,Qp(e)}var Uf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new me;onMicrotaskEmpty=new me;onStable=new me;onError=new me;run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function eE(e){return O_(e,"__ignore_ng_zone__")}function tE(e){return O_(e,"__scheduler_tick__")}function O_(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var xn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},nE=new k("",{providedIn:"root",factory:()=>{let e=b(Ce),n=b(xn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function Xg(e,n){return R0(e,n)}function iE(e){return R0(T0,e)}var P_=(Xg.required=iE,Xg);function rE(){return Co(ht(),q())}function Co(e,n){return new Ge(Rn(e,n))}var Ge=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=rE}return e})();function oE(e){return e instanceof Ge?e.nativeElement:e}function sE(e){return typeof e=="function"&&e[Kt]!==void 0}function wo(e,n){let t=Ud(e,n?.equal),i=t[Kt];return t.set=r=>os(i,r),t.update=r=>Hd(i,r),t.asReadonly=aE.bind(t),t}function aE(){let e=this[Kt];if(e.readonlyFn===void 0){let n=()=>this();n[Kt]=e,e.readonlyFn=n}return e.readonlyFn}function k_(e){return sE(e)&&typeof e.set=="function"}function lE(){return this._results[Symbol.iterator]()}var Hf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ae}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=$C(n);(this._changesDetected=!HC(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=lE};function A_(e){return(e.flags&128)===128}var F_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(F_||{}),L_=new Map,cE=0;function uE(){return cE++}function dE(e){L_.set(e[Jl],e)}function $f(e){L_.delete(e[Jl])}var e0="__ngContext__";function Eo(e,n){Si(n)?(e[e0]=n[Jl],dE(n)):e[e0]=n}function V_(e){return B_(e[ms])}function j_(e){return B_(e[pn])}function B_(e){for(;e!==null&&!si(e);)e=e[pn];return e}var qf;function U_(e){qf=e}function H_(){if(qf!==void 0)return qf;if(typeof document<"u")return document;throw new A(210,!1)}var oc=new k("",{providedIn:"root",factory:()=>fE}),fE="ng",Zp=new k(""),ci=new k("",{providedIn:"platform",factory:()=>"unknown"});var Kp=new k("",{providedIn:"root",factory:()=>H_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pE="h",hE="b";var $_=!1,mE=new k("",{providedIn:"root",factory:()=>$_});var Jp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Jp||{}),So=new k(""),t0=new Set;function Ti(e){t0.has(e)||(t0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var q_=(()=>{class e{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=gE}return e})();function gE(){return new q_(q(),ht())}var to=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(to||{}),z_=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),_E=[to.EarlyRead,to.Write,to.MixedReadWrite,to.Read],vE=(()=>{class e{ngZone=b(Ce);scheduler=b(co);errorHandler=b(xn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(So,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ge(16),this.executing=!0;for(let i of _E)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ge(17)}register(t){let{view:i}=t;i!==void 0?((i[io]??=[]).push(t),ws(i),i[W]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Jp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),zf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,i,r,o,s=null){this.impl=n,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[io];n&&(this.view[io]=n.filter(t=>t!==this))}};function Io(e,n){!n?.injector&&ow(Io);let t=n?.injector??b(ot);return Ti("NgAfterNextRender"),bE(e,t,n,!0)}function yE(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function bE(e,n,t,i){let r=n.get(z_);r.impl??=n.get(vE);let o=n.get(So,null,{optional:!0}),s=t?.phase??to.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(Do):null,l=n.get(q_,null,{optional:!0}),d=new zf(r.impl,yE(e,s),l?.view,i,a,o?.snapshot(null));return r.impl.register(d),d}var DE=()=>null;function G_(e,n,t=!1){return DE(e,n,t)}function W_(e,n){let t=e.contentQueries;if(t!==null){let i=ee(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];Up(o),a.contentQueries(2,n[s],s)}}}finally{ee(i)}}}function Gf(e,n,t){Up(0);let i=ee(null);try{n(e,t)}finally{ee(i)}}function Xp(e,n,t){if(Op(n)){let i=ee(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ee(i)}}}var Tn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Tn||{}),dl;function CE(){if(dl===void 0&&(dl=null,Xn.trustedTypes))try{dl=Xn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dl}function sc(e){return CE()?.createHTML(e)||e}var fl;function Y_(){if(fl===void 0&&(fl=null,Xn.trustedTypes))try{fl=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return fl}function n0(e){return Y_()?.createHTML(e)||e}function i0(e){return Y_()?.createScriptURL(e)||e}var Fl=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${M0})`}};function Mo(e){return e instanceof Fl?e.changingThisBreaksApplicationSecurity:e}function eh(e,n){let t=wE(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${M0})`)}return t===n}function wE(e){return e instanceof Fl&&e.getTypeName()||null}function EE(e){let n=new Yf(e);return SE()?new Wf(n):n}var Wf=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(sc(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},Yf=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=sc(n),t}};function SE(){try{return!!new window.DOMParser().parseFromString(sc(""),"text/html")}catch{return!1}}var IE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Q_(e){return e=String(e),e.match(IE)?e:"unsafe:"+e}function ui(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function Es(...e){let n={};for(let t of e)for(let i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}var Z_=ui("area,br,col,hr,img,wbr"),K_=ui("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J_=ui("rp,rt"),ME=Es(J_,K_),xE=Es(K_,ui("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),TE=Es(J_,ui("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),r0=Es(Z_,xE,TE,ME),X_=ui("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),RE=ui("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),NE=ui("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),OE=Es(X_,RE,NE),PE=ui("script,style,template"),Qf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=FE(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=AE(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(n){let t=o0(n).toLowerCase();if(!r0.hasOwnProperty(t))return this.sanitizedSomething=!0,!PE.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!OE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;X_[a]&&(l=Q_(l)),this.buf.push(" ",s,'="',s0(l),'"')}return this.buf.push(">"),!0}endElement(n){let t=o0(n).toLowerCase();r0.hasOwnProperty(t)&&!Z_.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(s0(n))}};function kE(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function AE(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw ev(n);return n}function FE(e){let n=e.firstChild;if(n&&kE(e,n))throw ev(n);return n}function o0(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function ev(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var LE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VE=/([^\#-~ |!])/g;function s0(e){return e.replace(/&/g,"&amp;").replace(LE,function(n){let t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(VE,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var pl;function jE(e,n){let t=null;try{pl=pl||EE(e);let i=n?String(n):"";t=pl.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=pl.getInertBodyElement(i)}while(i!==o);let a=new Qf().sanitizeChildren(a0(t)||t);return sc(a)}finally{if(t){let i=a0(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function a0(e){return"content"in e&&BE(e)?e.content:null}function BE(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var ac=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ac||{});function tv(e){let n=th();return n?n0(n.sanitize(ac.HTML,e)||""):eh(e,"HTML")?n0(Mo(e)):jE(H_(),sr(e))}function nn(e){let n=th();return n?n.sanitize(ac.URL,e)||"":eh(e,"URL")?Mo(e):Q_(sr(e))}function UE(e){let n=th();if(n)return i0(n.sanitize(ac.RESOURCE_URL,e)||"");if(eh(e,"ResourceURL"))return i0(Mo(e));throw new A(904,!1)}function HE(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?UE:nn}function nv(e,n,t){return HE(n,t)(e)}function th(){let e=q();return e&&e[ei].sanitizer}var $E=/^>|^->|<!--|-->|--!>|<!-$/g,qE=/(<|>)/g,zE="\u200B$1\u200B";function GE(e){return e.replace($E,n=>n.replace(qE,zE))}function iv(e){return e.ownerDocument}function rv(e){return e instanceof Function?e():e}function WE(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}var ov="ng-template";function YE(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&WE(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(nh(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function nh(e){return e.type===4&&e.value!==ov}function QE(e,n,t){let i=e.type===4&&!t?ov:e.value;return n===i}function ZE(e,n,t){let i=4,r=e.attrs,o=r!==null?XE(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!dn(i)&&!dn(l))return!1;if(s&&dn(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!QE(e,l,t)||l===""&&n.length===1){if(dn(i))return!1;s=!0}}else if(i&8){if(r===null||!YE(e,r,l,t)){if(dn(i))return!1;s=!0}}else{let d=n[++a],p=KE(l,r,nh(e),t);if(p===-1){if(dn(i))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=r[p+1].toLowerCase(),i&2&&d!==m){if(dn(i))return!1;s=!0}}}}return dn(i)||s}function dn(e){return(e&1)===0}function KE(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return eS(n,e)}function sv(e,n,t=!1){for(let i=0;i<n.length;i++)if(ZE(e,n[i],t))return!0;return!1}function JE(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function XE(e){for(let n=0;n<e.length;n++){let t=e[n];if(__(t))return n}return e.length}function eS(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function tS(e,n){e:for(let t=0;t<n.length;t++){let i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function l0(e,n){return e?":not("+n.trim()+")":n}function nS(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!dn(s)&&(n+=l0(o,r),r=""),i=s,o=o||!dn(i);t++}return r!==""&&(n+=l0(o,r)),n}function iS(e){return e.map(nS).join(",")}function rS(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!dn(r))break;r=o}i++}return t.length&&n.push(1,...t),n}var Bt={};function oS(e,n){return e.createText(n)}function sS(e,n,t){e.setValue(n,t)}function aS(e,n){return e.createComment(GE(n))}function av(e,n,t){return e.createElement(n,t)}function Ll(e,n,t,i,r){e.insertBefore(n,t,i,r)}function lv(e,n,t){e.appendChild(n,t)}function c0(e,n,t,i,r){i!==null?Ll(e,n,t,i,r):lv(e,n,t)}function lS(e,n,t){e.removeChild(null,n,t)}function cS(e,n,t){e.setAttribute(n,"style",t)}function uS(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function cv(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Lw(e,n,i),r!==null&&uS(e,n,r),o!==null&&cS(e,n,o)}function ih(e,n,t,i,r,o,s,a,l,d,p){let m=ze+i,v=m+r,_=dS(m,v),E=typeof d=="function"?d():d;return _[K]={type:e,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:n,data:_.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1,ssrId:p}}function dS(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:Bt);return t}function fS(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=ih(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function rh(e,n,t,i,r,o,s,a,l,d,p){let m=n.blueprint.slice();return m[oi]=r,m[W]=i|4|128|8|64|1024,(d!==null||e&&e[W]&2048)&&(m[W]|=2048),i_(m),m[ft]=m[_o]=e,m[Je]=t,m[ei]=s||e&&e[ei],m[Be]=a||e&&e[Be],m[cr]=l||e&&e[cr]||null,m[Nt]=o,m[Jl]=uE(),m[so]=p,m[Z0]=d,m[jt]=n.type==2?e[jt]:m,m}function pS(e,n,t){let i=Rn(n,e),r=fS(t),o=e[ei].rendererFactory,s=oh(e,rh(e,r,null,uv(t),i,n,null,o.createRenderer(i,t),null,null,null));return e[n.index]=s}function uv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function dv(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function oh(e,n){return e[ms]?e[Hg][pn]=n:e[ms]=n,e[Hg]=n,n}function h(e=1){fv(Ue(),q(),ai()+e,!1)}function fv(e,n,t,i){if(!i)if((n[W]&3)===3){let o=e.preOrderCheckHooks;o!==null&&gl(n,o,t)}else{let o=e.preOrderHooks;o!==null&&_l(n,o,0,t)}pr(t)}var lc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(lc||{});function Zf(e,n,t,i){let r=ee(null);try{let[o,s,a]=e.inputs[t],l=null;(s&lc.SignalBased)!==0&&(l=n[o][Kt]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(n,i)),e.setInput!==null?e.setInput(n,l,i,t,o):J0(n,l,o,i)}finally{ee(r)}}function pv(e,n,t,i,r){let o=ai(),s=i&2;try{pr(-1),s&&n.length>ze&&fv(e,n,ze,!1),ge(s?2:0,r),t(i,r)}finally{pr(o),ge(s?3:1,r)}}function cc(e,n,t){yS(e,n,t),(t.flags&64)===64&&bS(e,n,t)}function sh(e,n,t=Rn){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function hS(e,n,t,i){let o=i.get(mE,$_)||t===Tn.ShadowDom,s=e.selectRootElement(n,o);return mS(s),s}function mS(e){gS(e)}var gS=()=>null;function _S(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function hv(e,n,t,i,r,o,s,a){if(!a&&lh(n,e,t,i,r)){vo(n)&&vS(t,n.index);return}if(n.type&3){let l=Rn(n,t);i=_S(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)}else n.type&12}function vS(e,n){let t=Mn(n,e);t[W]&16||(t[W]|=64)}function yS(e,n,t){let i=t.directiveStart,r=t.directiveEnd;vo(t)&&pS(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Pl(t,n);let o=t.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=gs(n,e,s,t);if(Eo(l,n),o!==null&&ES(n,s-i,l,a,t,o),Sn(a)){let d=Mn(t.index,n);d[Je]=gs(n,e,s,t)}}}function bS(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=xw();try{pr(o);for(let a=i;a<r;a++){let l=e.data[a],d=n[a];kf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&DS(l,d)}}finally{pr(-1),kf(s)}}function DS(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function ah(e,n){let t=e.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];sv(n,o.selectors,!1)&&(i??=[],Sn(o)?i.unshift(o):i.push(o))}return i}function CS(e,n,t,i,r,o){let s=Rn(e,n);wS(n[Be],s,o,e.value,t,i,r)}function wS(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?sr(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function ES(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];Zf(i,t,l,d)}}function SS(e,n){let t=e[cr],i=t?t.get(xn,null):null;i&&i.handleError(n)}function lh(e,n,t,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],p=s[l+1],m=n.data[d];Zf(m,t[d],p,r),a=!0}if(o)for(let l of o){let d=t[l],p=n.data[l];Zf(p,d,i,r),a=!0}return a}function IS(e,n){let t=Mn(n,e),i=t[K];MS(i,t);let r=t[oi];r!==null&&t[so]===null&&(t[so]=G_(r,t[cr])),ge(18),ch(i,t,t[Je]),ge(19,t[Je])}function MS(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function ch(e,n,t){Hp(n);try{let i=e.viewQuery;i!==null&&Gf(1,i,t);let r=e.template;r!==null&&pv(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ti]?.finishViewCreation(e),e.staticContentQueries&&W_(e,n),e.staticViewQueries&&Gf(2,e.viewQuery,t);let o=e.components;o!==null&&xS(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[W]&=-5,$p()}}function xS(e,n){for(let t=0;t<n.length;t++)IS(e,n[t])}function Ss(e,n,t,i){let r=ee(null);try{let o=n.tView,a=e[W]&4096?4096:16,l=rh(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=e[n.index];l[ur]=d;let p=e[ti];return p!==null&&(l[ti]=p.createEmbeddedView(o)),ch(o,l,t),l}finally{ee(r)}}function uo(e,n){return!n||n.firstChild===null||A_(e)}var TS;function uh(e,n){return TS(e,n)}var ni=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ni||{});function dh(e){return(e.flags&32)===32}function no(e,n,t,i,r){if(i!=null){let o,s=!1;si(i)?o=i:Si(i)&&(s=!0,i=i[oi]);let a=In(i);e===0&&t!==null?r==null?lv(n,t,a):Ll(n,t,a,r||null,!0):e===1&&t!==null?Ll(n,t,a,r||null,!0):e===2?lS(n,a,s):e===3&&n.destroyNode(a),o!=null&&jS(n,e,o,t,r)}}function RS(e,n){mv(e,n),n[oi]=null,n[Nt]=null}function NS(e,n,t,i,r,o){i[oi]=r,i[Nt]=n,fc(e,i,t,1,r,o)}function mv(e,n){n[ei].changeDetectionScheduler?.notify(9),fc(e,n,n[Be],2,null,null)}function OS(e){let n=e[ms];if(!n)return hf(e[K],e);for(;n;){let t=null;if(Si(n))t=n[ms];else{let i=n[dt];i&&(t=i)}if(!t){for(;n&&!n[pn]&&n!==e;)Si(n)&&hf(n[K],n),n=n[ft];n===null&&(n=e),Si(n)&&hf(n[K],n),t=n&&n[pn]}n=t}}function fh(e,n){let t=e[ao],i=t.indexOf(n);t.splice(i,1)}function uc(e,n){if(yo(n))return;let t=n[Be];t.destroyNode&&fc(e,n,t,3,null,null),OS(n)}function hf(e,n){if(yo(n))return;let t=ee(null);try{n[W]&=-129,n[W]|=256,n[Xt]&&Vd(n[Xt]),kS(e,n),PS(e,n),n[K].type===1&&n[Be].destroy();let i=n[ur];if(i!==null&&si(n[ft])){i!==n[ft]&&fh(i,n);let r=n[ti];r!==null&&r.detachView(e)}$f(n)}finally{ee(t)}}function PS(e,n){let t=e.cleanup,i=n[Il];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(n[Il]=null);let r=n[Ei];if(r!==null){n[Ei]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=n[Ml];if(o!==null){n[Ml]=null;for(let s of o)s.destroy()}}function kS(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof hr)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];ge(4,a,l);try{l.call(a)}finally{ge(5,a,l)}}else{ge(4,r,o);try{o.call(r)}finally{ge(5,r,o)}}}}}function gv(e,n,t){return AS(e,n.parent,t)}function AS(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[oi];if(vo(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===Tn.None||r===Tn.Emulated)return null}return Rn(i,t)}function _v(e,n,t){return LS(e,n,t)}function FS(e,n,t){return e.type&40?Rn(e,t):null}var LS=FS,u0;function dc(e,n,t,i){let r=gv(e,i,n),o=n[Be],s=i.parent||n[Nt],a=_v(s,i,n);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)c0(o,r,t[l],a,!1);else c0(o,r,t,a,!1);u0!==void 0&&u0(o,i,n,t,r)}function ds(e,n){if(n!==null){let t=n.type;if(t&3)return Rn(n,e);if(t&4)return Kf(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return ds(e,i);{let r=e[n.index];return si(r)?Kf(-1,r):In(r)}}else{if(t&128)return ds(e,n.next);if(t&32)return uh(n,e)()||In(e[n.index]);{let i=vv(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=fr(e[jt]);return ds(r,i)}else return ds(e,n.next)}}}return null}function vv(e,n){if(n!==null){let i=e[jt][Nt],r=n.projection;return i.projection[r]}return null}function Kf(e,n){let t=dt+e+1;if(t<n.length){let i=n[t],r=i[K].firstChild;if(r!==null)return ds(i,r)}return n[dr]}function ph(e,n,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&n===0&&(a&&Eo(In(a),i),t.flags|=2),!dh(t))if(l&8)ph(e,n,t.child,i,r,o,!1),no(n,e,r,a,o);else if(l&32){let d=uh(t,i),p;for(;p=d();)no(n,e,r,p,o);no(n,e,r,a,o)}else l&16?yv(e,n,i,t,r,o):no(n,e,r,a,o);t=s?t.projectionNext:t.next}}function fc(e,n,t,i,r,o){ph(t,i,e.firstChild,n,r,o,!1)}function VS(e,n,t){let i=n[Be],r=gv(e,t,n),o=t.parent||n[Nt],s=_v(o,t,n);yv(i,0,n,t,r,s)}function yv(e,n,t,i,r,o){let s=t[jt],l=s[Nt].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];no(n,e,r,p,o)}else{let d=l,p=s[ft];A_(i)&&(d.flags|=128),ph(e,n,d,p,r,o,!0)}}function jS(e,n,t,i,r){let o=t[dr],s=In(t);o!==s&&no(n,e,i,o,r);for(let a=dt;a<t.length;a++){let l=t[a];fc(l[K],l,e,n,i,o)}}function BS(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ni.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ni.Important),e.setStyle(t,i,r,o))}}function Vl(e,n,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&i.push(In(o)),si(o)&&US(o,i);let s=t.type;if(s&8)Vl(e,n,t.child,i);else if(s&32){let a=uh(t,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=vv(n,t);if(Array.isArray(a))i.push(...a);else{let l=fr(n[jt]);Vl(l[K],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function US(e,n){for(let t=dt;t<e.length;t++){let i=e[t],r=i[K].firstChild;r!==null&&Vl(i[K],i,r,n)}e[dr]!==e[oi]&&n.push(e[dr])}function bv(e){if(e[io]!==null){for(let n of e[io])n.impl.addSequence(n);e[io].length=0}}var Dv=[];function HS(e){return e[Xt]??$S(e)}function $S(e){let n=Dv.pop()??Object.create(zS);return n.lView=e,n}function qS(e){e.lView[Xt]!==e&&(e.lView=null,Dv.push(e))}var zS=H(I({},is),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ws(e.lView)},consumerOnSignalRead(){this.lView[Xt]=this}});function GS(e){let n=e[Xt]??Object.create(WS);return n.lView=e,n}var WS=H(I({},is),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=fr(e.lView);for(;n&&!Cv(n[K]);)n=fr(n);n&&r_(n)},consumerOnSignalRead(){this.lView[Xt]=this}});function Cv(e){return e.type!==2}function wv(e){if(e[Ml]===null)return;let n=!0;for(;n;){let t=!1;for(let i of e[Ml])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=t&&!!(e[W]&8192)}}var YS=100;function Ev(e,n=!0,t=0){let r=e[ei].rendererFactory,o=!1;o||r.begin?.();try{QS(e,t)}catch(s){throw n&&SS(e,s),s}finally{o||r.end?.()}}function QS(e,n){let t=l_();try{qg(!0),Jf(e,n);let i=0;for(;tc(e);){if(i===YS)throw new A(103,!1);i++,Jf(e,1)}}finally{qg(t)}}function ZS(e,n,t,i){if(yo(n))return;let r=n[W],o=!1,s=!1;Hp(n);let a=!0,l=null,d=null;o||(Cv(e)?(d=HS(n),l=Oa(d)):Od()===null?(a=!1,d=GS(n),l=Oa(d)):n[Xt]&&(Vd(n[Xt]),n[Xt]=null));try{i_(n),Sw(e.bindingStartIndex),t!==null&&pv(e,n,t,2,i);let p=(r&3)===3;if(!o)if(p){let _=e.preOrderCheckHooks;_!==null&&gl(n,_,null)}else{let _=e.preOrderHooks;_!==null&&_l(n,_,0,null),ff(n,0)}if(s||KS(n),wv(n),Sv(n,0),e.contentQueries!==null&&W_(e,n),!o)if(p){let _=e.contentCheckHooks;_!==null&&gl(n,_)}else{let _=e.contentHooks;_!==null&&_l(n,_,1),ff(n,1)}XS(e,n);let m=e.components;m!==null&&Mv(n,m,0);let v=e.viewQuery;if(v!==null&&Gf(2,v,i),!o)if(p){let _=e.viewCheckHooks;_!==null&&gl(n,_)}else{let _=e.viewHooks;_!==null&&_l(n,_,2),ff(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[df]){for(let _ of n[df])_();n[df]=null}o||(bv(n),n[W]&=-73)}catch(p){throw o||ws(n),p}finally{d!==null&&(Fd(d,l),a&&qS(d)),$p()}}function Sv(e,n){for(let t=V_(e);t!==null;t=j_(t))for(let i=dt;i<t.length;i++){let r=t[i];Iv(r,n)}}function KS(e){for(let n=V_(e);n!==null;n=j_(n)){if(!(n[W]&2))continue;let t=n[ao];for(let i=0;i<t.length;i++){let r=t[i];r_(r)}}}function JS(e,n,t){ge(18);let i=Mn(n,e);Iv(i,t),ge(19,i[Je])}function Iv(e,n){kp(e)&&Jf(e,n)}function Jf(e,n){let i=e[K],r=e[W],o=e[Xt],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ld(o)),s||=!1,o&&(o.dirty=!1),e[W]&=-9217,s)ZS(i,e,i.template,e[Je]);else if(r&8192){wv(e),Sv(e,1);let a=i.components;a!==null&&Mv(e,a,1),bv(e)}}function Mv(e,n,t){for(let i=0;i<n.length;i++)JS(e,n[i],t)}function XS(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)pr(~r);else{let o=r,s=t[++i],a=t[++i];Mw(s,o);let l=n[o];ge(24,l),a(2,l),ge(25,l)}}}finally{pr(-1)}}function hh(e,n){let t=l_()?64:1088;for(e[ei].changeDetectionScheduler?.notify(n);e;){e[W]|=t;let i=fr(e);if(Tl(e)&&!i)return e;e=i}return null}function xv(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function Tv(e,n){let t=dt+n;if(t<e.length)return e[t]}function Is(e,n,t,i=!0){let r=n[K];if(eI(r,n,e,t),i){let s=Kf(t,e),a=n[Be],l=a.parentNode(e[dr]);l!==null&&NS(r,e[Nt],a,n,l,s)}let o=n[so];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Rv(e,n){let t=_s(e,n);return t!==void 0&&uc(t[K],t),t}function _s(e,n){if(e.length<=dt)return;let t=dt+n,i=e[t];if(i){let r=i[ur];r!==null&&r!==e&&fh(r,i),n>0&&(e[t-1][pn]=i[pn]);let o=El(e,dt+n);RS(i[K],i);let s=o[ti];s!==null&&s.detachView(o[K]),i[ft]=null,i[pn]=null,i[W]&=-129}return i}function eI(e,n,t,i){let r=dt+i,o=t.length;i>0&&(t[r-1][pn]=n),i<o-dt?(n[pn]=t[r],U0(t,dt+i,n)):(t.push(n),n[pn]=null),n[ft]=t;let s=n[ur];s!==null&&t!==s&&Nv(s,n);let a=n[ti];a!==null&&a.insertView(e),Of(n),n[W]|=128}function Nv(e,n){let t=e[ao],i=n[ft];if(Si(i))e[W]|=2;else{let r=i[ft][jt];n[jt]!==r&&(e[W]|=2)}t===null?e[ao]=[n]:t.push(n)}var vs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[K];return Vl(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Je]}set context(n){this._lView[Je]=n}get destroyed(){return yo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ft];if(si(n)){let t=n[xl],i=t?t.indexOf(this):-1;i>-1&&(_s(n,i),El(t,i))}this._attachedToViewContainer=!1}uc(this._lView[K],this._lView)}onDestroy(n){o_(this._lView,n)}markForCheck(){hh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Of(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,Ev(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Tl(this._lView),t=this._lView[ur];t!==null&&!n&&fh(t,this._lView),mv(this._lView[K],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=n;let t=Tl(this._lView),i=this._lView[ur];i!==null&&!t&&Nv(i,this._lView),Of(this._lView)}};var ii=(()=>{class e{static __NG_ELEMENT_ID__=iI}return e})(),tI=ii,nI=class extends tI{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){let r=Ss(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new vs(r)}};function iI(){return pc(ht(),q())}function pc(e,n){return e.type&4?new nI(n,e,Co(e,n)):null}function Ms(e,n,t,i,r){let o=e.data[n];if(o===null)o=rI(e,n,t,i,r),Iw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=Cw();o.injectorIndex=s===null?-1:s.injectorIndex}return _r(o,!0),o}function rI(e,n,t,i,r){let o=a_(),s=Vp(),a=s?o:o&&o.parent,l=e.data[n]=sI(e,a,t,n,i,r);return oI(e,l,o,s),l}function oI(e,n,t,i){e.firstChild===null&&(e.firstChild=n),t!==null&&(i?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function sI(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return s_()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var SU=new RegExp(`^(\\d+)*(${hE}|${pE})*(.*)`);var aI=()=>null;function fo(e,n){return aI(e,n)}var lI=class{},Ov=class{},Xf=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Tt(n)}.`)}},hc=class{static NULL=new Xf},po=class{},hn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>cI()}return e})();function cI(){let e=q(),n=ht(),t=Mn(n.index,e);return(Si(t)?t:e)[Be]}var uI=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>null})}return e})();var mf={},ep=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=Ql(i);let r=this.injector.get(n,mf,i);return r!==mf||t===mf?r:this.parentInjector.get(n,t,i)}};function tp(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=Ef(r,a);else if(o==2){let l=a,d=n[++s];i=Ef(i,l+": "+d+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function C(e,n=ie.Default){let t=q();if(t===null)return P(e,n);let i=ht();return E_(i,t,bt(e),n)}function Pv(){let e="invalid";throw new Error(e)}function mh(e,n,t,i,r){let o=i===null?null:{"":-1},s=r(e,t);if(s!==null){let a,l=null,d=null,p=fI(s);p===null?a=s:[a,l,d]=p,mI(e,n,t,a,o,l,d)}o!==null&&i!==null&&dI(t,i,o)}function dI(e,n,t){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new A(-301,!1);i.push(n[r],o)}}function fI(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Sn(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,pI(s,i,o,r)),s===n&&(i??=[],i.push(s));return i!==null?(i.push(...n===null?e:e.slice(1)),[i,r,o]):null}function pI(e,n,t,i){let r=n.length;e.findHostDirectiveDefs(e,n,i),t.set(e,[r,n.length-1])}function hI(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function mI(e,n,t,i,r,o,s){let a=i.length,l=!1;for(let v=0;v<a;v++){let _=i[v];!l&&Sn(_)&&(l=!0,hI(e,t,v)),Ff(Pl(t,n),e,_.type)}DI(t,e.data.length,a);for(let v=0;v<a;v++){let _=i[v];_.providersResolver&&_.providersResolver(_)}let d=!1,p=!1,m=dv(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let _=i[v];if(t.mergedAttrs=lo(t.mergedAttrs,_.hostAttrs),_I(e,t,n,m,_),bI(m,_,r),s!==null&&s.has(_)){let[T,F]=s.get(_);t.directiveToIndex.set(_.type,[m,T+t.directiveStart,F+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,m);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let E=_.type.prototype;!d&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),d=!0),!p&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),p=!0),m++}gI(e,t,o)}function gI(e,n,t){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=e.data[i];if(t===null||!t.has(r))d0(0,n,r,i),d0(1,n,r,i),p0(n,i,!1);else{let o=t.get(r);f0(0,n,o,i),f0(1,n,o,i),p0(n,i,!0)}}}function d0(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(i),kv(n,o)}}function f0(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),kv(n,s)}}function kv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function p0(e,n,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!t&&r===null||t&&o===null||nh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let d=r[l];for(let p of d)if(p===n){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let d=o[l];for(let p=0;p<d.length;p+=2)if(d[p]===n){s??=[],s.push(d[p+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function _I(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=ar(r.type,!0)),s=new hr(o,Sn(r),C);e.blueprint[i]=s,t[i]=s,vI(e,n,i,dv(e,t,r.hostVars,Bt),r)}function vI(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;yI(s)!=a&&s.push(a),s.push(t,i,o)}}function yI(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function bI(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Sn(n)&&(t[""]=e)}}function DI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Av(e,n,t,i,r,o,s,a){let l=n.consts,d=Mi(l,s),p=Ms(n,e,2,i,d);return o&&mh(n,t,p,Mi(l,a),r),p.mergedAttrs=lo(p.mergedAttrs,p.attrs),p.attrs!==null&&tp(p,p.attrs,!1),p.mergedAttrs!==null&&tp(p,p.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,p),p}function Fv(e,n){zp(e,n),Op(n)&&e.queries.elementEnd(n)}var jl=class extends hc{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Ii(n);return new mr(t,this.ngModule)}};function CI(e){return Object.keys(e).map(n=>{let[t,i,r]=e[n],o={propName:t,templateName:n,isSignal:(i&lc.SignalBased)!==0};return r&&(o.transform=r),o})}function wI(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function EI(e,n,t){let i=n instanceof Xe?n:n?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new ep(t,i):t}function SI(e){let n=e.get(po,null);if(n===null)throw new A(407,!1);let t=e.get(uI,null),i=e.get(co,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:i}}function II(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return av(n,t,t==="svg"?uw:t==="math"?dw:null)}var mr=class extends Ov{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=CI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=wI(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=iS(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,i,r){ge(22);let o=ee(null);try{let s=this.componentDef,a=i?["ng-version","19.2.9"]:rS(this.componentDef.selectors[0]),l=ih(0,null,null,1,0,null,null,null,null,[a],null),d=EI(s,r||this.ngModule,n),p=SI(d),m=p.rendererFactory.createRenderer(null,s),v=i?hS(m,i,s.encapsulation,d):II(s,m),_=rh(null,l,null,512|uv(s),null,null,p,m,d,null,G_(v,d,!0));_[ze]=v,Hp(_);let E=null;try{let T=Av(ze,l,_,"#host",()=>[this.componentDef],!0,0);v&&(cv(m,v,T),Eo(v,_)),cc(l,_,T),Xp(l,T,_),Fv(l,T),t!==void 0&&MI(T,this.ngContentSelectors,t),E=Mn(T.index,_),_[Je]=E[Je],ch(l,_,null)}catch(T){throw E!==null&&$f(E),$f(_),T}finally{ge(23),$p()}return new np(this.componentType,_)}finally{ee(o)}}},np=class extends lI{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Pp(t[K],ze),this.location=Co(this._tNode,t),this.instance=Mn(this._tNode.index,t)[Je],this.hostView=this.changeDetectorRef=new vs(t,void 0,!1),this.componentType=n}setInput(n,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let r=this._rootLView,o=lh(i,r[K],r,n,t);this.previousInputValues.set(n,t);let s=Mn(i.index,r);hh(s,1)}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function MI(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var di=(()=>{class e{static __NG_ELEMENT_ID__=xI}return e})();function xI(){let e=ht();return Vv(e,q())}var TI=di,Lv=class extends TI{_lContainer;_hostTNode;_hostLView;constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){let n=Gp(this._hostTNode,this._hostLView);if(v_(n)){let t=Nl(n,this._hostLView),i=Rl(n),r=t[K].data[i+8];return new or(r,t)}else return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=h0(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=fo(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,uo(this._hostTNode,s)),a}createComponent(n,t,i,r,o){let s=n&&!sw(n),a;if(s)a=t;else{let E=t||{};a=E.index,i=E.injector,r=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}let l=s?n:new mr(Ii(n)),d=i||this.parentInjector;if(!o&&l.ngModule==null){let T=(s?d:this.parentInjector).get(Xe,null);T&&(o=T)}let p=Ii(l.componentType??{}),m=fo(this._lContainer,p?.id??null),v=m?.firstChild??null,_=l.create(d,r,v,o);return this.insertImpl(_.hostView,a,uo(this._hostTNode,m)),_}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(pw(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[ft],d=new Lv(l,l[Nt],l[ft]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Is(s,r,o,i),n.attachToViewContainerRef(),U0(gf(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=h0(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=_s(this._lContainer,t);i&&(El(gf(this._lContainer),t),uc(i[K],i))}detach(n){let t=this._adjustIndex(n,-1),i=_s(this._lContainer,t);return i&&El(gf(this._lContainer),t)!=null?new vs(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function h0(e){return e[xl]}function gf(e){return e[xl]||(e[xl]=[])}function Vv(e,n){let t,i=n[e.index];return si(i)?t=i:(t=xv(i,n,null,e),n[e.index]=t,oh(n,t)),NI(t,n,e,i),new Lv(t,e,n)}function RI(e,n){let t=e[Be],i=t.createComment(""),r=Rn(n,e),o=t.parentNode(r);return Ll(t,o,i,t.nextSibling(r),!1),i}var NI=kI,OI=()=>!1;function PI(e,n,t){return OI(e,n,t)}function kI(e,n,t,i){if(e[dr])return;let r;t.type&8?r=In(i):r=RI(n,t),e[dr]=r}var ip=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},rp=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)gh(n,t).matches!==null&&this.queries[t].setDirty()}},Bl=class{flags;read;predicate;constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=HI(n):this.predicate=n}},op=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},sp=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,AI(t,o)),this.matchTNodeWithReadOption(n,t,vl(t,n,o,!1,!1))}else i===ii?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,vl(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ge||r===di||r===ii&&t.type&4)this.addMatch(t.index,-2);else{let o=vl(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function AI(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function FI(e,n){return e.type&11?Co(e,n):e.type&4?pc(e,n):null}function LI(e,n,t,i){return t===-1?FI(n,e):t===-2?VI(e,n,i):gs(e,e[K],t,n)}function VI(e,n,t){if(t===Ge)return Co(n,e);if(t===ii)return pc(n,e);if(t===di)return Vv(n,e)}function jv(e,n,t,i){let r=n[ti].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let p=o[d];a.push(LI(n,p,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function ap(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=jv(e,n,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let d=o[a+1],p=n[-l];for(let m=dt;m<p.length;m++){let v=p[m];v[ur]===v[ft]&&ap(v[K],v,d,i)}if(p[ao]!==null){let m=p[ao];for(let v=0;v<m.length;v++){let _=m[v];ap(_[K],_,d,i)}}}}}return i}function jI(e,n){return e[ti].queries[n].queryList}function Bv(e,n,t){let i=new Hf((t&4)===4);return gw(e,n,i,i.destroy),(n[ti]??=new rp).queries.push(new ip(i))-1}function BI(e,n,t){let i=Ue();return i.firstCreatePass&&(Uv(i,new Bl(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),Bv(i,q(),n)}function UI(e,n,t,i){let r=Ue();if(r.firstCreatePass){let o=ht();Uv(r,new Bl(n,t,i),o.index),$I(r,e),(t&2)===2&&(r.staticContentQueries=!0)}return Bv(r,q(),t)}function HI(e){return e.split(",").map(n=>n.trim())}function Uv(e,n,t){e.queries===null&&(e.queries=new op),e.queries.track(new sp(n,t))}function $I(e,n){let t=e.contentQueries||(e.contentQueries=[]),i=t.length?t[t.length-1]:-1;n!==i&&t.push(e.queries.length-1,n)}function gh(e,n){return e.queries.getByIndex(n)}function qI(e,n){let t=e[K],i=gh(t,n);return i.crossesNgTemplate?ap(t,e,n,[]):jv(t,e,i,n)}var ho=class{},_h=class{};var lp=class extends ho{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jl(this);constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t;let o=q0(n);this._bootstrapComponents=rv(o.bootstrap),this._r3Injector=M_(n,t,[{provide:ho,useValue:this},{provide:hc,useValue:this.componentFactoryResolver},...i],Tt(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},cp=class extends _h{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new lp(this.moduleType,n,[])}};var Ul=class extends ho{injector;componentFactoryResolver=new jl(this);instance=null;constructor(n){super();let t=new hs([...n.providers,{provide:ho,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],n.parent||Kl(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function xs(e,n,t=null){return new Ul({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var zI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=z0(!1,t.type),r=i.length>0?xs([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(P(Xe))})}return e})();function V(e){return Ds(()=>{let n=Hv(e),t=H(I({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===F_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(zI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Tn.Emulated,styles:e.styles||xt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Ti("NgStandalone"),$v(t);let i=e.dependencies;return t.directiveDefs=m0(i,!1),t.pipeDefs=m0(i,!0),t.id=ZI(t),t})}function GI(e){return Ii(e)||WC(e)}function WI(e){return e!==null}function ue(e){return Ds(()=>({type:e.type,bootstrap:e.bootstrap||xt,declarations:e.declarations||xt,imports:e.imports||xt,exports:e.exports||xt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function YI(e,n){if(e==null)return lr;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=lc.None,l=null),t[o]=[i,a,l],n[o]=s}return t}function QI(e){if(e==null)return lr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function de(e){return Ds(()=>{let n=Hv(e);return $v(n),n})}function mc(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Hv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||lr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||xt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YI(e.inputs,n),outputs:QI(e.outputs),debugInfo:null}}function $v(e){e.features?.forEach(n=>n(e))}function m0(e,n){if(!e)return null;let t=n?YC:GI;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(WI)}function ZI(e){let n=0,t=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function KI(e){return Object.getPrototypeOf(e.prototype).constructor}function st(e){let n=KI(e.type),t=!0,i=[e];for(;n;){let r;if(Sn(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new A(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let s=e;s.inputs=_f(e.inputs),s.declaredInputs=_f(e.declaredInputs),s.outputs=_f(e.outputs);let a=r.hostBindings;a&&nM(e,a);let l=r.viewQuery,d=r.contentQueries;if(l&&eM(e,l),d&&tM(e,d),JI(e,r),wC(e.outputs,r.outputs),Sn(r)&&r.data.animation){let p=e.data;p.animation=(p.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===st&&(t=!1)}}n=Object.getPrototypeOf(n)}XI(i)}function JI(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t])}}function XI(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=lo(r.hostAttrs,t=lo(t,r.hostAttrs))}}function _f(e){return e===lr?{}:e===xt?[]:e}function eM(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function tM(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function nM(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}function qv(e){return rM(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function iM(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),i;for(;!(i=t.next()).done;)n(i.value)}}function rM(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Ts(e,n,t){return e[n]=t}function oM(e,n){return e[n]}function en(e,n,t){let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function ys(e,n,t,i){let r=en(e,n,t);return en(e,n+1,i)||r}function sM(e,n,t,i,r){let o=ys(e,n,t,i);return en(e,n+2,r)||o}function aM(e,n,t,i,r,o){let s=ys(e,n,t,i);return ys(e,n+2,r,o)||s}function lM(e,n,t,i,r,o,s,a,l){let d=n.consts,p=Ms(n,e,4,s||null,a||null);Lp()&&mh(n,t,p,Mi(d,l),ah),p.mergedAttrs=lo(p.mergedAttrs,p.attrs),zp(n,p);let m=p.tView=ih(2,p,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return n.queries!==null&&(n.queries.template(n,p),m.queries=n.queries.embeddedTView(p)),p}function Hl(e,n,t,i,r,o,s,a,l,d){let p=t+ze,m=n.firstCreatePass?lM(p,n,e,i,r,o,s,a,l):n.data[p];_r(m,!1);let v=cM(n,e,m,t);nc()&&dc(n,e,v,m),Eo(v,e);let _=xv(v,e,v,m);return e[p]=_,oh(e,_),PI(_,m,e),Xl(m)&&cc(n,e,m),l!=null&&sh(e,m,d),m}function D(e,n,t,i,r,o,s,a){let l=q(),d=Ue(),p=Mi(d.consts,o);return Hl(l,d,e,n,t,i,r,p,s,a),D}var cM=uM;function uM(e,n,t,i){return ic(!0),n[Be].createComment("")}var zv=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Gv=new k("");var dM=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new up})}return e})(),up=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,i=this.queues.get(t);i.has(n)&&(i.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function vr(e){return!!e&&typeof e.then=="function"}function Wv(e){return!!e&&typeof e.subscribe=="function"}var Yv=new k("");function vh(e){return go([{provide:Yv,multi:!0,useValue:e}])}var Qv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=b(Yv,{optional:!0})??[];injector=b(ot);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=Rt(this.injector,r);if(vr(o))t.push(o);else if(Wv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gc=new k("");function fM(){Bd(()=>{throw new A(600,!1)})}function pM(e){return e.isBoundToModule}var hM=10;var ri=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(nE);afterRenderManager=b(z_);zonelessEnabled=b(Wp);rootEffectScheduler=b(dM);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ae;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(li).hasPendingTasks.pipe(Z(t=>!t));constructor(){b(So,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=b(Xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=ot.NULL){ge(10);let o=t instanceof Ov;if(!this._injector.get(Qv).done){let _="";throw new A(405,_)}let a;o?a=t:a=this._injector.get(hc).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=pM(a)?void 0:this._injector.get(ho),d=i||a.selector,p=a.create(r,[],d,l),m=p.location.nativeElement,v=p.injector.get(Gv,null);return v?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),yl(this.components,p),v?.unregisterApplication(m)}),this._loadComponent(p),ge(11,p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new A(101,!1);let t=ee(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(po,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<hM;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)mM(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>tc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;yl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(gc,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new A(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yl(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function mM(e,n,t,i){if(!t&&!tc(e))return;Ev(e,n,t&&!i?0:1)}function Ri(e,n,t,i){let r=q(),o=bo();if(en(r,o,n)){let s=Ue(),a=qp();CS(a,r,e,n,t,i)}return Ri}function gM(e,n,t,i){return en(e,bo(),t)?n+sr(t)+i:Bt}function _M(e,n,t,i,r,o){let s=Ew(),a=ys(e,s,t,r);return Bp(2),a?n+sr(t)+i+sr(r)+o:Bt}function hl(e,n){return e<<17|n<<2}function gr(e){return e>>17&32767}function vM(e){return(e&2)==2}function yM(e,n){return e&131071|n<<17}function dp(e){return e|2}function mo(e){return(e&131068)>>2}function vf(e,n){return e&-131069|n<<2}function bM(e){return(e&1)===1}function fp(e){return e|1}function DM(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=gr(s),l=mo(s);e[i]=t;let d=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||Cs(m,p)>0)&&(d=!0)}else p=t;if(r)if(l!==0){let v=gr(e[a+1]);e[i+1]=hl(v,a),v!==0&&(e[v+1]=vf(e[v+1],i)),e[a+1]=yM(e[a+1],i)}else e[i+1]=hl(a,0),a!==0&&(e[a+1]=vf(e[a+1],i)),a=i;else e[i+1]=hl(l,0),a===0?a=i:e[l+1]=vf(e[l+1],i),l=i;d&&(e[i+1]=dp(e[i+1])),g0(e,p,i,!0),g0(e,p,i,!1),CM(n,p,e,i,o),s=hl(a,l),o?n.classBindings=s:n.styleBindings=s}function CM(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Cs(o,n)>=0&&(t[i+1]=fp(t[i+1]))}function g0(e,n,t,i){let r=e[t+1],o=n===null,s=i?gr(r):mo(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],d=e[s+1];wM(l,n)&&(a=!0,e[s+1]=i?fp(d):dp(d)),s=i?gr(d):mo(d)}a&&(e[t+1]=i?dp(r):fp(r))}function wM(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Cs(e,n)>=0:!1}var fn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function EM(e){return e.substring(fn.key,fn.keyEnd)}function SM(e){return IM(e),Zv(e,Kv(e,0,fn.textEnd))}function Zv(e,n){let t=fn.textEnd;return t===n?-1:(n=fn.keyEnd=MM(e,fn.key=n,t),Kv(e,n,t))}function IM(e){fn.key=0,fn.keyEnd=0,fn.value=0,fn.valueEnd=0,fn.textEnd=e.length}function Kv(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function MM(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function g(e,n,t){let i=q(),r=bo();if(en(i,r,n)){let o=Ue(),s=qp();hv(o,s,i,e,n,i[Be],t,!1)}return g}function pp(e,n,t,i,r){lh(n,e,t,r?"class":"style",i)}function mt(e,n){return TM(e,n,null,!0),mt}function _c(e){RM(FM,xM,e,!0)}function xM(e,n){for(let t=SM(n);t>=0;t=Zv(n,t))Rp(e,EM(n),!0)}function TM(e,n,t,i){let r=q(),o=Ue(),s=Bp(2);if(o.firstUpdatePass&&Xv(o,e,s,i),n!==Bt&&en(r,s,n)){let a=o.data[ai()];ey(o,a,r,r[Be],e,r[s+1]=VM(n,t),i,s)}}function RM(e,n,t,i){let r=Ue(),o=Bp(2);r.firstUpdatePass&&Xv(r,null,o,i);let s=q();if(t!==Bt&&en(s,o,t)){let a=r.data[ai()];if(ty(a,i)&&!Jv(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Ef(l,t||"")),pp(r,a,s,t,i)}else LM(r,a,s,s[Be],s[o+1],s[o+1]=AM(e,n,t),i,o)}}function Jv(e,n){return n>=e.expandoStartIndex}function Xv(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[ai()],s=Jv(e,t);ty(o,i)&&n===null&&!s&&(n=!1),n=NM(r,o,n,i),DM(r,o,n,t,s,i)}}function NM(e,n,t,i){let r=Tw(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=yf(null,e,n,t,i),t=bs(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=yf(r,e,n,t,i),o===null){let l=OM(e,n,i);l!==void 0&&Array.isArray(l)&&(l=yf(null,e,n,l[1],i),l=bs(l,n.attrs,i),PM(e,n,i,l))}else o=kM(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function OM(e,n,t){let i=t?n.classBindings:n.styleBindings;if(mo(i)!==0)return e[gr(i)]}function PM(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[gr(r)]=i}function kM(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=bs(i,s,t)}return bs(i,n.attrs,t)}function yf(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=bs(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function bs(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Rp(e,s,t?!0:n[++o]))}return e===void 0?null:e}function AM(e,n,t){if(t==null||t==="")return xt;let i=[],r=Mo(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function FM(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&Rp(e,i,t)}function LM(e,n,t,i,r,o,s,a){r===Bt&&(r=xt);let l=0,d=0,p=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;p!==null||m!==null;){let v=l<r.length?r[l+1]:void 0,_=d<o.length?o[d+1]:void 0,E=null,T;p===m?(l+=2,d+=2,v!==_&&(E=m,T=_)):m===null||p!==null&&p<m?(l+=2,E=p):(d+=2,E=m,T=_),E!==null&&ey(e,n,t,i,E,T,s,a),p=l<r.length?r[l]:null,m=d<o.length?o[d]:null}}function ey(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let l=e.data,d=l[a+1],p=bM(d)?_0(l,n,t,r,mo(d),s):void 0;if(!$l(p)){$l(o)||vM(d)&&(o=_0(l,null,t,r,a,s));let m=n_(ai(),t);BS(i,s,m,r,o)}}function _0(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let l=e[r],d=Array.isArray(l),p=d?l[1]:l,m=p===null,v=t[r+1];v===Bt&&(v=m?xt:void 0);let _=m?cf(v,i):p===i?v:void 0;if(d&&!$l(_)&&(_=cf(l,i)),$l(_)&&(a=_,s))return a;let E=e[r+1];r=s?gr(E):mo(E)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=cf(l,i))}return a}function $l(e){return e!==void 0}function VM(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Tt(Mo(e)))),e}function ty(e,n){return(e.flags&(n?8:16))!==0}var hp=class{destroy(n){}updateValue(n,t){}swap(n,t){let i=Math.min(n,t),r=Math.max(n,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,t){this.attach(t,this.detach(n))}};function bf(e,n,t,i,r){return e===t&&Object.is(n,i)?1:Object.is(r(e,n),r(t,i))?-1:0}function jM(e,n,t){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=s&&o<=l;){let d=e.at(o),p=n[o],m=bf(o,d,o,p,t);if(m!==0){m<0&&e.updateValue(o,p),o++;continue}let v=e.at(s),_=n[l],E=bf(s,v,l,_,t);if(E!==0){E<0&&e.updateValue(s,_),s--,l--;continue}let T=t(o,d),F=t(s,v),G=t(o,p);if(Object.is(G,F)){let nt=t(l,_);Object.is(nt,T)?(e.swap(o,s),e.updateValue(s,_),l--,s--):e.move(s,o),e.updateValue(o,p),o++;continue}if(i??=new ql,r??=y0(e,o,s,t),mp(e,i,o,G))e.updateValue(o,p),o++,s++;else if(r.has(G))i.set(T,e.detach(o)),s--;else{let nt=e.create(o,n[o]);e.attach(o,nt),o++,s++}}for(;o<=l;)v0(e,i,t,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),d=l.next();for(;!d.done&&o<=s;){let p=e.at(o),m=d.value,v=bf(o,p,o,m,t);if(v!==0)v<0&&e.updateValue(o,m),o++,d=l.next();else{i??=new ql,r??=y0(e,o,s,t);let _=t(o,m);if(mp(e,i,o,_))e.updateValue(o,m),o++,s++,d=l.next();else if(!r.has(_))e.attach(o,e.create(o,m)),o++,s++,d=l.next();else{let E=t(o,p);i.set(E,e.detach(o)),s--}}}for(;!d.done;)v0(e,i,t,e.length,d.value),d=l.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(l=>{e.destroy(l)})}function mp(e,n,t,i){return n!==void 0&&n.has(i)?(e.attach(t,n.get(i)),n.delete(i),!0):!1}function v0(e,n,t,i,r){if(mp(e,n,i,t(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function y0(e,n,t,i){let r=new Set;for(let o=n;o<=t;o++)r.add(i(o,e.at(o)));return r}var ql=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,i]of this.kvMap)if(n(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,t)}}};function fe(e,n){Ti("NgControlFlow");let t=q(),i=bo(),r=t[i]!==Bt?t[i]:-1,o=r!==-1?zl(t,ze+r):void 0,s=0;if(en(t,i,e)){let a=ee(null);try{if(o!==void 0&&Rv(o,s),e!==-1){let l=ze+e,d=zl(t,l),p=yp(t[K],l),m=fo(d,p.tView.ssrId),v=Ss(t,p,n,{dehydratedView:m});Is(d,v,s,uo(p,m))}}finally{ee(a)}}else if(o!==void 0){let a=Tv(o,s);a!==void 0&&(a[Je]=n)}}var gp=class{lContainer;$implicit;$index;constructor(n,t,i){this.lContainer=n,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-dt}};function Rs(e,n){return n}var _p=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,i){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=i}};function yr(e,n,t,i,r,o,s,a,l,d,p,m,v){Ti("NgControlFlow");let _=q(),E=Ue(),T=l!==void 0,F=q(),G=a?s.bind(F[jt][Je]):s,nt=new _p(T,G);F[ze+e]=nt,Hl(_,E,e+1,n,t,i,r,Mi(E.consts,o)),T&&Hl(_,E,e+2,l,d,p,m,Mi(E.consts,v))}var vp=class extends hp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,i){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-dt}at(n){return this.getLView(n)[Je].$implicit}attach(n,t){let i=t[so];this.needsIndexUpdate||=n!==this.length,Is(this.lContainer,t,n,uo(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,BM(this.lContainer,n)}create(n,t){let i=fo(this.lContainer,this.templateTNode.tView.ssrId),r=Ss(this.hostLView,this.templateTNode,new gp(this.lContainer,t,n),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(n){uc(n[K],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[Je].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Je].$index=n}getLView(n){return UM(this.lContainer,n)}};function br(e){let n=ee(null),t=ai();try{let i=q(),r=i[K],o=i[t],s=t+1,a=zl(i,s);if(o.liveCollection===void 0){let d=yp(r,s);o.liveCollection=new vp(a,i,d)}else o.liveCollection.reset();let l=o.liveCollection;if(jM(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let d=bo(),p=l.length===0;if(en(i,d,p)){let m=t+2,v=zl(i,m);if(p){let _=yp(r,m),E=fo(v,_.tView.ssrId),T=Ss(i,_,void 0,{dehydratedView:E});Is(v,T,0,uo(_,E))}else Rv(v,0)}}}finally{ee(n)}}function zl(e,n){return e[n]}function BM(e,n){return _s(e,n)}function UM(e,n){return Tv(e,n)}function yp(e,n){return Pp(e,n)}function u(e,n,t,i){let r=q(),o=Ue(),s=ze+e,a=r[Be],l=o.firstCreatePass?Av(s,o,r,n,ah,Lp(),t,i):o.data[s],d=HM(o,r,l,a,n,e);r[s]=d;let p=Xl(l);return _r(l,!0),cv(a,d,l),!dh(l)&&nc()&&dc(o,r,d,l),(_w()===0||p)&&Eo(d,r),vw(),p&&(cc(o,r,l),Xp(o,l,r)),i!==null&&sh(r,l),u}function c(){let e=ht();Vp()?jp():(e=e.parent,_r(e,!1));let n=e;bw(n)&&Dw(),yw();let t=Ue();return t.firstCreatePass&&Fv(t,n),n.classesWithoutHost!=null&&Aw(n)&&pp(t,n,q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Fw(n)&&pp(t,n,q(),n.stylesWithoutHost,!1),c}function S(e,n,t,i){return u(e,n,t,i),c(),S}var HM=(e,n,t,i,r,o)=>(ic(!0),av(i,r,Ow()));function $M(e,n,t,i,r){let o=n.consts,s=Mi(o,i),a=Ms(n,e,8,"ng-container",s);s!==null&&tp(a,s,!0);let l=Mi(o,r);return Lp()&&mh(n,t,a,l,ah),a.mergedAttrs=lo(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function Nn(e,n,t){let i=q(),r=Ue(),o=e+ze,s=r.firstCreatePass?$M(o,r,i,n,t):r.data[o];_r(s,!0);let a=qM(r,i,s,e);return i[o]=a,nc()&&dc(r,i,a,s),Eo(a,i),Xl(s)&&(cc(r,i,s),Xp(r,s,i)),t!=null&&sh(i,s),Nn}function On(){let e=ht(),n=Ue();return Vp()?jp():(e=e.parent,_r(e,!1)),n.firstCreatePass&&(zp(n,e),Op(e)&&n.queries.elementEnd(e)),On}var qM=(e,n,t,i)=>(ic(!0),aS(n[Be],""));function ne(){return q()}var ir=void 0;function zM(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var GM=["en",[["a","p"],["AM","PM"],ir],[["AM","PM"],ir,ir],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ir,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ir,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ir,"{1} 'at' {0}",ir],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",zM],Df={};function Ot(e){let n=WM(e),t=b0(n);if(t)return t;let i=n.split("-")[0];if(t=b0(i),t)return t;if(i==="en")return GM;throw new A(701,!1)}function b0(e){return e in Df||(Df[e]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[e]),Df[e]}var ke=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ke||{});function WM(e){return e.toLowerCase().replace(/_/g,"-")}var Gl="en-US",YM="USD";var QM=Gl;function ZM(e){typeof e=="string"&&(QM=e.toLowerCase().replace(/_/g,"-"))}function D0(e,n,t){return function i(r){if(r===Function)return t;let o=vo(e)?Mn(e.index,n):n;hh(o,5);let s=n[Je],a=C0(n,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=C0(n,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function C0(e,n,t,i){let r=ee(null);try{return ge(6,n,t),t(i)!==!1}catch(o){return KM(e,o),!1}finally{ge(7,n,t),ee(r)}}function KM(e,n){let t=e[cr],i=t?t.get(xn,null):null;i&&i.handleError(n)}function w0(e,n,t,i,r,o){let s=n[t],a=n[K],d=a.data[t].outputs[i],p=s[d],m=a.firstCreatePass?Fp(a):null,v=Ap(n),_=p.subscribe(o),E=v.length;v.push(o,_),m&&m.push(r,e.index,E,-(E+1))}var JM=new Map;function M(e,n,t,i){let r=q(),o=Ue(),s=ht();return ny(o,r,r[Be],s,e,n,i),M}function XM(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[Il],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function ny(e,n,t,i,r,o,s){let a=Xl(i),d=e.firstCreatePass?Fp(e):null,p=Ap(n),m=!0;if(i.type&3||s){let v=Rn(i,n),_=s?s(v):v,E=p.length,T=s?G=>s(In(G[i.index])):i.index,F=null;if(!s&&a&&(F=XM(e,n,r,i.index)),F!==null){let G=F.__ngLastListenerFn__||F;G.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,m=!1}else{o=D0(i,n,o);let G=n[cr].get(oc);JM.get(G)?.(_,r,o);let Te=t.listen(_,r,o);p.push(o,Te),d&&d.push(r,T,E,E+1)}}else o=D0(i,n,o);if(m){let v=i.outputs?.[r],_=i.hostDirectiveOutputs?.[r];if(_&&_.length)for(let E=0;E<_.length;E+=2){let T=_[E],F=_[E+1];w0(i,n,T,F,r,o)}if(v&&v.length)for(let E of v)w0(i,n,E,r,r,o)}}function y(e=1){return Nw(e)}function ex(e,n){let t=null,i=JE(e);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){t=r;continue}if(i===null?sv(e,o,!0):tS(i,o))return r}return t}function iy(e){let n=q()[jt][Nt];if(!n.projection){let t=e?e.length:1,i=n.projection=qC(t,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=e?ex(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function ry(e,n=0,t,i,r,o){let s=q(),a=Ue(),l=i?e+1:null;l!==null&&Hl(s,a,l,i,r,o,null,t);let d=Ms(a,ze+e,16,null,t||null);d.projection===null&&(d.projection=n),jp();let m=!s[so]||s_();s[jt][Nt].projection[d.projection]===null&&l!==null?tx(s,a,l):m&&!dh(d)&&VS(a,s,d)}function tx(e,n,t){let i=ze+t,r=n.data[i],o=e[i],s=fo(o,r.tView.ssrId),a=Ss(e,r,void 0,{dehydratedView:s});Is(o,a,0,uo(r,s))}function yh(e,n,t,i){UI(e,n,t,i)}function fi(e,n,t){BI(e,n,t)}function mn(e){let n=q(),t=Ue(),i=c_();Up(i+1);let r=gh(t,i);if(e.dirty&&fw(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=qI(n,i);e.reset(o,oE),e.notifyOnChanges()}return!0}return!1}function gn(){return jI(q(),c_())}function nx(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function Ns(e){let n=ww();return ec(n,ze+e)}function f(e,n=""){let t=q(),i=Ue(),r=e+ze,o=i.firstCreatePass?Ms(i,r,1,n,null):i.data[r],s=ix(i,t,o,n,e);t[r]=s,nc()&&dc(i,t,s,o),_r(o,!1)}var ix=(e,n,t,i,r)=>(ic(!0),oS(n[Be],i));function O(e){return j("",e,""),O}function j(e,n,t){let i=q(),r=gM(i,e,n,t);return r!==Bt&&oy(i,ai(),r),j}function Os(e,n,t,i,r){let o=q(),s=_M(o,e,n,t,i,r);return s!==Bt&&oy(o,ai(),s),Os}function oy(e,n,t){let i=n_(n,e);sS(e[Be],i,t)}function we(e,n,t){k_(n)&&(n=n());let i=q(),r=bo();if(en(i,r,n)){let o=Ue(),s=qp();hv(o,s,i,e,n,i[Be],t,!1)}return we}function xe(e,n){let t=k_(e);return t&&e.set(n),t}function Ee(e,n){let t=q(),i=Ue(),r=ht();return ny(i,t,t[Be],r,e,n),Ee}function rx(e,n,t){let i=Ue();if(i.firstCreatePass){let r=Sn(e);bp(t,i.data,i.blueprint,r,!0),bp(n,i.data,i.blueprint,r,!1)}}function bp(e,n,t,i,r){if(e=bt(e),Array.isArray(e))for(let o=0;o<e.length;o++)bp(e[o],n,t,i,r);else{let o=Ue(),s=q(),a=ht(),l=oo(e)?e:bt(e.provide),d=Y0(e),p=a.providerIndexes&1048575,m=a.directiveStart,v=a.providerIndexes>>20;if(oo(e)||!e.multi){let _=new hr(d,r,C),E=wf(l,n,r?p:p+v,m);E===-1?(Ff(Pl(a,s),o,l),Cf(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[E]=_,s[E]=_)}else{let _=wf(l,n,p+v,m),E=wf(l,n,p,p+v),T=_>=0&&t[_],F=E>=0&&t[E];if(r&&!F||!r&&!T){Ff(Pl(a,s),o,l);let G=ax(r?sx:ox,t.length,r,i,d);!r&&F&&(t[E].providerFactory=G),Cf(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(G),s.push(G)}else{let G=sy(t[r?E:_],d,!r&&i);Cf(o,e,_>-1?_:E,G)}!r&&i&&F&&t[E].componentProviders++}}}function Cf(e,n,t,i){let r=oo(n),o=XC(n);if(r||o){let l=(o?bt(n.useClass):n).prototype.ngOnDestroy;if(l){let d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let p=d.indexOf(t);p===-1?d.push(t,[i,l]):d[p+1].push(i,l)}else d.push(t,l)}}}function sy(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function wf(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function ox(e,n,t,i){return Dp(this.multi,[])}function sx(e,n,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=gs(t,t[K],this.providerFactory.index,i);o=a.slice(0,s),Dp(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Dp(r,o);return o}function Dp(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function ax(e,n,t,i,r){let o=new hr(e,t,C);return o.multi=[],o.index=n,o.componentProviders=0,sy(o,r,i&&!t),o}function Pt(e,n=[]){return t=>{t.providersResolver=(i,r)=>rx(i,r?r(e):e,n)}}function Pn(e,n,t){let i=xi()+e,r=q();return r[i]===Bt?Ts(r,i,t?n.call(t):n()):oM(r,i)}function kt(e,n,t,i){return ly(q(),xi(),e,n,t,i)}function Ps(e,n,t,i,r){return cy(q(),xi(),e,n,t,i,r)}function ks(e,n,t,i,r,o){return uy(q(),xi(),e,n,t,i,r,o)}function ay(e,n,t,i,r,o,s){return lx(q(),xi(),e,n,t,i,r,o,s)}function vc(e,n){let t=e[n];return t===Bt?void 0:t}function ly(e,n,t,i,r,o){let s=n+t;return en(e,s,r)?Ts(e,s+1,o?i.call(o,r):i(r)):vc(e,s+1)}function cy(e,n,t,i,r,o,s){let a=n+t;return ys(e,a,r,o)?Ts(e,a+2,s?i.call(s,r,o):i(r,o)):vc(e,a+2)}function uy(e,n,t,i,r,o,s,a){let l=n+t;return sM(e,l,r,o,s)?Ts(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):vc(e,l+3)}function lx(e,n,t,i,r,o,s,a,l){let d=n+t;return aM(e,d,r,o,s,a)?Ts(e,d+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):vc(e,d+4)}function gt(e,n){let t=Ue(),i,r=e+ze;t.firstCreatePass?(i=cx(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=ar(i.type,!0)),s,a=Mt(C);try{let l=Ol(!1),d=o();return Ol(l),nx(t,q(),r,d),d}finally{Mt(a)}}function cx(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function bh(e,n,t){let i=e+ze,r=q(),o=ec(r,i);return Dh(r,i)?ly(r,xi(),n,o.transform,t,o):o.transform(t)}function rn(e,n,t,i){let r=e+ze,o=q(),s=ec(o,r);return Dh(o,r)?cy(o,xi(),n,s.transform,t,i,s):s.transform(t,i)}function dy(e,n,t,i,r){let o=e+ze,s=q(),a=ec(s,o);return Dh(s,o)?uy(s,xi(),n,a.transform,t,i,r,a):a.transform(t,i,r)}function Dh(e,n){return e[K].data[n].pure}function As(e,n){return pc(e,n)}var Cp=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},fy=(()=>{class e{compileModuleSync(t){return new cp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=q0(t),o=rv(r.declarations).reduce((s,a)=>{let l=Ii(a);return l&&s.push(new mr(l)),s},[]);return new Cp(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ux=(()=>{class e{zone=b(Ce);changeDetectionScheduler=b(co);applicationRef=b(ri);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dx=new k("",{factory:()=>!1});function py({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Ce(H(I({},my()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:e},{provide:ps,multi:!0,useFactory:()=>{let i=b(ux,{optional:!0});return()=>i.initialize()}},{provide:ps,multi:!0,useFactory:()=>{let i=b(fx);return()=>{i.initialize()}}},n===!0?{provide:T_,useValue:!0}:[],{provide:R_,useValue:t??x_}]}function hy(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,i=py({ngZoneFactory:()=>{let r=my(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Ti("NgZone_CoalesceEvent"),new Ce(r)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return go([{provide:dx,useValue:!0},{provide:Wp,useValue:!1},i])}function my(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var fx=(()=>{class e{subscription=new Fe;initialized=!1;zone=b(Ce);pendingTasks=b(li);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var px=(()=>{class e{appRef=b(ri);taskService=b(li);ngZone=b(Ce);zonelessEnabled=b(Wp);tracing=b(So,{optional:!0});disableScheduling=b(T_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Al):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(R_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Zg:N_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Al+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hx(){return typeof $localize<"u"&&$localize.locale||Gl}var xo=new k("",{providedIn:"root",factory:()=>b(xo,ie.Optional|ie.SkipSelf)||hx()}),gy=new k("",{providedIn:"root",factory:()=>YM});var wp=new k(""),mx=new k("");function cs(e){return!e.moduleRef}function gx(e){let n=cs(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Ce);return t.run(()=>{cs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(xn,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),cs(e)){let o=()=>n.destroy(),s=e.platformInjector.get(wp);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(wp);s.add(o),e.moduleRef.onDestroy(()=>{yl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return vx(i,t,()=>{let o=n.get(Qv);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(xo,Gl);if(ZM(s||Gl),!n.get(mx,!0))return cs(e)?n.get(ri):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(cs(e)){let l=n.get(ri);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return _x(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function _x(e,n){let t=e.injector.get(ri);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new A(-403,!1);n.push(e)}function vx(e,n,t){try{let i=t();return vr(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}var bl=null;function yx(e=[],n){return ot.create({name:n,providers:[{provide:Zl,useValue:"platform"},{provide:wp,useValue:new Set([()=>bl=null])},...e]})}function bx(e=[]){if(bl)return bl;let n=yx(e);return bl=n,fM(),Dx(n),n}function Dx(e){let n=e.get(Zp,null);Rt(e,()=>{n?.forEach(t=>t())})}var kn=(()=>{class e{static __NG_ELEMENT_ID__=Cx}return e})();function Cx(e){return wx(ht(),q(),(e&16)===16)}function wx(e,n,t){if(vo(e)&&!t){let i=Mn(e.index,n);return new vs(i,i)}else if(e.type&175){let i=n[jt];return new vs(i,n)}return null}var Ep=class{constructor(){}supports(n){return qv(n)}create(n){return new Sp(n)}},Ex=(e,n)=>n,Sp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||Ex}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<E0(i,r,o)?t:i,a=E0(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,p=l-r;if(d!=p){for(let v=0;v<d;v++){let _=v<o.length?o[v]:o[v]=0,E=_+v;p<=E&&E<d&&(o[v]=_+1)}let m=s.previousIndex;o[m]=p-d}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!qv(n))throw new A(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,iM(n,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new Ip(t,i),o,r)),n}_verifyReinsertion(n,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){let r=t===null?this._itHead:t._next;return n._next=r,n._prev=t,r===null?this._itTail=n:r._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Wl),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,i=n._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Ip=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},Mp=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let t=n._prevDup,i=n._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Wl=class{map=new Map;put(n){let t=n.trackById,i=this.map.get(t);i||(i=new Mp,this.map.set(t,i)),i.add(n)}get(n,t){let i=n,r=this.map.get(i);return r?r.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function E0(e,n,t){let i=e.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function S0(){return new Ch([new Ep])}var Ch=(()=>{class e{factories;static \u0275prov=x({token:e,providedIn:"root",factory:S0});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||S0()),deps:[[e,new UC,new BC]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new A(901,!1)}}return e})();function _y(e){ge(8);try{let{rootComponent:n,appProviders:t,platformProviders:i}=e,r=bx(i),o=[py({}),{provide:co,useExisting:px},...t||[]],s=new Ul({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return gx({r3Injector:s.injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}finally{ge(9)}}function Ni(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function An(e){return $d(e)}function To(e,n){return jd(e,n?.equal)}var I0=class{[Kt];constructor(n){this[Kt]=n}destroy(){this[Kt].destroy()}};function yc(e,n){let t=Ii(e),i=n.elementInjector||Kl();return new mr(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function vy(e){let n=Ii(e);if(!n)return null;let t=new mr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Ne=new k("");var Dy=null;function on(){return Dy}function wh(e){Dy??=e}var Fs=class{},Ls=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(Cy),providedIn:"platform"})}return e})(),Eh=new k(""),Cy=(()=>{class e extends Ls{_location;_history;_doc=b(Ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return on().getBaseHref(this._doc)}onPopState(t){let i=on().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=on().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function bc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function yy(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function _n(e){return e&&e[0]!=="?"?`?${e}`:e}var vn=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(Cc),providedIn:"root"})}return e})(),Dc=new k(""),Cc=(()=>{class e extends vn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bc(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+_n(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+_n(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+_n(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(P(Ls),P(Dc,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Oi=(()=>{class e{_subject=new ae;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=Mx(yy(by(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+_n(i))}normalize(t){return e.stripTrailingSlash(Ix(this._basePath,by(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_n(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_n(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=_n;static joinWithSlash=bc;static stripTrailingSlash=yy;static \u0275fac=function(i){return new(i||e)(P(vn))};static \u0275prov=x({token:e,factory:()=>Sx(),providedIn:"root"})}return e})();function Sx(){return new Oi(P(vn))}function Ix(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function by(e){return e.replace(/\/index.html$/,"")}function Mx(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Nh=(()=>{class e extends vn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=bc(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+_n(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+_n(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(P(Ls),P(Dc,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Ty={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Oh=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Oh||{});var _t=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(_t||{}),_e=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(_e||{}),At=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(At||{}),Ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ry(e){return Ot(e)[ke.LocaleId]}function Ny(e,n,t){let i=Ot(e),r=[i[ke.DayPeriodsFormat],i[ke.DayPeriodsStandalone]],o=sn(r,n);return sn(o,t)}function Oy(e,n,t){let i=Ot(e),r=[i[ke.DaysFormat],i[ke.DaysStandalone]],o=sn(r,n);return sn(o,t)}function Py(e,n,t){let i=Ot(e),r=[i[ke.MonthsFormat],i[ke.MonthsStandalone]],o=sn(r,n);return sn(o,t)}function ky(e,n){let i=Ot(e)[ke.Eras];return sn(i,n)}function Vs(e,n){let t=Ot(e);return sn(t[ke.DateFormat],n)}function js(e,n){let t=Ot(e);return sn(t[ke.TimeFormat],n)}function Bs(e,n){let i=Ot(e)[ke.DateTimeFormat];return sn(i,n)}function Fn(e,n){let t=Ot(e),i=t[ke.NumberSymbols][n];if(typeof i>"u"){if(n===Ft.CurrencyDecimal)return t[ke.NumberSymbols][Ft.Decimal];if(n===Ft.CurrencyGroup)return t[ke.NumberSymbols][Ft.Group]}return i}function Ay(e,n){return Ot(e)[ke.NumberFormats][n]}function xx(e){return Ot(e)[ke.Currencies]}function Fy(e){if(!e[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ly(e){let n=Ot(e);return Fy(n),(n[ke.ExtraData][2]||[]).map(i=>typeof i=="string"?Sh(i):[Sh(i[0]),Sh(i[1])])}function Vy(e,n,t){let i=Ot(e);Fy(i);let r=[i[ke.ExtraData][0],i[ke.ExtraData][1]],o=sn(r,n)||[];return sn(o,t)||[]}function sn(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Sh(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}function jy(e,n,t="en"){let i=xx(t)[e]||Ty[e]||[],r=i[1];return n==="narrow"&&typeof r=="string"?r:i[0]||e}var Tx=2;function By(e){let n,t=Ty[e];return t&&(n=t[2]),typeof n=="number"?n:Tx}var Rx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wc={},Nx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ph(e,n,t,i){let r=Bx(e);n=pi(t,n)||n;let s=[],a;for(;n;)if(a=Nx.exec(n),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;n=p}else{s.push(n);break}let l=r.getTimezoneOffset();i&&(l=Hy(i,l),r=jx(r,i));let d="";return s.forEach(p=>{let m=Lx(p);d+=m?m(r,t,l):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function xc(e,n,t){let i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function pi(e,n){let t=Ry(e);if(wc[t]??={},wc[t][n])return wc[t][n];let i="";switch(n){case"shortDate":i=Vs(e,At.Short);break;case"mediumDate":i=Vs(e,At.Medium);break;case"longDate":i=Vs(e,At.Long);break;case"fullDate":i=Vs(e,At.Full);break;case"shortTime":i=js(e,At.Short);break;case"mediumTime":i=js(e,At.Medium);break;case"longTime":i=js(e,At.Long);break;case"fullTime":i=js(e,At.Full);break;case"short":let r=pi(e,"shortTime"),o=pi(e,"shortDate");i=Ec(Bs(e,At.Short),[r,o]);break;case"medium":let s=pi(e,"mediumTime"),a=pi(e,"mediumDate");i=Ec(Bs(e,At.Medium),[s,a]);break;case"long":let l=pi(e,"longTime"),d=pi(e,"longDate");i=Ec(Bs(e,At.Long),[l,d]);break;case"full":let p=pi(e,"fullTime"),m=pi(e,"fullDate");i=Ec(Bs(e,At.Full),[p,m]);break}return i&&(wc[t][n]=i),i}function Ec(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return n!=null&&i in n?n[i]:t})),e}function yn(e,n,t="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function Ox(e,n){return yn(e,3).substring(0,n)}function We(e,n,t=0,i=!1,r=!1){return function(o,s){let a=Px(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return Ox(a,n);let l=Fn(s,Ft.MinusSign);return yn(a,n,l,i,r)}}function Px(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Se(e,n,t=_t.Format,i=!1){return function(r,o){return kx(r,o,e,n,t,i)}}function kx(e,n,t,i,r,o){switch(t){case 2:return Py(n,r,i)[e.getMonth()];case 1:return Oy(n,r,i)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let d=Ly(n),p=Vy(n,r,i),m=d.findIndex(v=>{if(Array.isArray(v)){let[_,E]=v,T=s>=_.hours&&a>=_.minutes,F=s<E.hours||s===E.hours&&a<E.minutes;if(_.hours<E.hours){if(T&&F)return!0}else if(T||F)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(m!==-1)return p[m]}return Ny(n,r,i)[s<12?0:1];case 3:return ky(n,i)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Sc(e){return function(n,t,i){let r=-1*i,o=Fn(t,Ft.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case 0:return(r>=0?"+":"")+yn(s,2,o)+yn(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+yn(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var Ax=0,Mc=4;function Fx(e){let n=xc(e,Ax,1).getDay();return xc(e,0,1+(n<=Mc?Mc:Mc+7)-n)}function Uy(e){let n=e.getDay(),t=n===0?-3:Mc-n;return xc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Ih(e,n=!1){return function(t,i){let r;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=Uy(t),s=Fx(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return yn(r,e,Fn(i,Ft.MinusSign))}}function Ic(e,n=!1){return function(t,i){let o=Uy(t).getFullYear();return yn(o,e,Fn(i,Ft.MinusSign),n)}}var Mh={};function Lx(e){if(Mh[e])return Mh[e];let n;switch(e){case"G":case"GG":case"GGG":n=Se(3,_e.Abbreviated);break;case"GGGG":n=Se(3,_e.Wide);break;case"GGGGG":n=Se(3,_e.Narrow);break;case"y":n=We(0,1,0,!1,!0);break;case"yy":n=We(0,2,0,!0,!0);break;case"yyy":n=We(0,3,0,!1,!0);break;case"yyyy":n=We(0,4,0,!1,!0);break;case"Y":n=Ic(1);break;case"YY":n=Ic(2,!0);break;case"YYY":n=Ic(3);break;case"YYYY":n=Ic(4);break;case"M":case"L":n=We(1,1,1);break;case"MM":case"LL":n=We(1,2,1);break;case"MMM":n=Se(2,_e.Abbreviated);break;case"MMMM":n=Se(2,_e.Wide);break;case"MMMMM":n=Se(2,_e.Narrow);break;case"LLL":n=Se(2,_e.Abbreviated,_t.Standalone);break;case"LLLL":n=Se(2,_e.Wide,_t.Standalone);break;case"LLLLL":n=Se(2,_e.Narrow,_t.Standalone);break;case"w":n=Ih(1);break;case"ww":n=Ih(2);break;case"W":n=Ih(1,!0);break;case"d":n=We(2,1);break;case"dd":n=We(2,2);break;case"c":case"cc":n=We(7,1);break;case"ccc":n=Se(1,_e.Abbreviated,_t.Standalone);break;case"cccc":n=Se(1,_e.Wide,_t.Standalone);break;case"ccccc":n=Se(1,_e.Narrow,_t.Standalone);break;case"cccccc":n=Se(1,_e.Short,_t.Standalone);break;case"E":case"EE":case"EEE":n=Se(1,_e.Abbreviated);break;case"EEEE":n=Se(1,_e.Wide);break;case"EEEEE":n=Se(1,_e.Narrow);break;case"EEEEEE":n=Se(1,_e.Short);break;case"a":case"aa":case"aaa":n=Se(0,_e.Abbreviated);break;case"aaaa":n=Se(0,_e.Wide);break;case"aaaaa":n=Se(0,_e.Narrow);break;case"b":case"bb":case"bbb":n=Se(0,_e.Abbreviated,_t.Standalone,!0);break;case"bbbb":n=Se(0,_e.Wide,_t.Standalone,!0);break;case"bbbbb":n=Se(0,_e.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":n=Se(0,_e.Abbreviated,_t.Format,!0);break;case"BBBB":n=Se(0,_e.Wide,_t.Format,!0);break;case"BBBBB":n=Se(0,_e.Narrow,_t.Format,!0);break;case"h":n=We(3,1,-12);break;case"hh":n=We(3,2,-12);break;case"H":n=We(3,1);break;case"HH":n=We(3,2);break;case"m":n=We(4,1);break;case"mm":n=We(4,2);break;case"s":n=We(5,1);break;case"ss":n=We(5,2);break;case"S":n=We(6,1);break;case"SS":n=We(6,2);break;case"SSS":n=We(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Sc(0);break;case"ZZZZZ":n=Sc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Sc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Sc(2);break;default:return null}return Mh[e]=n,n}function Hy(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function Vx(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function jx(e,n,t){let r=e.getTimezoneOffset(),o=Hy(n,r);return Vx(e,-1*(o-r))}function Bx(e){if(wy(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,o=1,s=1]=e.split("-").map(a=>+a);return xc(r,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(Rx))return Ux(i)}let n=new Date(e);if(!wy(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function Ux(e){let n=new Date(0),t=0,i=0,r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-i,l=Number(e[6]||0),d=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,d),n}function wy(e){return e instanceof Date&&!isNaN(e.valueOf())}var Hx=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ey=22,Tc=".",Us="0",$x=";",qx=",",xh="#",Sy="\xA4";function zx(e,n,t,i,r,o,s=!1){let a="",l=!1;if(!isFinite(e))a=Fn(t,Ft.Infinity);else{let d=Yx(e);s&&(d=Wx(d));let p=n.minInt,m=n.minFrac,v=n.maxFrac;if(o){let nt=o.match(Hx);if(nt===null)throw new Error(`${o} is not a valid digit info`);let Te=nt[1],Ki=nt[3],Ta=nt[5];Te!=null&&(p=Th(Te)),Ki!=null&&(m=Th(Ki)),Ta!=null?v=Th(Ta):Ki!=null&&m>v&&(v=m)}Qx(d,m,v);let _=d.digits,E=d.integerLen,T=d.exponent,F=[];for(l=_.every(nt=>!nt);E<p;E++)_.unshift(0);for(;E<0;E++)_.unshift(0);E>0?F=_.splice(E,_.length):(F=_,_=[0]);let G=[];for(_.length>=n.lgSize&&G.unshift(_.splice(-n.lgSize,_.length).join(""));_.length>n.gSize;)G.unshift(_.splice(-n.gSize,_.length).join(""));_.length&&G.unshift(_.join("")),a=G.join(Fn(t,i)),F.length&&(a+=Fn(t,r)+F.join("")),T&&(a+=Fn(t,Ft.Exponential)+"+"+T)}return e<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function $y(e,n,t,i,r){let o=Ay(n,Oh.Currency),s=Gx(o,Fn(n,Ft.MinusSign));return s.minFrac=By(i),s.maxFrac=s.minFrac,zx(e,s,n,Ft.CurrencyGroup,Ft.CurrencyDecimal,r).replace(Sy,t).replace(Sy,"").trim()}function Gx(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split($x),r=i[0],o=i[1],s=r.indexOf(Tc)!==-1?r.split(Tc):[r.substring(0,r.lastIndexOf(Us)+1),r.substring(r.lastIndexOf(Us)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(xh));for(let p=0;p<l.length;p++){let m=l.charAt(p);m===Us?t.minFrac=t.maxFrac=p+1:m===xh?t.maxFrac=p+1:t.posSuf+=m}let d=a.split(qx);if(t.gSize=d[1]?d[1].length:0,t.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let p=r.length-t.posPre.length-t.posSuf.length,m=o.indexOf(xh);t.negPre=o.substring(0,m).replace(/'/g,""),t.negSuf=o.slice(m+p).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function Wx(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function Yx(e){let n=Math.abs(e)+"",t=0,i,r,o,s,a;for((r=n.indexOf(Tc))>-1&&(n=n.replace(Tc,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===Us;o++);if(o===(a=n.length))i=[0],r=1;else{for(a--;n.charAt(a)===Us;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(n.charAt(o))}return r>Ey&&(i=i.splice(0,Ey-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function Qx(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(n,r),t),s=o+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let m=s;m<i.length;m++)i[m]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let m=1;m<s;m++)i[m]=0}if(a>=5)if(s-1<0){for(let m=0;m>s;m--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,d=n+e.integerLen,p=i.reduceRight(function(m,v,_,E){return v=v+m,E[_]=v<10?v:v-10,l&&(E[_]===0&&_>=d?E.pop():l=!1),v>=10?1:0},0);p&&(i.unshift(p),e.integerLen++)}function Th(e){let n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}var Rh=/\s+/,Iy=[],Ct=(()=>{class e{_ngEl;_renderer;initialClasses=Iy;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Rh):Iy}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Rh):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Rh).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(C(Ge),C(hn))};static \u0275dir=de({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Rc=class{$implicit;ngForOf;index;count;constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},He=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Rc(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),My(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);My(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||e)(C(di),C(ii),C(Ch))};static \u0275dir=de({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function My(e,n){e.context.$implicit=n.item}var re=(()=>{class e{_viewContainer;_context=new Nc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xy(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xy(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||e)(C(di),C(ii))};static \u0275dir=de({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Nc=class{$implicit=null;ngIf=null};function xy(e,n){if(e&&!e.createEmbeddedView)throw new A(2020,!1)}var kh=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=t===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})();function Ah(e,n){return new A(2100,!1)}var Zx="mediumDate",qy=new k(""),zy=new k(""),Ut=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??Zx,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ph(t,s,o||this.locale,a)}catch(s){throw Ah(e,s.message)}}static \u0275fac=function(i){return new(i||e)(C(xo,16),C(qy,24),C(zy,24))};static \u0275pipe=mc({name:"date",type:e,pure:!0})}return e})();var Fh=(()=>{class e{_locale;_defaultCurrencyCode;constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",o,s){if(!Kx(t))return null;s||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=jy(a,r==="symbol"?"wide":"narrow",s):a=r);try{let l=Jx(t);return $y(l,s,a,i,o)}catch(l){throw Ah(e,l.message)}}static \u0275fac=function(i){return new(i||e)(C(xo,16),C(gy,16))};static \u0275pipe=mc({name:"currency",type:e,pure:!0})}return e})();function Kx(e){return!(e==null||e===""||e!==e)}function Jx(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var Lh=(()=>{class e{transform(t,i,r){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw Ah(e,t);return t.slice(i,r)}static \u0275fac=function(i){return new(i||e)};static \u0275pipe=mc({name:"slice",type:e,pure:!1})}return e})();var Ie=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})();function Hs(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Vh="browser",Gy="server";function Oc(e){return e===Gy}var Dr=class{};var Wy=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new jh(b(Ne),window)})}return e})(),jh=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=nT(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function nT(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var Ac=new k(""),$h=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||e)(P(Ac),P(Ce))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),$s=class{_doc;constructor(n){this._doc=n}manager},Pc="ng-app-id";function Yy(e){for(let n of e)n.remove()}function Qy(e,n){let t=n.createElement("style");return t.textContent=e,t}function iT(e,n,t,i){let r=e.head?.querySelectorAll(`style[${Pc}="${n}"],link[${Pc}="${n}"]`);if(r)for(let o of r)o.removeAttribute(Pc),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Uh(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var qh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Oc(o),iT(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,Qy);i?.forEach(r=>this.addUsage(r,this.external,Uh))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(Yy(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Yy(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,Qy(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Uh(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Pc,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||e)(P(Ne),P(oc),P(Kp,8),P(ci))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Bh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zh=/%COMP%/g;var Ky="%COMP%",rT=`_nghost-${Ky}`,oT=`_ngcontent-${Ky}`,sT=!0,aT=new k("",{providedIn:"root",factory:()=>sT});function lT(e){return oT.replace(zh,e)}function cT(e){return rT.replace(zh,e)}function Jy(e,n){return n.map(t=>t.replace(zh,e))}var Gh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l,d=null,p=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=p,this.platformIsServer=Oc(a),this.defaultRenderer=new qs(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Tn.ShadowDom&&(i=H(I({},i),{encapsulation:Tn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof kc?r.applyToHost(t):r instanceof zs&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer,v=this.tracingService;switch(i.encapsulation){case Tn.Emulated:o=new kc(l,d,i,this.appId,p,s,a,m,v);break;case Tn.ShadowDom:return new Hh(l,d,t,i,s,a,this.nonce,m,v);default:o=new zs(l,d,i,p,s,a,m,v);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||e)(P($h),P(qh),P(oc),P(aT),P(Ne),P(ci),P(Ce),P(Kp),P(So,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),qs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,i,r,o){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Bh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Zy(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(Zy(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new A(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=Bh[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=Bh[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(ni.DashCase|ni.Important)?n.style.setProperty(t,i,r&ni.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&ni.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i,r){if(typeof n=="string"&&(n=on().getGlobalEventTarget(this.doc,n),!n))throw new A(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,r)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Zy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Hh=class extends qs{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,i,r,o,s,a,l,d){super(n,o,s,l,d),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=r.styles;p=Jy(r.id,p);for(let v of p){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=v,this.shadowRoot.appendChild(_)}let m=r.getExternalStyles?.();if(m)for(let v of m){let _=Uh(v,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zs=class extends qs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,i,r,o,s,a,l,d){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let p=i.styles;this.styles=d?Jy(d,p):p,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},kc=class extends zs{contentAttr;hostAttr;constructor(n,t,i,r,o,s,a,l,d){let p=r+"-"+i.id;super(n,t,i,o,s,a,l,d,p),this.contentAttr=lT(p),this.hostAttr=cT(p)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}};var Fc=class e extends Fs{supportsDOMEvents=!0;static makeCurrent(){wh(new e)}onAndCancel(n,t,i,r){return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=uT();return t==null?null:dT(t)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Hs(document.cookie,n)}},Gs=null;function uT(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}function dT(e){return new URL(e,document.baseURI).pathname}var fT=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),eb=(()=>{class e extends $s{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(P(Ne))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Xy=["alt","control","meta","shift"],pT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},tb=(()=>{class e extends $s{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>on().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Xy.forEach(d=>{let p=i.indexOf(d);p>-1&&(i.splice(p,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=pT[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Xy.forEach(s=>{if(s!==r){let a=hT[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||e)(P(Ne))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function Wh(e,n){return _y(I({rootComponent:e},mT(n)))}function mT(e){return{appProviders:[...bT,...e?.providers??[]],platformProviders:yT}}function gT(){Fc.makeCurrent()}function _T(){return new xn}function vT(){return U_(document),document}var yT=[{provide:ci,useValue:Vh},{provide:Zp,useValue:gT,multi:!0},{provide:Ne,useFactory:vT}];var bT=[{provide:Zl,useValue:"root"},{provide:xn,useFactory:_T},{provide:Ac,useClass:eb,multi:!0,deps:[Ne]},{provide:Ac,useClass:tb,multi:!0,deps:[Ne]},Gh,qh,$h,{provide:po,useExisting:Gh},{provide:Dr,useClass:fT},[]];var No=class{},Ws=class{},at=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,t);let r=(n.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(n,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Vc=class{encodeKey(n){return nb(n)}encodeValue(n){return nb(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function DT(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var CT=/%(\d[a-f0-9])/gi,wT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nb(e){return encodeURIComponent(e).replace(CT,(n,t)=>wT[t]??n)}function Lc(e){return`${e}`}var Lt=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Vc,n.fromString){if(n.fromObject)throw new A(2805,!1);this.map=DT(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let i=n.fromObject[t],r=Array.isArray(i)?i.map(Lc):[Lc(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Lc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Lc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var jc=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function ET(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ib(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function rb(e){return typeof Blob<"u"&&e instanceof Blob}function ob(e){return typeof FormData<"u"&&e instanceof FormData}function ST(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var sb="Content-Type",ab="Accept",cb="X-Request-URL",ub="text/plain",db="application/json",IT=`${db}, ${ub}, */*`,Ro=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,i,r){this.url=t,this.method=n.toUpperCase();let o;if(ET(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new at,this.context??=new jc,!this.params)this.params=new Lt,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ib(this.body)||rb(this.body)||ob(this.body)||ST(this.body)?this.body:this.body instanceof Lt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ob(this.body)?null:rb(this.body)?this.body.type||null:ib(this.body)?null:typeof this.body=="string"?ub:this.body instanceof Lt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?db:null}clone(n={}){let t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,d=n.headers||this.headers,p=n.params||this.params,m=n.context??this.context;return n.setHeaders!==void 0&&(d=Object.keys(n.setHeaders).reduce((v,_)=>v.set(_,n.setHeaders[_]),d)),n.setParams&&(p=Object.keys(n.setParams).reduce((v,_)=>v.set(_,n.setParams[_]),p)),new e(t,i,s,{params:p,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Cr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Cr||{}),Oo=class{headers;status;statusText;url;ok;type;constructor(n,t=200,i="OK"){this.headers=n.headers||new at,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Bc=class e extends Oo{constructor(n={}){super(n)}type=Cr.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Ys=class e extends Oo{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Cr.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Pi=class extends Oo{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},MT=200,xT=204;function Yh(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var vt=(()=>{class e{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Ro)o=t;else{let l;r.headers instanceof at?l=r.headers:l=new at(r.headers);let d;r.params&&(r.params instanceof Lt?d=r.params:d=new Lt({fromObject:r.params})),o=new Ro(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=L(o).pipe(wn(l=>this.handler.handle(l)));if(t instanceof Ro||r.observe==="events")return s;let a=s.pipe(Le(l=>l instanceof Ys));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new A(2806,!1);return l.body}));case"blob":return a.pipe(Z(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new A(2807,!1);return l.body}));case"text":return a.pipe(Z(l=>{if(l.body!==null&&typeof l.body!="string")throw new A(2808,!1);return l.body}));case"json":default:return a.pipe(Z(l=>l.body))}case"response":return a;default:throw new A(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Lt().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Yh(r,i))}post(t,i,r={}){return this.request("POST",t,Yh(r,i))}put(t,i,r={}){return this.request("PUT",t,Yh(r,i))}static \u0275fac=function(i){return new(i||e)(P(No))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var TT=new k("");function fb(e,n){return n(e)}function RT(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}function NT(e,n,t){return(i,r)=>Rt(t,()=>n(i,o=>e(o,r)))}var pb=new k(""),Hc=new k(""),hb=new k(""),Zh=new k("",{providedIn:"root",factory:()=>!0});function OT(){let e=null;return(n,t)=>{e===null&&(e=(b(pb,{optional:!0})??[]).reduceRight(RT,fb));let i=b(li);if(b(Zh)){let o=i.add();return e(n,t).pipe(It(()=>i.remove(o)))}else return e(n,t)}}var Uc=(()=>{class e extends No{backend;injector;chain=null;pendingTasks=b(li);contributeToStability=b(Zh);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Hc),...this.injector.get(hb,[])]));this.chain=i.reduceRight((r,o)=>NT(r,o,this.injector),fb)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(It(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(P(Ws),P(Xe))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var PT=/^\)\]\}',?\n/,kT=RegExp(`^${cb}:`,"m");function AT(e){return"responseURL"in e&&e.responseURL?e.responseURL:kT.test(e.getAllResponseHeaders())?e.getResponseHeader(cb):null}var Qh=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new A(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ye(i.\u0275loadImpl()):L(null)).pipe(Ve(()=>new Y(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,F)=>s.setRequestHeader(T,F.join(","))),t.headers.has(ab)||s.setRequestHeader(ab,IT),!t.headers.has(sb)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(sb,T)}if(t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let T=s.statusText||"OK",F=new at(s.getAllResponseHeaders()),G=AT(s)||t.url;return l=new Bc({headers:F,status:s.status,statusText:T,url:G}),l},p=()=>{let{headers:T,status:F,statusText:G,url:nt}=d(),Te=null;F!==xT&&(Te=typeof s.response>"u"?s.responseText:s.response),F===0&&(F=Te?MT:0);let Ki=F>=200&&F<300;if(t.responseType==="json"&&typeof Te=="string"){let Ta=Te;Te=Te.replace(PT,"");try{Te=Te!==""?JSON.parse(Te):null}catch(RD){Te=Ta,Ki&&(Ki=!1,Te={error:RD,text:Te})}}Ki?(o.next(new Ys({body:Te,headers:T,status:F,statusText:G,url:nt||void 0})),o.complete()):o.error(new Pi({error:Te,headers:T,status:F,statusText:G,url:nt||void 0}))},m=T=>{let{url:F}=d(),G=new Pi({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(G)},v=!1,_=T=>{v||(o.next(d()),v=!0);let F={type:Cr.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(F.total=T.total),t.responseType==="text"&&s.responseText&&(F.partialText=s.responseText),o.next(F)},E=T=>{let F={type:Cr.UploadProgress,loaded:T.loaded};T.lengthComputable&&(F.total=T.total),o.next(F)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",E)),s.send(a),o.next({type:Cr.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(P(Dr))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),mb=new k(""),FT="XSRF-TOKEN",LT=new k("",{providedIn:"root",factory:()=>FT}),VT="X-XSRF-TOKEN",jT=new k("",{providedIn:"root",factory:()=>VT}),Qs=class{},BT=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hs(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||e)(P(Ne),P(ci),P(LT))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function UT(e,n){let t=e.url.toLowerCase();if(!b(mb)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let i=b(Qs).getToken(),r=b(jT);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var $c=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}($c||{});function gb(e,n){return{\u0275kind:e,\u0275providers:n}}function qc(...e){let n=[vt,Qh,Uc,{provide:No,useExisting:Uc},{provide:Ws,useFactory:()=>b(TT,{optional:!0})??b(Qh)},{provide:Hc,useValue:UT,multi:!0},{provide:mb,useValue:!0},{provide:Qs,useClass:BT}];for(let t of e)n.push(...t.\u0275providers);return go(n)}function Kh(e){return gb($c.Interceptors,e.map(n=>({provide:Hc,useValue:n,multi:!0})))}var lb=new k("");function _b(){return gb($c.LegacyInterceptors,[{provide:lb,useFactory:OT},{provide:Hc,useExisting:lb,multi:!0}])}var Jh=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({providers:[qc(_b())]})}return e})();var vb=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||e)(P(Ne))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var J="primary",la=Symbol("RouteTitle"),im=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ir(e){return new im(e)}function Ib(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function $T(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ln(e[t],n[t]))return!1;return!0}function Ln(e,n){let t=e?rm(e):void 0,i=n?rm(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Mb(e[r],n[r]))return!1;return!0}function rm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Mb(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function xb(e){return e.length>0?e[e.length-1]:null}function Vi(e){return tf(e)?e:vr(e)?ye(Promise.resolve(e)):L(e)}var qT={exact:Rb,subset:Nb},Tb={exact:zT,subset:GT,ignored:()=>!0};function yb(e,n,t){return qT[t.paths](e.root,n.root,t.matrixParams)&&Tb[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function zT(e,n){return Ln(e,n)}function Rb(e,n,t){if(!Er(e.segments,n.segments)||!Wc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!Rb(e.children[i],n.children[i],t))return!1;return!0}function GT(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Mb(e[t],n[t]))}function Nb(e,n,t){return Ob(e,n,n.segments,t)}function Ob(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!Er(r,t)||n.hasChildren()||!Wc(r,t,i))}else if(e.segments.length===t.length){if(!Er(e.segments,t)||!Wc(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!Nb(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Er(e.segments,r)||!Wc(e.segments,r,i)||!e.children[J]?!1:Ob(e.children[J],n,o,i)}}function Wc(e,n,t){return n.every((i,r)=>Tb[t](e[r].parameters,i.parameters))}var jn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new pe([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ir(this.queryParams),this._queryParamMap}toString(){return QT.serialize(this)}},pe=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yc(this)}},ki=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ir(this.parameters),this._parameterMap}toString(){return kb(this)}};function WT(e,n){return Er(e,n)&&e.every((t,i)=>Ln(t.parameters,n[i].parameters))}function Er(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function YT(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===J&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==J&&(t=t.concat(n(r,i)))}),t}var Mr=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>new Ai,providedIn:"root"})}return e})(),Ai=class{parse(n){let t=new sm(n);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Zs(n.root,!0)}`,i=JT(n.queryParams),r=typeof n.fragment=="string"?`#${ZT(n.fragment)}`:"";return`${t}${i}${r}`}},QT=new Ai;function Yc(e){return e.segments.map(n=>kb(n)).join("/")}function Zs(e,n){if(!e.hasChildren())return Yc(e);if(n){let t=e.children[J]?Zs(e.children[J],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==J&&i.push(`${r}:${Zs(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=YT(e,(i,r)=>r===J?[Zs(e.children[J],!1)]:[`${r}:${Zs(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[J]!=null?`${Yc(e)}/${t[0]}`:`${Yc(e)}/(${t.join("//")})`}}function Pb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zc(e){return Pb(e).replace(/%3B/gi,";")}function ZT(e){return encodeURI(e)}function om(e){return Pb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qc(e){return decodeURIComponent(e)}function bb(e){return Qc(e.replace(/\+/g,"%20"))}function kb(e){return`${om(e.path)}${KT(e.parameters)}`}function KT(e){return Object.entries(e).map(([n,t])=>`;${om(n)}=${om(t)}`).join("")}function JT(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${zc(t)}=${zc(r)}`).join("&"):`${zc(t)}=${zc(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var XT=/^[^\/()?;#]+/;function Xh(e){let n=e.match(XT);return n?n[0]:""}var eR=/^[^\/()?;=#]+/;function tR(e){let n=e.match(eR);return n?n[0]:""}var nR=/^[^=?&#]+/;function iR(e){let n=e.match(nR);return n?n[0]:""}var rR=/^[^&#]+/;function oR(e){let n=e.match(rR);return n?n[0]:""}var sm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[J]=new pe(n,t)),i}parseSegment(){let n=Xh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(n),new ki(Qc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=tR(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Xh(this.remaining);r&&(i=r,this.capture(i))}n[Qc(t)]=Qc(i)}parseQueryParam(n){let t=iR(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=oR(this.remaining);s&&(i=s,this.capture(i))}let r=bb(t),o=bb(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Xh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new A(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=J);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[J]:new pe([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new A(4011,!1)}};function Ab(e){return e.segments.length>0?new pe([],{[J]:e}):e}function Fb(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=Fb(r);if(i===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new pe(e.segments,n);return sR(t)}function sR(e){if(e.numberOfChildren===1&&e.children[J]){let n=e.children[J];return new pe(e.segments.concat(n.segments),n.children)}return e}function Fi(e){return e instanceof jn}function Lb(e,n,t=null,i=null){let r=Vb(e);return jb(r,n,t,i)}function Vb(e){let n;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new pe(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=Ab(i);return n??r}function jb(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return em(r,r,r,t,i);let o=aR(n);if(o.toRoot())return em(r,r,new pe([],{}),t,i);let s=lR(o,r,e),a=s.processChildren?Js(s.segmentGroup,s.index,o.commands):Ub(s.segmentGroup,s.index,o.commands);return em(r,s.segmentGroup,a,t,i)}function Kc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ea(e){return typeof e=="object"&&e!=null&&e.outlets}function em(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;e===n?s=t:s=Bb(e,n,t);let a=Ab(Fb(s));return new jn(a,o,r)}function Bb(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=Bb(o,n,t)}),new pe(e.segments,i)}var Jc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Kc(i[0]))throw new A(4003,!1);let r=i.find(ea);if(r&&r!==xb(i))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Jc(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Jc(t,n,i)}var Ao=class{segmentGroup;processChildren;index;constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function lR(e,n,t){if(e.isAbsolute)return new Ao(n,!0,0);if(!t)return new Ao(n,!1,NaN);if(t.parent===null)return new Ao(t,!0,0);let i=Kc(e.commands[0])?0:1,r=t.segments.length-1+i;return cR(t,r,e.numberOfDoubleDots)}function cR(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new A(4005,!1);r=i.segments.length}return new Ao(i,!1,r-o)}function uR(e){return ea(e[0])?e[0].outlets:{[J]:e}}function Ub(e,n,t){if(e??=new pe([],{}),e.segments.length===0&&e.hasChildren())return Js(e,n,t);let i=dR(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new pe(e.segments.slice(0,i.pathIndex),{});return o.children[J]=new pe(e.segments.slice(i.pathIndex),e.children),Js(o,0,r)}else return i.match&&r.length===0?new pe(e.segments,{}):i.match&&!e.hasChildren()?am(e,n,t):i.match?Js(e,0,r):am(e,n,t)}function Js(e,n,t){if(t.length===0)return new pe(e.segments,{});{let i=uR(t),r={};if(Object.keys(i).some(o=>o!==J)&&e.children[J]&&e.numberOfChildren===1&&e.children[J].segments.length===0){let o=Js(e.children[J],n,t);return new pe(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Ub(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new pe(e.segments,r)}}function dR(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(ea(a))break;let l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!Cb(l,d,s))return o;i+=2}else{if(!Cb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function am(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(ea(o)){let l=fR(o.outlets);return new pe(i,l)}if(r===0&&Kc(t[0])){let l=e.segments[n];i.push(new ki(l.path,Db(t[0]))),r++;continue}let s=ea(o)?o.outlets[J]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Kc(a)?(i.push(new ki(s,Db(a))),r+=2):(i.push(new ki(s,{})),r++)}return new pe(i,{})}function fR(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=am(new pe([],{}),0,i))}),n}function Db(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function Cb(e,n,t){return e==t.path&&Ln(n,t.parameters)}var Zc="imperative",et=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(et||{}),qt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Li=class extends qt{type=et.NavigationStart;navigationTrigger;restoredState;constructor(n,t,i="imperative",r=null){super(n,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wt=class extends qt{urlAfterRedirects;type=et.NavigationEnd;constructor(n,t,i){super(n,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Vt||{}),Lo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Lo||{}),Vn=class extends qt{reason;code;type=et.NavigationCancel;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bn=class extends qt{reason;code;type=et.NavigationSkipped;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}},Vo=class extends qt{error;target;type=et.NavigationError;constructor(n,t,i,r){super(n,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ta=class extends qt{urlAfterRedirects;state;type=et.RoutesRecognized;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xc=class extends qt{urlAfterRedirects;state;type=et.GuardsCheckStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eu=class extends qt{urlAfterRedirects;state;shouldActivate;type=et.GuardsCheckEnd;constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tu=class extends qt{urlAfterRedirects;state;type=et.ResolveStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nu=class extends qt{urlAfterRedirects;state;type=et.ResolveEnd;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iu=class{route;type=et.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ru=class{route;type=et.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ou=class{snapshot;type=et.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{snapshot;type=et.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},au=class{snapshot;type=et.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lu=class{snapshot;type=et.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jo=class{routerEvent;position;anchor;type=et.Scroll;constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},na=class{},Bo=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function pR(e,n){return e.providers&&!e._injector&&(e._injector=xs(e.providers,n,`Route: ${e.path}`)),e._injector??n}function bn(e){return e.outlet||J}function hR(e,n){let t=e.filter(i=>bn(i)===n);return t.push(...e.filter(i=>bn(i)!==n)),t}function ca(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var cu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ca(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new xr(this.rootInjector)}},xr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new cu(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||e)(P(Xe))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uu=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=lm(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=lm(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=cm(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return cm(n,this._root).map(t=>t.value)}};function lm(e,n){if(e===n.value)return n;for(let t of n.children){let i=lm(e,t);if(i)return i}return null}function cm(e,n){if(e===n.value)return[n];for(let t of n.children){let i=cm(e,t);if(i.length)return i.unshift(n),i}return[]}var $t=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function ko(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ia=class extends uu{snapshot;constructor(n,t){super(n),this.snapshot=t,_m(this,n)}toString(){return this.snapshot.toString()}};function Hb(e){let n=mR(e),t=new le([new ki("",{})]),i=new le({}),r=new le({}),o=new le({}),s=new le(""),a=new lt(t,i,o,s,r,J,e,n.root);return a.snapshot=n.root,new ia(new $t(a,[]),n)}function mR(e){let n={},t={},i={},r="",o=new Sr([],n,i,r,t,J,e,null,{});return new ra("",new $t(o,[]))}var lt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Z(d=>d[la]))??L(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(n=>Ir(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(n=>Ir(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function du(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:I(I({},n.params),e.params),data:I(I({},n.data),e.data),resolve:I(I(I(I({},e.data),n.data),r?.data),e._resolvedData)}:i={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},r&&qb(r)&&(i.resolve[la]=r.title),i}var Sr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[la]}constructor(n,t,i,r,o,s,a,l,d){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ir(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ir(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},ra=class extends uu{url;constructor(n,t){super(t),this.url=n,_m(this,t)}toString(){return $b(this._root)}};function _m(e,n){n.value._routerState=e,n.children.forEach(t=>_m(e,t))}function $b(e){let n=e.children.length>0?` { ${e.children.map($b).join(", ")} } `:"";return`${e.value}${n}`}function tm(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ln(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ln(n.params,t.params)||e.paramsSubject.next(t.params),$T(n.url,t.url)||e.urlSubject.next(t.url),Ln(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function um(e,n){let t=Ln(e.params,n.params)&&WT(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||um(e.parent,n.parent))}function qb(e){return typeof e.title=="string"||e.title===null}var zb=new k(""),ua=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new me;deactivateEvents=new me;attachEvents=new me;detachEvents=new me;routerOutletData=P_(void 0);parentContexts=b(xr);location=b(di);changeDetector=b(kn);inputBinder=b(da,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new dm(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Dt]})}return e})(),dm=class{route;childContexts;parent;outletData;constructor(n,t,i,r){this.route=n,this.childContexts=t,this.parent=i,this.outletData=r}get(n,t){return n===lt?this.route:n===xr?this.childContexts:n===zb?this.outletData:this.parent.get(n,t)}},da=new k(""),vm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Kr([i.queryParams,i.params,i.data]).pipe(Ve(([o,s,a],l)=>(a=I(I(I({},o),s),a),l===0?L(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=vy(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function gR(e,n,t){let i=oa(e,n._root,t?t._root:void 0);return new ia(i,n)}function oa(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=_R(e,n,t);return new $t(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>oa(e,a)),s}}let i=vR(n.value),r=n.children.map(o=>oa(e,o));return new $t(i,r)}}function _R(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return oa(e,i,r);return oa(e,i)})}function vR(e){return new lt(new le(e.url),new le(e.params),new le(e.queryParams),new le(e.fragment),new le(e.data),e.outlet,e.component,e)}var Uo=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Gb="ngNavigationCancelingError";function fu(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=Fi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=Wb(!1,Vt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Wb(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Gb]=!0,t.cancellationCode=n,t}function yR(e){return Yb(e)&&Fi(e.url)}function Yb(e){return!!e&&e[Gb]}var bR=(e,n,t,i)=>Z(r=>(new fm(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),fm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),tm(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=ko(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=ko(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=ko(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=ko(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new lu(o.value.snapshot))}),n.children.length&&this.forwardEvent(new su(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(tm(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tm(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},pu=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Fo=class{component;route;constructor(n,t){this.component=n,this.route=t}};function DR(e,n,t){let i=e._root,r=n?n._root:null;return Ks(i,r,t,[i.value])}function CR(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function $o(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!P0(e)?e:n.get(e):i}function Ks(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ko(n);return e.children.forEach(s=>{wR(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Xs(a,t.getContext(s),r)),r}function wR(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=ER(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new pu(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ks(e,n,a?a.children:null,i,r):Ks(e,n,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fo(a.outlet.component,s))}else s&&Xs(n,a,r),r.canActivateChecks.push(new pu(i)),o.component?Ks(e,null,a?a.children:null,i,r):Ks(e,null,t,i,r);return r}function ER(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Er(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Er(e.url,n.url)||!Ln(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(e,n)||!Ln(e.queryParams,n.queryParams);case"paramsChange":default:return!um(e,n)}}function Xs(e,n,t){let i=ko(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?Xs(s,n.children.getContext(o),t):Xs(s,null,t):Xs(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Fo(n.outlet.component,r)):t.canDeactivateChecks.push(new Fo(null,r)):t.canDeactivateChecks.push(new Fo(null,r))}function fa(e){return typeof e=="function"}function SR(e){return typeof e=="boolean"}function IR(e){return e&&fa(e.canLoad)}function MR(e){return e&&fa(e.canActivate)}function xR(e){return e&&fa(e.canActivateChild)}function TR(e){return e&&fa(e.canDeactivate)}function RR(e){return e&&fa(e.canMatch)}function Qb(e){return e instanceof Kn||e?.name==="EmptyError"}var Gc=Symbol("INITIAL_VALUE");function Ho(){return Ve(e=>Kr(e.map(n=>n.pipe(St(1),ll(Gc)))).pipe(Z(n=>{for(let t of n)if(t!==!0){if(t===Gc)return Gc;if(t===!1||NR(t))return t}return!0}),Le(n=>n!==Gc),St(1)))}function NR(e){return Fi(e)||e instanceof Uo}function OR(e,n){return Re(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?L(H(I({},t),{guardsResult:!0})):PR(s,i,r,e).pipe(Re(a=>a&&SR(a)?kR(i,o,e,n):L(a)),Z(a=>H(I({},t),{guardsResult:a})))})}function PR(e,n,t,i){return ye(e).pipe(Re(r=>jR(r.component,r.route,t,n,i)),Jn(r=>r!==!0,!0))}function kR(e,n,t,i){return ye(n).pipe(wn(r=>Ci(FR(r.route.parent,i),AR(r.route,i),VR(e,r.path,t),LR(e,r.route,t))),Jn(r=>r!==!0,!0))}function AR(e,n){return e!==null&&n&&n(new au(e)),L(!0)}function FR(e,n){return e!==null&&n&&n(new ou(e)),L(!0)}function LR(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return L(!0);let r=i.map(o=>ol(()=>{let s=ca(n)??t,a=$o(o,s),l=MR(a)?a.canActivate(n,e):Rt(s,()=>a(n,e));return Vi(l).pipe(Jn())}));return L(r).pipe(Ho())}function VR(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>CR(s)).filter(s=>s!==null).map(s=>ol(()=>{let a=s.guards.map(l=>{let d=ca(s.node)??t,p=$o(l,d),m=xR(p)?p.canActivateChild(i,e):Rt(d,()=>p(i,e));return Vi(m).pipe(Jn())});return L(a).pipe(Ho())}));return L(o).pipe(Ho())}function jR(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let s=o.map(a=>{let l=ca(n)??r,d=$o(a,l),p=TR(d)?d.canDeactivate(e,n,t,i):Rt(l,()=>d(e,n,t,i));return Vi(p).pipe(Jn())});return L(s).pipe(Ho())}function BR(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return L(!0);let o=r.map(s=>{let a=$o(s,e),l=IR(a)?a.canLoad(n,t):Rt(e,()=>a(n,t));return Vi(l)});return L(o).pipe(Ho(),Zb(i))}function Zb(e){return Zd(je(n=>{if(typeof n!="boolean")throw fu(e,n)}),Z(n=>n===!0))}function UR(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return L(!0);let o=r.map(s=>{let a=$o(s,e),l=RR(a)?a.canMatch(n,t):Rt(e,()=>a(n,t));return Vi(l)});return L(o).pipe(Ho(),Zb(i))}var sa=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},aa=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Po(e){return Pe(new sa(e))}function HR(e){return Pe(new A(4e3,!1))}function $R(e){return Pe(Wb(!1,Vt.GuardRejected))}var pm=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return L(i);if(r.numberOfChildren>1||!r.children[J])return HR(`${n.redirectTo}`);r=r.children[J]}}applyRedirectCommands(n,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:p,url:m,outlet:v,params:_,data:E,title:T}=r,F=Rt(o,()=>a({params:_,data:E,queryParams:l,fragment:d,routeConfig:p,url:m,outlet:v,title:T}));if(F instanceof jn)throw new aa(F);t=F}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t[0]==="/")throw new aa(s);return s}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new jn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new pe(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new A(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}},hm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qR(e,n,t,i,r){let o=Kb(e,n,t);return o.matched?(i=pR(n,i),UR(i,n,t,r).pipe(Z(s=>s===!0?o:I({},hm)))):L(o)}function Kb(e,n,t){if(n.path==="**")return zR(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?I({},hm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||Ib)(t,e,n);if(!r)return I({},hm);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?I(I({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function zR(e){return{matched:!0,parameters:e.length>0?xb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function wb(e,n,t,i){return t.length>0&&YR(e,t,i)?{segmentGroup:new pe(n,WR(i,new pe(t,e.children))),slicedSegments:[]}:t.length===0&&QR(e,t,i)?{segmentGroup:new pe(e.segments,GR(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new pe(e.segments,e.children),slicedSegments:t}}function GR(e,n,t,i){let r={};for(let o of t)if(mu(e,n,o)&&!i[bn(o)]){let s=new pe([],{});r[bn(o)]=s}return I(I({},i),r)}function WR(e,n){let t={};t[J]=n;for(let i of e)if(i.path===""&&bn(i)!==J){let r=new pe([],{});t[bn(i)]=r}return t}function YR(e,n,t){return t.some(i=>mu(e,n,i)&&bn(i)!==J)}function QR(e,n,t){return t.some(i=>mu(e,n,i))}function mu(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ZR(e,n,t){return n.length===0&&!e.children[t]}var mm=class{};function KR(e,n,t,i,r,o,s="emptyOnly"){return new gm(e,n,t,i,r,s,o).recognize()}var JR=31,gm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new pm(this.urlSerializer,this.urlTree)}noMatchError(n){return new A(4002,`'${n.segmentGroup}'`)}recognize(){let n=wb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Z(({children:t,rootSnapshot:i})=>{let r=new $t(i,t),o=new ra("",r),s=Lb(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Sr([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,J,t).pipe(Z(i=>({children:i,rootSnapshot:t})),rt(i=>{if(i instanceof aa)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof sa?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe(Z(s=>s instanceof $t?[s]:[]))}processChildren(n,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ye(o).pipe(wn(s=>{let a=i.children[s],l=hR(t,s);return this.processSegmentGroup(n,l,a,s,r)}),lf((s,a)=>(s.push(...a),s)),wi(null),af(),Re(s=>{if(s===null)return Po(i);let a=Jb(s);return XR(a),L(a)}))}processSegment(n,t,i,r,o,s,a){return ye(t).pipe(wn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,i,r,o,s,a).pipe(rt(d=>{if(d instanceof sa)return L(null);throw d}))),Jn(l=>!!l),rt(l=>{if(Qb(l))return ZR(i,r,o)?L(new mm):Po(i);throw l}))}processSegmentAgainstRoute(n,t,i,r,o,s,a,l){return bn(i)!==s&&(s===J||!mu(r,o,i))?Po(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s,l):Po(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s,a){let{matched:l,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:v}=Kb(t,r,o);if(!l)return Po(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JR&&(this.allowRedirects=!1));let _=new Sr(o,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Eb(r),bn(r),r.component??r._loadedComponent??null,r,Sb(r)),E=du(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(E.params),_.data=Object.freeze(E.data);let T=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,m,_,n);return this.applyRedirects.lineralizeSegments(r,T).pipe(Re(F=>this.processSegment(n,i,t,F.concat(v),s,!1,a)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let a=qR(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Ve(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Ve(({routes:d})=>{let p=i._loadedInjector??n,{parameters:m,consumedSegments:v,remainingSegments:_}=l,E=new Sr(v,m,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Eb(i),bn(i),i.component??i._loadedComponent??null,i,Sb(i)),T=du(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data);let{segmentGroup:F,slicedSegments:G}=wb(t,v,_,d);if(G.length===0&&F.hasChildren())return this.processChildren(p,d,F,E).pipe(Z(Te=>new $t(E,Te)));if(d.length===0&&G.length===0)return L(new $t(E,[]));let nt=bn(i)===o;return this.processSegment(p,d,F,G,nt?J:o,!0,E).pipe(Z(Te=>new $t(E,Te instanceof $t?[Te]:[])))}))):Po(t)))}getChildConfig(n,t,i){return t.children?L({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?L({routes:t._loadedRoutes,injector:t._loadedInjector}):BR(n,t,i,this.urlSerializer).pipe(Re(r=>r?this.configLoader.loadChildren(n,t).pipe(je(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):$R(t))):L({routes:[],injector:n})}};function XR(e){e.sort((n,t)=>n.value.outlet===J?-1:t.value.outlet===J?1:n.value.outlet.localeCompare(t.value.outlet))}function eN(e){let n=e.value.routeConfig;return n&&n.path===""}function Jb(e){let n=[],t=new Set;for(let i of e){if(!eN(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=Jb(i.children);n.push(new $t(i.value,r))}return n.filter(i=>!t.has(i))}function Eb(e){return e.data||{}}function Sb(e){return e.resolve||{}}function tN(e,n,t,i,r,o){return Re(s=>KR(e,n,t,i,s.extractedUrl,r,o).pipe(Z(({state:a,tree:l})=>H(I({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function nN(e,n){return Re(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return L(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of Xb(l))s.add(d);let a=0;return ye(s).pipe(wn(l=>o.has(l)?iN(l,i,e,n):(l.data=du(l,l.parent,e).resolve,L(void 0))),je(()=>a++),Jr(1),Re(l=>a===s.size?L(t):it))})}function Xb(e){let n=e.children.map(t=>Xb(t)).flat();return[e,...n]}function iN(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!qb(r)&&(o[la]=r.title),rN(o,e,n,i).pipe(Z(s=>(e._resolvedData=s,e.data=du(e,e.parent,t).resolve,null)))}function rN(e,n,t,i){let r=rm(e);if(r.length===0)return L({});let o={};return ye(r).pipe(Re(s=>oN(e[s],n,t,i).pipe(Jn(),je(a=>{if(a instanceof Uo)throw fu(new Ai,a);o[s]=a}))),Jr(1),Z(()=>o),rt(s=>Qb(s)?it:Pe(s)))}function oN(e,n,t,i){let r=ca(n)??i,o=$o(e,r),s=o.resolve?o.resolve(n,t):Rt(r,()=>o(n,t));return Vi(s)}function nm(e){return Ve(n=>{let t=e(n);return t?ye(t).pipe(Z(()=>n)):L(n)})}var ym=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===J);return i}getResolvedTitleForRoute(t){return t.data[la]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(e1),providedIn:"root"})}return e})(),e1=(()=>{class e extends ym{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(P(vb))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Tr=new k("",{providedIn:"root",factory:()=>({})}),bm=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=V({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&S(0,"router-outlet")},dependencies:[ua],encapsulation:2})}return e})();function Dm(e){let n=e.children&&e.children.map(Dm),t=n?H(I({},e),{children:n}):I({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=bm),t}var Rr=new k(""),gu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(fy);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return L(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Vi(t.loadComponent()).pipe(Z(n1),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),It(()=>{this.componentLoaders.delete(t)})),r=new Wr(i,()=>new ae).pipe(Gr());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return L({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=t1(i,this.compiler,t,this.onLoadEndListener).pipe(It(()=>{this.childrenLoaders.delete(i)})),s=new Wr(o,()=>new ae).pipe(Gr());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function t1(e,n,t,i){return Vi(e.loadChildren()).pipe(Z(n1),Re(r=>r instanceof _h||Array.isArray(r)?L(r):ye(n.compileModuleAsync(r))),Z(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Rr,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dm),injector:o}}))}function sN(e){return e&&typeof e=="object"&&"default"in e}function n1(e){return sN(e)?e.default:e}var _u=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(aN),providedIn:"root"})}return e})(),aN=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cm=new k(""),wm=new k("");function i1(e,n,t){let i=e.get(wm),r=e.get(Ne);return e.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),lN(e))),{onViewTransitionCreated:l}=i;return l&&Rt(e,()=>l({transition:a,from:n,to:t})),s})}function lN(e){return new Promise(n=>{Io({read:()=>setTimeout(n)},{injector:e})})}var Em=new k(""),vu=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ae;transitionAbortSubject=new ae;configLoader=b(gu);environmentInjector=b(Xe);destroyRef=b(Do);urlSerializer=b(Mr);rootContexts=b(xr);location=b(Oi);inputBindingEnabled=b(da,{optional:!0})!==null;titleStrategy=b(ym);options=b(Tr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(_u);createViewTransition=b(Cm,{optional:!0});navigationErrorHandler=b(Em,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>L(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new iu(r)),i=r=>this.events.next(new ru(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(H(I({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new le(null),this.transitions.pipe(Le(i=>i!==null),Ve(i=>{let r=!1,o=!1;return L(i).pipe(Ve(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Vt.SupersededByNewNavigation),it;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?H(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let d="";return this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.rawUrl),d,Lo.IgnoredSameUrlNavigation)),s.resolve(!1),it}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return L(s).pipe(Ve(d=>(this.events.next(new Li(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?it:Promise.resolve(d))),tN(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),je(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=H(I({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new ta(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:p,source:m,restoredState:v,extras:_}=s,E=new Li(d,this.urlSerializer.serialize(p),m,v);this.events.next(E);let T=Hb(this.rootComponentType).snapshot;return this.currentTransition=i=H(I({},s),{targetSnapshot:T,urlAfterRedirects:p,extras:H(I({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,L(i)}else{let d="";return this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),d,Lo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),it}}),je(s=>{let a=new Xc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Z(s=>(this.currentTransition=i=H(I({},s),{guards:DR(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),OR(this.environmentInjector,s=>this.events.next(s)),je(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw fu(this.urlSerializer,s.guardsResult);let a=new eu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Le(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Vt.GuardRejected),!1)),nm(s=>{if(s.guards.canActivateChecks.length!==0)return L(s).pipe(je(a=>{let l=new tu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ve(a=>{let l=!1;return L(a).pipe(nN(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Vt.NoDataFromResolver)}}))}),je(a=>{let l=new nu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),nm(s=>{let a=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(je(p=>{l.component=p}),Z(()=>{})));for(let p of l.children)d.push(...a(p));return d};return Kr(a(s.targetSnapshot.root)).pipe(wi(null),St(1))}),nm(()=>this.afterPreactivation()),Ve(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ye(l).pipe(Z(()=>i)):L(i)}),Z(s=>{let a=gR(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=H(I({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),je(()=>{this.events.next(new na)}),bR(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),St(1),je({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),ut(this.transitionAbortSubject.pipe(je(s=>{throw s}))),It(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),rt(s=>{if(this.destroyed)return i.resolve(!1),it;if(o=!0,Yb(s))this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),yR(s)?this.events.next(new Bo(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Vo(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Uo){let{message:d,cancellationCode:p}=fu(this.urlSerializer,l);this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.extractedUrl),d,p)),this.events.next(new Bo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return it}))}))}cancelNavigationTransition(t,i,r){let o=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cN(e){return e!==Zc}var r1=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(uN),providedIn:"root"})}return e})(),hu=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},uN=(()=>{class e extends hu{static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),o1=(()=>{class e{urlSerializer=b(Mr);options=b(Tr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Oi);urlHandlingStrategy=b(_u);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof jn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=Hb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(dN),providedIn:"root"})}return e})(),dN=(()=>{class e extends o1{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Li?this.updateStateMemento():t instanceof Bn?this.commitTransition(i):t instanceof ta?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof na?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Vn&&(t.code===Vt.GuardRejected||t.code===Vt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Vo?this.restoreHistory(i,!0):t instanceof wt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=I(I({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",l)}else{let a=I(I({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yu(e,n){e.events.pipe(Le(t=>t instanceof wt||t instanceof Vn||t instanceof Vo||t instanceof Bn),Z(t=>t instanceof wt||t instanceof Bn?0:(t instanceof Vn?t.code===Vt.Redirect||t.code===Vt.SupersededByNewNavigation:!1)?2:1),Le(t=>t!==2),St(1)).subscribe(()=>{n()})}var fN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},oe=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(zv);stateManager=b(o1);options=b(Tr,{optional:!0})||{};pendingTasks=b(li);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(vu);urlSerializer=b(Mr);location=b(Oi);urlHandlingStrategy=b(_u);_events=new ae;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(r1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Rr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(da,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vn&&i.code!==Vt.Redirect&&i.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof wt)this.navigated=!0;else if(i instanceof Bo){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=I({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cN(r.source)},s);this.scheduleNavigation(a,Zc,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}mN(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=I({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Dm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=r?r.snapshot:this.routerState.snapshot.root;m=Vb(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return jb(m,t,p,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Fi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Zc,null,i)}navigate(t,i={skipLocationChange:!1}){return hN(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=I({},fN):i===!1?r=I({},pN):r=i,Fi(t))return yb(this.currentUrlTree,t,r);let o=this.parseUrl(t);return yb(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,v)=>{a=m,l=v});let p=this.pendingTasks.add();return yu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hN(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new A(4008,!1)}function mN(e){return!(e instanceof na)&&!(e instanceof Bo)}var Ye=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ae;constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof wt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:nv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||e)(C(oe),C(lt),rc("tabindex"),C(hn),C(Ge),C(vn))};static \u0275dir=de({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&M("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Ri("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ni],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ni],replaceUrl:[2,"replaceUrl","replaceUrl",Ni],routerLink:"routerLink"},features:[Dt]})}return e})(),ha=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new me;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof wt&&this.update()})}ngAfterContentInit(){L(this.links.changes,L(null)).pipe(Di()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ye(t).pipe(Di()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=gN(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||e)(C(oe),C(Ge),C(hn),C(kn),C(Ye,8))};static \u0275dir=de({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&yh(o,Ye,5),i&2){let s;mn(s=gn())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Dt]})}return e})();function gN(e){return!!e.paths}var pa=class{};var s1=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Le(t=>t instanceof wt),wn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=xs(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ye(r).pipe(Di())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=L(null);let o=r.pipe(Re(s=>s===null?L(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ye([o,s]).pipe(Di())}else return o})}static \u0275fac=function(i){return new(i||e)(P(oe),P(Xe),P(pa),P(gu))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),a1=new k(""),_N=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bn&&t.code===Lo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jo&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Pv()};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function Im(e,...n){return go([{provide:Rr,multi:!0,useValue:e},[],{provide:lt,useFactory:l1,deps:[oe]},{provide:gc,multi:!0,useFactory:c1},n.map(t=>t.\u0275providers)])}function l1(e){return e.routerState.root}function ma(e,n){return{\u0275kind:e,\u0275providers:n}}function c1(){let e=b(ot);return n=>{let t=e.get(ri);if(n!==t.components[0])return;let i=e.get(oe),r=e.get(u1);e.get(Mm)===1&&i.initialNavigation(),e.get(p1,null,ie.Optional)?.setUpPreloading(),e.get(a1,null,ie.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var u1=new k("",{factory:()=>new ae}),Mm=new k("",{providedIn:"root",factory:()=>1});function d1(){let e=[{provide:Mm,useValue:0},vh(()=>{let n=b(ot);return n.get(Eh,Promise.resolve()).then(()=>new Promise(i=>{let r=n.get(oe),o=n.get(u1);yu(r,()=>{i(!0)}),n.get(vu).afterPreactivation=()=>(i(!0),o.closed?L(void 0):o),r.initialNavigation()}))})];return ma(2,e)}function f1(){let e=[vh(()=>{b(oe).setUpLocationChangeListener()}),{provide:Mm,useValue:2}];return ma(3,e)}var p1=new k("");function h1(e){return ma(0,[{provide:p1,useExisting:s1},{provide:pa,useExisting:e}])}function m1(){return ma(8,[vm,{provide:da,useExisting:vm}])}function g1(e){Ti("NgRouterViewTransitions");let n=[{provide:Cm,useValue:i1},{provide:wm,useValue:I({skipNextTransition:!!e?.skipInitialTransition},e)}];return ma(9,n)}var _1=[Oi,{provide:Mr,useClass:Ai},oe,xr,{provide:lt,useFactory:l1,deps:[oe]},gu,[]],Nr=(()=>{class e{constructor(){}static forRoot(t,i){return{ngModule:e,providers:[_1,[],{provide:Rr,multi:!0,useValue:t},[],i?.errorHandler?{provide:Em,useValue:i.errorHandler}:[],{provide:Tr,useValue:i||{}},i?.useHash?yN():bN(),vN(),i?.preloadingStrategy?h1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?DN(i):[],i?.bindToComponentInputs?m1().\u0275providers:[],i?.enableViewTransitions?g1().\u0275providers:[],CN()]}}static forChild(t){return{ngModule:e,providers:[{provide:Rr,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})();function vN(){return{provide:a1,useFactory:()=>{let e=b(Wy),n=b(Ce),t=b(Tr),i=b(vu),r=b(Mr);return t.scrollOffset&&e.setOffset(t.scrollOffset),new _N(r,i,e,n,t)}}}function yN(){return{provide:vn,useClass:Nh}}function bN(){return{provide:vn,useClass:Cc}}function DN(e){return[e.initialNavigation==="disabled"?f1().\u0275providers:[],e.initialNavigation==="enabledBlocking"?d1().\u0275providers:[]]}var Sm=new k("");function CN(){return[{provide:Sm,useFactory:c1},{provide:gc,multi:!0,useExisting:Sm}]}var I1=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(C(hn),C(Ge))};static \u0275dir=de({type:e})}return e})(),Ca=(()=>{class e extends I1{static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,features:[st]})}return e})(),Bi=new k(""),wN={provide:Bi,useExisting:pt(()=>Nm),multi:!0},Nm=(()=>{class e extends Ca{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Pt([wN]),st]})}return e})(),EN={provide:Bi,useExisting:pt(()=>Oe),multi:!0};function SN(){let e=on()?on().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var IN=new k(""),Oe=(()=>{class e extends I1{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!SN())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(C(hn),C(Ge),C(IN,8))};static \u0275dir=de({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&M("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Pt([EN]),st]})}return e})();function Om(e){return e==null||Pm(e)===0}function Pm(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Pr=new k(""),wa=new k(""),MN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,U=class{static min(n){return M1(n)}static max(n){return xN(n)}static required(n){return x1(n)}static requiredTrue(n){return TN(n)}static email(n){return RN(n)}static minLength(n){return NN(n)}static maxLength(n){return ON(n)}static pattern(n){return PN(n)}static nullValidator(n){return Du()}static compose(n){return k1(n)}static composeAsync(n){return A1(n)}};function M1(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function xN(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function x1(e){return Om(e.value)?{required:!0}:null}function TN(e){return e.value===!0?null:{required:!0}}function RN(e){return Om(e.value)||MN.test(e.value)?null:{email:!0}}function NN(e){return n=>{let t=n.value?.length??Pm(n.value);return t===null||t===0?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}function ON(e){return n=>{let t=n.value?.length??Pm(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function PN(e){if(!e)return Du;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(Om(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Du(e){return null}function T1(e){return e!=null}function R1(e){return vr(e)?ye(e):e}function N1(e){let n={};return e.forEach(t=>{n=t!=null?I(I({},n),t):n}),Object.keys(n).length===0?null:n}function O1(e,n){return n.map(t=>t(e))}function kN(e){return!e.validate}function P1(e){return e.map(n=>kN(n)?n:t=>n.validate(t))}function k1(e){if(!e)return null;let n=e.filter(T1);return n.length==0?null:function(t){return N1(O1(t,n))}}function km(e){return e!=null?k1(P1(e)):null}function A1(e){if(!e)return null;let n=e.filter(T1);return n.length==0?null:function(t){let i=O1(t,n).map(R1);return nf(i).pipe(Z(N1))}}function Am(e){return e!=null?A1(P1(e)):null}function v1(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function F1(e){return e._rawValidators}function L1(e){return e._rawAsyncValidators}function xm(e){return e?Array.isArray(e)?e:[e]:[]}function Cu(e,n){return Array.isArray(e)?e.includes(n):e===n}function y1(e,n){let t=xm(n);return xm(e).forEach(r=>{Cu(t,r)||t.push(r)}),t}function b1(e,n){return xm(n).filter(t=>!Cu(e,t))}var wu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=km(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Am(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},hi=class extends wu{name;get formDirective(){return null}get path(){return null}},mi=class extends wu{_parent=null;name=null;valueAccessor=null},Eu=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},AN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},i5=H(I({},AN),{"[class.ng-submitted]":"isSubmitted"}),$e=(()=>{class e extends Eu{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(C(mi,2))};static \u0275dir=de({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&mt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[st]})}return e})(),an=(()=>{class e extends Eu{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(C(hi,10))};static \u0275dir=de({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&mt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[st]})}return e})();var ga="VALID",bu="INVALID",qo="PENDING",_a="DISABLED",ji=class{},Su=class extends ji{value;source;constructor(n,t){super(),this.value=n,this.source=t}},ya=class extends ji{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},ba=class extends ji{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},zo=class extends ji{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Iu=class extends ji{source;constructor(n){super(),this.source=n}},Mu=class extends ji{source;constructor(n){super(),this.source=n}};function Fm(e){return(Nu(e)?e.validators:e)||null}function FN(e){return Array.isArray(e)?km(e):e||null}function Lm(e,n){return(Nu(n)?n.asyncValidators:e)||null}function LN(e){return Array.isArray(e)?Am(e):e||null}function Nu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function V1(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new A(1e3,"");if(!i[t])throw new A(1001,"")}function j1(e,n,t){e._forEachChild((i,r)=>{if(t[r]===void 0)throw new A(1002,"")})}var Go=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return An(this.statusReactive)}set status(n){An(()=>this.statusReactive.set(n))}_status=To(()=>this.statusReactive());statusReactive=wo(void 0);get valid(){return this.status===ga}get invalid(){return this.status===bu}get pending(){return this.status==qo}get disabled(){return this.status===_a}get enabled(){return this.status!==_a}errors;get pristine(){return An(this.pristineReactive)}set pristine(n){An(()=>this.pristineReactive.set(n))}_pristine=To(()=>this.pristineReactive());pristineReactive=wo(!0);get dirty(){return!this.pristine}get touched(){return An(this.touchedReactive)}set touched(n){An(()=>this.touchedReactive.set(n))}_touched=To(()=>this.touchedReactive());touchedReactive=wo(!1);get untouched(){return!this.touched}_events=new ae;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(y1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(y1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(b1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(b1(n,this._rawAsyncValidators))}hasValidator(n){return Cu(this._rawValidators,n)}hasAsyncValidator(n){return Cu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(H(I({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new ba(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new ba(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(H(I({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new ya(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new ya(!0,i))}markAsPending(n={}){this.status=qo;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new zo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(H(I({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=_a,this.errors=null,this._forEachChild(r=>{r.disable(H(I({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Su(this.value,i)),this._events.next(new zo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(I({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ga,this._forEachChild(i=>{i.enable(H(I({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(H(I({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ga||this.status===qo)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Su(this.value,t)),this._events.next(new zo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(H(I({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_a:ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=qo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=R1(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new zo(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?_a:this.errors?bu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qo)?qo:this._anyControlsHaveStatus(bu)?bu:ga}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new ya(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new ba(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Nu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=FN(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=LN(this._rawAsyncValidators)}},Wo=class extends Go{constructor(n,t,i){super(Fm(t),Lm(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){j1(this,!0,n),Object.keys(n).forEach(i=>{V1(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Tm=class extends Wo{};var Yo=new k("",{providedIn:"root",factory:()=>Ou}),Ou="always";function B1(e,n){return[...n.path,e]}function Da(e,n,t=Ou){Vm(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),jN(e,n),UN(e,n),BN(e,n),VN(e,n)}function xu(e,n,t=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Ru(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Tu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function VN(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Vm(e,n){let t=F1(e);n.validator!==null?e.setValidators(v1(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=L1(e);n.asyncValidator!==null?e.setAsyncValidators(v1(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Tu(n._rawValidators,r),Tu(n._rawAsyncValidators,r)}function Ru(e,n){let t=!1;if(e!==null){if(n.validator!==null){let r=F1(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let r=L1(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(t=!0,e.setAsyncValidators(o))}}}let i=()=>{};return Tu(n._rawValidators,i),Tu(n._rawAsyncValidators,i),t}function jN(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&U1(e,n)})}function BN(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&U1(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function U1(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function UN(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function H1(e,n){e==null,Vm(e,n)}function HN(e,n){return Ru(e,n)}function jm(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function $N(e){return Object.getPrototypeOf(e.constructor)===Ca}function $1(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Bm(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===Oe?t=o:$N(o)?i=o:r=o}),r||i||t||null}function qN(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var zN={provide:hi,useExisting:pt(()=>Ea)},va=Promise.resolve(),Ea=(()=>{class e extends hi{callSetDisabledState;get submitted(){return An(this.submittedReactive)}_submitted=To(()=>this.submittedReactive());submittedReactive=wo(!1);_directives=new Set;form;ngSubmit=new me;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new Wo({},km(t),Am(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){va.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Da(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){va.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){va.then(()=>{let i=this._findContainer(t.path),r=new Wo({});H1(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){va.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){va.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),$1(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Iu(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Mu(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||e)(C(Pr,10),C(wa,10),C(Yo,8))};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&M("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pt([zN]),st]})}return e})();function D1(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function C1(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Or=class extends Go{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(Fm(t),Lm(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(C1(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){D1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){D1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){C1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var GN=e=>e instanceof Or;var WN={provide:mi,useExisting:pt(()=>Gt)},w1=Promise.resolve(),Gt=(()=>{class e extends mi{_changeDetectorRef;callSetDisabledState;control=new Or;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new me;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Bm(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),jm(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Da(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){w1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Ni(i);w1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?B1(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(C(hi,9),C(Pr,10),C(wa,10),C(Bi,10),C(kn,8),C(Yo,8))};static \u0275dir=de({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pt([WN]),st,Dt]})}return e})();var ln=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),YN={provide:Bi,useExisting:pt(()=>Dn),multi:!0},Dn=(()=>{class e extends Ca{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&M("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Pt([YN]),st]})}return e})();var Um=new k(""),QN={provide:mi,useExisting:pt(()=>Hm)},Hm=(()=>{class e extends mi{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Bm(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&xu(i,this,!1),Da(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}jm(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&xu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||e)(C(Pr,10),C(wa,10),C(Bi,10),C(Um,8),C(Yo,8))};static \u0275dir=de({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Pt([QN]),st,Dt]})}return e})(),ZN={provide:hi,useExisting:pt(()=>gi)},gi=(()=>{class e extends hi{callSetDisabledState;get submitted(){return An(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=To(()=>this._submittedReactive());_submittedReactive=wo(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new me;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ru(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Da(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){xu(t.control||null,t,!1),qN(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),$1(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Iu(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Mu(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(xu(i||null,t),GN(r)&&(Da(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);H1(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&HN(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vm(this.form,this),this._oldForm&&Ru(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(C(Pr,10),C(wa,10),C(Yo,8))};static \u0275dir=de({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&M("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pt([ZN]),st,Dt]})}return e})();var KN={provide:mi,useExisting:pt(()=>_i)},_i=(()=>{class e extends mi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Bm(this,o)}ngOnChanges(t){this._added||this._setUpControl(),jm(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return B1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||e)(C(hi,13),C(Pr,10),C(wa,10),C(Bi,10),C(Um,8))};static \u0275dir=de({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Pt([KN]),st,Dt]})}return e})();var JN={provide:Bi,useExisting:pt(()=>Un),multi:!0};function q1(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function XN(e){return e.split(":")[0]}var Un=(()=>{class e extends Ca{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),r=q1(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=XN(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pt([JN]),st]})}return e})(),Hn=(()=>{class e{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(q1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(C(Ge),C(hn),C(Un,9))};static \u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),eO={provide:Bi,useExisting:pt(()=>z1),multi:!0};function E1(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function tO(e){return e.split(":")[0]}var z1=(()=>{class e extends Ca{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);r.push(d)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=tO(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pt([eO]),st]})}return e})(),$n=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(E1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(E1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(C(Ge),C(hn),C(z1,9))};static \u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function nO(e){return typeof e=="number"?e:parseFloat(e)}var G1=(()=>{class e{_validator=Du;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Du,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,features:[Dt]})}return e})();var iO={provide:Pr,useExisting:pt(()=>$m),multi:!0},$m=(()=>{class e extends G1{min;inputName="min";normalizeInput=t=>nO(t);createValidator=t=>M1(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Pt([iO]),st]})}return e})(),rO={provide:Pr,useExisting:pt(()=>qm),multi:!0};var qm=(()=>{class e extends G1{required;inputName="required";normalizeInput=Ni;createValidator=t=>x1;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Pt([rO]),st]})}return e})();var W1=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})(),Rm=class extends Go{constructor(n,t,i){super(Fm(t),Lm(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){j1(this,!1,n),n.forEach((i,r)=>{V1(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function S1(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Ui=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return S1(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Wo(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Tm(r,i)}control(t,i,r){let o={};return this.useNonNullable?(S1(i)?o=i:(o.validators=i,o.asyncValidators=r),new Or(t,H(I({},o),{nonNullable:!0}))):new Or(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Rm(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Or)return t;if(t instanceof Go)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Qe=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Yo,useValue:t.callSetDisabledState??Ou}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({imports:[W1]})}return e})(),qn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Um,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Yo,useValue:t.callSetDisabledState??Ou}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({imports:[W1]})}return e})();var Qo=class{static priceRangeValidator(n,t){return i=>{let r=i.get(n)?.value,o=i.get(t)?.value;return r!==null&&o!==null&&r>o?{priceRange:!0}:null}}};var Wt=class e{constructor(n){this.http=n}endpoint="api/deliveryrequest";endpoint2="api/DRApplication";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getAuthHeaders(){let n=this.getAuthToken();if(!n)throw console.error("No token found"),new Error("No token");return new at({Authorization:`Bearer ${n}`})}create(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(!t)return console.error("No token found"),Pe(()=>new Error("No token"));let i=new at({Authorization:`Bearer ${t}`});return this.http.post(`${this.endpoint}`,n,{headers:i})}getallDRs(n,t){let i=new Lt;return n&&(n.title&&(i=i.set("title",n.title)),n.status?.length&&n.status.forEach(r=>{i=i.append("Status",r.toString())}),n.pickupLocation&&(i=i.set("PickupLocation",n.pickupLocation)),n.dropoffLocation&&(i=i.set("DropOffLocation",n.dropoffLocation)),n.pickupDate&&(i=i.set("StartPickUpDate",n.pickupDate)),n.minPrice!=null&&(i=i.set("StartPrice",n.minPrice.toString()))),t>0&&(i=i.set("pageNumber",t)),this.http.get(`${this.endpoint}`,{params:i})}getMyDeliveryRequests(){let n=this.getAuthHeaders();return this.http.get(`${this.endpoint}/my`,{headers:n})}getById(n){return this.http.get(`${this.endpoint}/${n}`)}update(n,t){return this.http.put(`${this.endpoint}/${n}`,t)}delete(n){return this.http.delete(`${this.endpoint}/${n}`)}getRequestDetails(n){return this.http.get(`${this.endpoint}/details/${n}`)}changeStatus(n){let t=this.getAuthHeaders();return this.http.put(`${this.endpoint2}/updatestatus`,n,{headers:t})}static \u0275fac=function(t){return new(t||e)(P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function oO(e,n){e&1&&(u(0,"small"),f(1,"Title is required"),c())}function sO(e,n){e&1&&(u(0,"small"),f(1,"Title must be less than 100 characters"),c())}function aO(e,n){if(e&1&&(u(0,"div",5),D(1,oO,2,0,"small")(2,sO,2,0,"small"),c()),e&2){let t,i,r=y();h(),fe(!((t=r.updateForm.get("title"))==null||t.errors==null)&&t.errors.required?1:-1),h(),fe(!((i=r.updateForm.get("title"))==null||i.errors==null)&&i.errors.maxlength?2:-1)}}function lO(e,n){e&1&&(u(0,"small"),f(1,"Description is required"),c())}function cO(e,n){e&1&&(u(0,"small"),f(1,"Description must be less than 500 characters"),c())}function uO(e,n){if(e&1&&(u(0,"div",5),D(1,lO,2,0,"small")(2,cO,2,0,"small"),c()),e&2){let t,i,r=y();h(),fe(!((t=r.updateForm.get("description"))==null||t.errors==null)&&t.errors.required?1:-1),h(),fe(!((i=r.updateForm.get("description"))==null||i.errors==null)&&i.errors.maxlength?2:-1)}}function dO(e,n){e&1&&(u(0,"small"),f(1,"Pickup location is required"),c())}function fO(e,n){if(e&1&&(u(0,"div",5),D(1,dO,2,0,"small"),c()),e&2){let t,i=y();h(),fe(!((t=i.updateForm.get("pickUpLocation"))==null||t.errors==null)&&t.errors.required?1:-1)}}function pO(e,n){e&1&&(u(0,"small"),f(1,"Dropoff location is required"),c())}function hO(e,n){if(e&1&&(u(0,"div",5),D(1,pO,2,0,"small"),c()),e&2){let t,i=y();h(),fe(!((t=i.updateForm.get("dropOffLocation"))==null||t.errors==null)&&t.errors.required?1:-1)}}function mO(e,n){e&1&&(u(0,"small"),f(1,"Pickup date is required"),c())}function gO(e,n){if(e&1&&(u(0,"div",5),D(1,mO,2,0,"small"),c()),e&2){let t,i=y();h(),fe(!((t=i.updateForm.get("pickUpDate"))==null||t.errors==null)&&t.errors.required?1:-1)}}function _O(e,n){e&1&&(u(0,"small"),f(1,"Minimum price is required"),c())}function vO(e,n){e&1&&(u(0,"small"),f(1,"Price must be 0 or more"),c())}function yO(e,n){if(e&1&&(u(0,"div",5),D(1,_O,2,0,"small")(2,vO,2,0,"small"),c()),e&2){let t,i,r=y();h(),fe(!((t=r.updateForm.get("minPrice"))==null||t.errors==null)&&t.errors.required?1:-1),h(),fe(!((i=r.updateForm.get("minPrice"))==null||i.errors==null)&&i.errors.min?2:-1)}}function bO(e,n){e&1&&(u(0,"small"),f(1,"Maximum price is required"),c())}function DO(e,n){e&1&&(u(0,"small"),f(1,"Price must be 0 or more"),c())}function CO(e,n){if(e&1&&(u(0,"div",5),D(1,bO,2,0,"small")(2,DO,2,0,"small"),c()),e&2){let t,i,r=y();h(),fe(!((t=r.updateForm.get("maxPrice"))==null||t.errors==null)&&t.errors.required?1:-1),h(),fe(!((i=r.updateForm.get("maxPrice"))==null||i.errors==null)&&i.errors.min?2:-1)}}function wO(e,n){e&1&&(u(0,"div",22),f(1," Maximum price must be greater than minimum price "),c())}var Pu=class e{constructor(n,t,i,r){this.deliveryRequestService=n;this.fb=t;this.route=i;this.router=r}updateForm;deliveryRequestId;ngOnInit(){this.deliveryRequestId=this.route.snapshot.params.id,this.initForm(),this.loadDeliveryRequest()}initForm(){this.updateForm=this.fb.group({title:["",[U.required,U.maxLength(50)]],description:["",[U.required,U.maxLength(500)]],pickUpLocation:["",[U.required]],dropOffLocation:["",[U.required]],pickUpDate:["",[U.required]],minPrice:[0,[U.required,U.min(0)]],maxPrice:[0,[U.required,U.min(0)]],DRimage:[null]},{validators:[Qo.priceRangeValidator("minPrice","maxPrice")]})}onFileChange(n){let t=n.target.files[0];t&&this.updateForm.patchValue({DRimage:t})}loadDeliveryRequest(){this.deliveryRequestService.getById(this.deliveryRequestId).subscribe({next:n=>{this.updateForm.patchValue({title:n.title,description:n.description,pickUpLocation:n.pickUpLocation,dropOffLocation:n.dropOffLocation,pickUpDate:n.pickUpDate,minPrice:n.minPrice,maxPrice:n.maxPrice})}})}onSubmit(){if(this.updateForm.valid){let n=new FormData;n.append("title",this.updateForm.value.title),n.append("description",this.updateForm.value.description),n.append("totalWeight","0"),n.append("pickUpLocation",this.updateForm.value.pickUpLocation),n.append("dropOffLocation",this.updateForm.value.dropOffLocation),n.append("pickUpDate",this.updateForm.value.pickUpDate),n.append("minPrice",this.updateForm.value.minPrice),n.append("maxPrice",this.updateForm.value.maxPrice);let t=this.updateForm.get("DRimage")?.value;t&&n.append("DRimage",t),this.deliveryRequestService.update(this.deliveryRequestId,n).subscribe({next:()=>this.router.navigate(["/deliveryrequest"]),error:i=>console.error("Error updating delivery request:",i)})}}static \u0275fac=function(t){return new(t||e)(C(Wt),C(Ui),C(lt),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-delivery-request-update"]],decls:46,vars:10,consts:[[1,"container","mt-4"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control"],[1,"text-danger"],["for","description",1,"form-label"],["id","description","rows","3","formControlName","description",1,"form-control"],["for","pickUpLocation",1,"form-label"],["type","text","id","pickUpLocation","formControlName","pickUpLocation",1,"form-control"],["for","dropOffLocation",1,"form-label"],["type","text","id","dropOffLocation","formControlName","dropOffLocation",1,"form-control"],["for","pickUpDate",1,"form-label"],["type","date","id","pickUpDate","formControlName","pickUpDate",1,"form-control"],[1,"row","mb-3"],[1,"col-md-6"],["for","minPrice",1,"form-label"],["type","number","id","minPrice","formControlName","minPrice",1,"form-control"],["for","maxPrice",1,"form-label"],["type","number","id","maxPrice","formControlName","maxPrice",1,"form-control"],["for","DRimage",1,"form-label"],["type","file","id","DRimage","accept","image/*",1,"form-control",3,"change"],[1,"alert","alert-danger","mb-3"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"form",1),M("ngSubmit",function(){return i.onSubmit()}),u(2,"div",2)(3,"label",3),f(4,"Title"),c(),S(5,"input",4),D(6,aO,3,2,"div",5),c(),u(7,"div",2)(8,"label",6),f(9,"Description"),c(),S(10,"textarea",7),D(11,uO,3,2,"div",5),c(),u(12,"div",2)(13,"label",8),f(14,"Pickup Location"),c(),S(15,"input",9),D(16,fO,2,1,"div",5),c(),u(17,"div",2)(18,"label",10),f(19,"Dropoff Location"),c(),S(20,"input",11),D(21,hO,2,1,"div",5),c(),u(22,"div",2)(23,"label",12),f(24,"Pickup Date"),c(),S(25,"input",13),D(26,gO,2,1,"div",5),c(),u(27,"div",14)(28,"div",15)(29,"label",16),f(30,"Minimum Price ($)"),c(),S(31,"input",17),D(32,yO,3,2,"div",5),c(),u(33,"div",15)(34,"label",18),f(35,"Maximum Price ($)"),c(),S(36,"input",19),D(37,CO,3,2,"div",5),c(),u(38,"div",2)(39,"label",20),f(40,"Update Image"),c(),u(41,"input",21),M("change",function(o){return i.onFileChange(o)}),c()()(),D(42,wO,2,0,"div",22),u(43,"div",23)(44,"button",24),f(45," Update Delivery Request "),c()()()()),t&2){let r,o,s,a,l,d,p;h(),g("formGroup",i.updateForm),h(5),fe((r=i.updateForm.get("title"))!=null&&r.invalid&&((r=i.updateForm.get("title"))!=null&&r.dirty||(r=i.updateForm.get("title"))!=null&&r.touched)?6:-1),h(5),fe((o=i.updateForm.get("description"))!=null&&o.invalid&&((o=i.updateForm.get("description"))!=null&&o.dirty||(o=i.updateForm.get("description"))!=null&&o.touched)?11:-1),h(5),fe((s=i.updateForm.get("pickUpLocation"))!=null&&s.invalid&&((s=i.updateForm.get("pickUpLocation"))!=null&&s.dirty||(s=i.updateForm.get("pickUpLocation"))!=null&&s.touched)?16:-1),h(5),fe((a=i.updateForm.get("dropOffLocation"))!=null&&a.invalid&&((a=i.updateForm.get("dropOffLocation"))!=null&&a.dirty||(a=i.updateForm.get("dropOffLocation"))!=null&&a.touched)?21:-1),h(5),fe((l=i.updateForm.get("pickUpDate"))!=null&&l.invalid&&((l=i.updateForm.get("pickUpDate"))!=null&&l.dirty||(l=i.updateForm.get("pickUpDate"))!=null&&l.touched)?26:-1),h(6),fe((d=i.updateForm.get("minPrice"))!=null&&d.invalid&&((d=i.updateForm.get("minPrice"))!=null&&d.dirty||(d=i.updateForm.get("minPrice"))!=null&&d.touched)?32:-1),h(5),fe((p=i.updateForm.get("maxPrice"))!=null&&p.invalid&&((p=i.updateForm.get("maxPrice"))!=null&&p.dirty||(p=i.updateForm.get("maxPrice"))!=null&&p.touched)?37:-1),h(5),fe(i.updateForm.errors!=null&&i.updateForm.errors.priceRange?42:-1),h(2),g("disabled",i.updateForm.invalid)}},dependencies:[qn,ln,Oe,Dn,$e,an,gi,_i],encapsulation:2})};var qe=class e{constructor(n,t){this.router=n;this.http=t}isLoggedInSubject=new le(this.hasToken());isLoggedIn$=this.isLoggedInSubject.asObservable();response="";apiUrl="api/user";refreshTokenTimeout;isAuthRoute=!1;_confirmPassword="";login(n){return this._confirmPassword=n.password,localStorage.setItem("password",this._confirmPassword),this.http.post(`${this.apiUrl}/login`,n).pipe(Ve(t=>(t.isSuccess&&(this.storeTokens(t.data,n.rememberMe),this.startRefreshTokenTimer(),this.isLoggedInSubject.next(!0)),L(t))),rt(t=>(console.error("Login error:",t),Pe(()=>t))))}recoverAccount(n){let t=new Lt().set("user",n);return this.http.put(`${this.apiUrl}/Recover`,null,{params:t}).pipe(je(i=>console.log("Recover response:",i)),rt(i=>(console.error("Recover error:",i),Pe(i))))}guardedRoute=!1;setGuardedRoute(n){this.guardedRoute=n}isGuarded(){return this.guardedRoute}refreshToken(){let n=this.getRefreshToken();return n?this.http.post(`${this.apiUrl}/refresh-token`,{refreshToken:n}).pipe(Ve(t=>(t.isSuccess&&(this.storeTokens(t.data,this.isRememberMe()),this.startRefreshTokenTimer()),t)),rt(t=>(console.error("Refresh token error:",t),this.logout(),Pe(()=>t)))):(this.logout(),Pe(()=>new Error("No refresh token available")))}isRememberMe(){return!!localStorage.getItem("token")}storeTokens(n,t){let i=t?localStorage:sessionStorage;i.setItem("token",n.token),i.setItem("exp",new Date(n.expiration).getTime().toString()),i.setItem("refreshToken",n.refreshToken),i.setItem("refreshExp",new Date(n.refreshTokenExpiration).getTime().toString())}clearTokens(){localStorage.clear(),sessionStorage.clear(),this.refreshTokenTimeout&&clearTimeout(this.refreshTokenTimeout)}getRefreshToken(){return localStorage.getItem("refreshToken")||sessionStorage.getItem("refreshToken")}startRefreshTokenTimer(){let n=localStorage.getItem("exp")||sessionStorage.getItem("exp");if(!n)return;let i=parseInt(n)-Date.now()-6e4;i>0&&(this.refreshTokenTimeout=setTimeout(()=>{this.refreshToken().subscribe()},i))}logout(){this.clearTokens(),this.isLoggedInSubject.next(!1),this.isGuarded()?this.router.navigate(["/login"]):window.location.reload()}hasToken(){return!!localStorage.getItem("token")||!!sessionStorage.getItem("token")}getUser(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(!t)return console.error("No token found"),Pe(()=>new Error("No token"));let i=new at({Authorization:`Bearer ${t}`}),r=new Lt().set("Name",n);return this.http.get(`${this.apiUrl}/findbyname`,{headers:i,params:r})}getToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getUserProfile(){console.log("Fetching user profile...");let n=localStorage.getItem("token")||sessionStorage.getItem("token");if(!n)return console.error("Token not found!"),Pe(()=>new Error("Token missing"));let t=new at().set("Authorization",`Bearer ${n}`);return this.http.get(`${this.apiUrl}/profile`,{headers:t})}updateUser(n,t){let i=this.getToken();if(!i)return Pe(()=>new Error("Token missing"));let r=new at().set("Authorization",`Bearer ${i}`),o=new FormData;for(let s in n)n.hasOwnProperty(s)&&o.append(s,n[s]);return t&&o.append("profileImage",t),this.http.put(`${this.apiUrl}/update`,o,{headers:r})}deleteUser(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(t)if(n==localStorage.getItem("password")){let i=new at().set("Authorization",`Bearer ${t}`);return this.http.delete(`${this.apiUrl}/delete`,{headers:i})}else return console.error("Password does not match!"),Pe(()=>new Error("Password does not match"));else return console.error("Token not found!"),Pe(()=>new Error("Token missing"))}uploadUserProfileImage(n){return this.http.post("https://localhost:7176/api/Auth/upload-profile-image",n)}static \u0275fac=function(t){return new(t||e)(P(oe),P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function EO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Full Name:"),c(),f(3),c()),e&2){let t=y(2);h(3),j(" ",t.user.fullName," ")}}function SO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Address:"),c(),f(3),c()),e&2){let t=y(2);h(3),j(" ",t.user.address," ")}}function IO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Phone:"),c(),f(3),c()),e&2){let t=y(2);h(3),j(" ",t.user.phone," ")}}function MO(e,n){if(e&1&&(u(0,"div",3),S(1,"i",4),u(2,"div",5)(3,"h5",6),f(4),c(),D(5,EO,4,1,"p",7)(6,SO,4,1,"p",7)(7,IO,4,1,"p",7),u(8,"button",8),S(9,"i",9),f(10," Send Message "),c()()()),e&2){let t=y();h(4),O(t.user.userName),h(),g("ngIf",t.user.fullName),h(),g("ngIf",t.user.address),h(),g("ngIf",t.user.phone)}}function xO(e,n){if(e&1&&(u(0,"div",11),f(1),c()),e&2){let t=y();h(),j(" ",t.error," ")}}var ku=class e{constructor(n,t){this.route=n;this.authService=t}user;error="";ngOnInit(){this.route.queryParams.subscribe(n=>{let t=n.name;t&&this.authService.getUser(t).subscribe({next:i=>{this.user=i.data,this.error=""},error:i=>{this.user="",console.error("Error fetching user:",i),this.error="User not exist, please check the name you entered."}})})}static \u0275fac=function(t){return new(t||e)(C(lt),C(qe))};static \u0275cmp=V({type:e,selectors:[["app-user-details"]],decls:4,vars:2,consts:[["errorTpl",""],[1,"container","mt-5"],["class","card mx-auto shadow","style","width: 22rem;",4,"ngIf","ngIfElse"],[1,"card","mx-auto","shadow",2,"width","22rem"],[1,"bi","bi-person-fill",2,"font-size","150px","color","#F44336","text-align","center","border-radius","10px"],[1,"card-body","text-center"],[1,"card-title",2,"color","#000000"],["class","card-text mb-1",4,"ngIf"],[1,"btn","btn-danger","mt-3","bg-danger"],[1,"bi","bi-envelope-fill","me-1"],[1,"card-text","mb-1"],["role","alert",1,"alert","alert-danger","text-center","mt-4"]],template:function(t,i){if(t&1&&(u(0,"div",1),D(1,MO,11,4,"div",2)(2,xO,2,1,"ng-template",null,0,As),c()),t&2){let r=Ns(3);h(),g("ngIf",i.user)("ngIfElse",r)}},dependencies:[re],encapsulation:2})};var Hi=["Cairo","Giza","Alexandria","Qalyubia","Port Said","Suez","Dakahlia","Sharqia","Kafr El Sheikh","Gharbia","Monufia","Beheira","Ismailia","Fayoum","Beni Suef","Minya","Asyut","Sohag","Qena","Luxor","Aswan","Red Sea","New Valley","Matrouh","North Sinai","South Sinai","Damietta"];var TO=()=>["/"];function RO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=y();h(),O(t.errors.fullName)}}function NO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=y();h(),O(t.errors.email)}}function OO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=y();h(),O(t.notvalidemail)}}function PO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=y();h(),O(t.errors.phone)}}function kO(e,n){if(e&1&&(u(0,"option",27),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),O(t)}}function AO(e,n){if(e&1){let t=ne();u(0,"button",28),M("click",function(){R(t);let r=y();return N(r.startEdit())}),f(1,"Edit Profile"),c()}}function FO(e,n){e&1&&(u(0,"button",29),f(1,"Go to home"),c()),e&2&&g("routerLink",Pn(1,TO))}function LO(e,n){if(e&1){let t=ne();Nn(0),u(1,"button",30),f(2,"Save"),c(),u(3,"button",31),M("click",function(){R(t);let r=y();return N(r.cancelEdit())}),f(4,"Cancel"),c(),On()}}var Au=class e{constructor(n){this.router=n}authService=b(qe);user={};selectedImage=null;uploadingImage=!1;loading=!1;notvalidemail=null;editingProfile=!1;errors={fullName:"",email:"",phone:""};showPopup=!1;egyptGovernorates=Hi;ngOnInit(){if(!this.authService.hasToken()){this.router.navigate(["/login"]);return}this.loadUser()}loadUser(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}})}validate(){let n=!0;this.errors={fullName:"",email:"",phone:""},(!this.user.fullName||this.user.fullName.trim().length<3)&&(this.errors.fullName="Full name must be at least 3 characters.",n=!1);let t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return(!this.user.email||!t.test(this.user.email))&&(this.errors.email="Enter a valid email.",n=!1),this.user.phone&&!/^(010|011|012|015)\d{8}$/.test(this.user.phone)&&(this.errors.phone="Phone must be a valid Egyptian number.",n=!1),n}onFileSelected(n){let t=n.target.files[0];t&&(this.selectedImage=t)}uploadImage(){if(!this.selectedImage)return;let n=new FormData;n.append("image",this.selectedImage),this.uploadingImage=!0,this.authService.uploadUserProfileImage(n).subscribe({next:t=>{alert("Image uploaded successfully."),this.uploadingImage=!1,this.loadUser()},error:t=>{console.error("Image upload failed:",t),alert("Image upload failed."),this.uploadingImage=!1}})}startEdit(){this.editingProfile=!0}saveProfile(){this.validate()&&(this.loading=!0,this.authService.updateUser(this.user,this.selectedImage).subscribe({next:()=>{alert("User updated successfully!"),this.loading=!1,this.loadUser(),this.editingProfile=!1},error:n=>{console.error("Update failed:",n),n.error?.message==="Email is already taken."?this.notvalidemail="Email is already taken. Please choose another one.":this.notvalidemail="An error occurred. Please try again later.",this.loading=!1}}))}togglePopup(){this.showPopup=!this.showPopup}cancelEdit(){this.editingProfile=!1,this.loadUser()}static \u0275fac=function(t){return new(t||e)(C(oe))};static \u0275cmp=V({type:e,selectors:[["app-edit-user"]],decls:41,vars:18,consts:[["editForm","ngForm"],[1,"auth-background","d-flex","justify-content-center","align-items-center","py-5","px-3"],[1,"registerForm","w-100","bg-white","p-4","p-md-5","shadow","rounded",2,"max-width","800px",3,"ngSubmit"],[1,"text-center","mb-4","text-dark","fw-bold"],[1,"row","g-3"],[1,"col-12","col-md-6"],["for","userName",1,"form-label","fw-semibold"],["type","text","id","userName","name","userName","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["for","fullName",1,"form-label","fw-semibold"],["type","text","id","fullName","name","fullName",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","text-danger mt-1",4,"ngIf"],["for","email",1,"form-label","fw-semibold"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","phone",1,"form-label","fw-semibold"],["type","text","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","governorate",1,"form-label","fw-semibold"],["id","governorate","name","address",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["for","natId",1,"form-label","fw-semibold"],["type","text","id","natId","name","natId","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"profile-section"],["type","file",3,"change"],[1,"d-flex","flex-column","flex-md-row","justify-content-center","gap-2","mt-4","flex-wrap"],["type","button","class","btn btn-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary","routerLinkActive","active-link",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"text-danger","mt-1"],[3,"value"],["type","button",1,"btn","btn-warning",3,"click"],["type","button","routerLinkActive","active-link",1,"btn","btn-outline-secondary",3,"routerLink"],["type","submit",1,"btn","btn-warning"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(t,i){if(t&1){let r=ne();u(0,"div",1)(1,"form",2,0),M("ngSubmit",function(){return R(r),N(i.saveProfile())}),u(3,"h2",3),f(4,"Edit Profile"),c(),u(5,"div",4)(6,"div",5)(7,"label",6),f(8,"Username"),c(),u(9,"input",7),Ee("ngModelChange",function(s){return R(r),xe(i.user.userName,s)||(i.user.userName=s),N(s)}),c()(),u(10,"div",5)(11,"label",8),f(12,"Full Name"),c(),u(13,"input",9),Ee("ngModelChange",function(s){return R(r),xe(i.user.fullName,s)||(i.user.fullName=s),N(s)}),M("ngModelChange",function(){return R(r),N(i.errors.fullName="")}),c(),D(14,RO,2,1,"div",10),c(),u(15,"div",5)(16,"label",11),f(17,"Email"),c(),u(18,"input",12),Ee("ngModelChange",function(s){return R(r),xe(i.user.email,s)||(i.user.email=s),N(s)}),M("ngModelChange",function(){return R(r),N(i.errors.email="")}),c(),D(19,NO,2,1,"div",10)(20,OO,2,1,"div",10),c(),u(21,"div",5)(22,"label",13),f(23,"Phone"),c(),u(24,"input",14),Ee("ngModelChange",function(s){return R(r),xe(i.user.phone,s)||(i.user.phone=s),N(s)}),M("ngModelChange",function(){return R(r),N(i.errors.phone="")}),c(),D(25,PO,2,1,"div",10),c(),u(26,"div",5)(27,"label",15),f(28,"Governorate"),c(),u(29,"select",16),Ee("ngModelChange",function(s){return R(r),xe(i.user.address,s)||(i.user.address=s),N(s)}),D(30,kO,2,2,"option",17),c()(),u(31,"div",5)(32,"label",18),f(33,"National ID"),c(),u(34,"input",19),Ee("ngModelChange",function(s){return R(r),xe(i.user.natId,s)||(i.user.natId=s),N(s)}),c()()(),u(35,"div",20)(36,"input",21),M("change",function(s){return R(r),N(i.onFileSelected(s))}),c()(),u(37,"div",22),D(38,AO,2,0,"button",23)(39,FO,2,2,"button",24)(40,LO,5,0,"ng-container",25),c()()()}t&2&&(h(9),we("ngModel",i.user.userName),h(4),we("ngModel",i.user.fullName),g("disabled",!i.editingProfile),h(),g("ngIf",i.errors.fullName),h(4),we("ngModel",i.user.email),g("disabled",!i.editingProfile),h(),g("ngIf",i.errors.email),h(),g("ngIf",i.notvalidemail),h(4),we("ngModel",i.user.phone),g("disabled",!i.editingProfile),h(),g("ngIf",i.errors.phone),h(4),we("ngModel",i.user.address),g("disabled",!i.editingProfile),h(),g("ngForOf",i.egyptGovernorates),h(4),we("ngModel",i.user.natId),h(4),g("ngIf",!i.editingProfile),h(),g("ngIf",!i.editingProfile),h(),g("ngIf",i.editingProfile))},dependencies:[Ie,He,re,Qe,ln,Hn,$n,Oe,Un,$e,an,Gt,Ea,Ye,ha],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:93vh;display:flex;align-items:center;justify-content:center}.registerForm[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:70%;max-width:800px}.registerForm[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600}.registerForm[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   select.form-select[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.registerForm[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark);width:50%;display:flex;justify-content:center;align-items:center;margin:0 auto}.registerForm[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.btn-outline-secondary[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;width:50%;display:flex;justify-content:center;align-items:center;margin:0 auto}']})};var Yt=class e{constructor(n,t){this.authService=n;this.router=t}canActivate(n,t){let i=this.authService.hasToken();return this.authService.setGuardedRoute(!0),i?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||e)(P(qe),P(oe))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var VO=["*"];var jO=["dialog"];var Y1={animation:!0,transitionTimerDelayMs:5},BO=(()=>{class e{constructor(){this.animation=Y1.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function UO(e){let{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e),i=parseFloat(n),r=parseFloat(t);return(i+r)*1e3}function Q1(e){return typeof e=="string"}function Gm(e){return e!=null}function HO(e){return e&&e.then}function Z1(e){return(e||document.body).getBoundingClientRect()}function $O(e){return n=>new Y(t=>{let i=s=>e.run(()=>t.next(s)),r=s=>e.run(()=>t.error(s)),o=()=>e.run(()=>t.complete());return n.subscribe({next:i,error:r,complete:o})})}var qO=()=>{},{transitionTimerDelayMs:zO}=Y1,Fu=new Map,Ar=(e,n,t,i)=>{let r=i.context||{},o=Fu.get(n);if(o)switch(i.runningTransition){case"continue":return it;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Fu.delete(n)}let s=t(n,i.animation,r)||qO;if(!i.animation||window.getComputedStyle(n).transitionProperty==="none")return e.run(()=>s()),L(void 0).pipe($O(e));let a=new ae,l=new ae,d=a.pipe(sf(!0));Fu.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let p=UO(n);return e.runOutsideAngular(()=>{let m=Jt(n,"transitionend").pipe(ut(d),Le(({target:_})=>_===n)),v=rf(p+zO).pipe(ut(d));of(v,m,l).pipe(ut(d)).subscribe(()=>{Fu.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var K1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var J1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var X1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),eD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var h8=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,n=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||n()):!1})();var GO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function tD(e){let n=Array.from(e.querySelectorAll(GO)).filter(t=>t.tabIndex!==-1);return[n[0],n[n.length-1]]}var WO=(e,n,t,i=!1)=>{e.runOutsideAngular(()=>{let r=Jt(n,"focusin").pipe(ut(t),Z(o=>o.target));Jt(n,"keydown").pipe(ut(t),Le(o=>o.key==="Tab"),cl(r)).subscribe(([o,s])=>{let[a,l]=tD(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Jt(n,"click").pipe(ut(t),cl(r),Z(o=>o[1])).subscribe(o=>o.focus())})};var m8=new Date(1882,10,12),g8=new Date(2174,10,25);var _8=1e3*60*60*24;var Qm=1080,YO=24*Qm,QO=12*Qm+793,v8=29*YO+QO,y8=11*Qm+204;var nD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var iD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),ZO=(()=>{class e{constructor(){this._ngbConfig=b(BO),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zo=class{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}};var KO=(()=>{class e{constructor(){this._document=b(Ne)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JO=(()=>{class e{constructor(){this._nativeElement=b(Ge).nativeElement,this._zone=b(Ce),this._injector=b(ot)}ngOnInit(){Io({mixedReadWrite:()=>Ar(this._zone,this._nativeElement,(t,i)=>{i&&Z1(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Ar(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=V({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(_c("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),mt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),zn=class{update(n){}close(n){}dismiss(n){}},XO=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],eP=["animation","backdropClass"],Wm=class{_applyWindowOptions(n,t){XO.forEach(i=>{Gm(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){eP.forEach(i=>{Gm(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ut(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ut(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ae,this._dismissed=new ae,this._hidden=new ae,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(n);else{let t=this._beforeDismiss();HO(t)?t.then(i=>{i!==!1&&this._dismiss(n)},()=>{}):t!==!1&&this._dismiss(n)}}_removeModalElements(){let n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():L(void 0);n.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ls(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Ym=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Ym||{}),tP=(()=>{class e{constructor(){this._document=b(Ne),this._elRef=b(Ge),this._zone=b(Ce),this._injector=b(ot),this._closed$=new ae,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new me,this.shown=new ae,this.hidden=new ae}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Q1(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,Io({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Ar(this._zone,t,()=>t.classList.remove("show"),i),o=Ar(this._zone,this._dialogEl.nativeElement,()=>{},i),s=ls(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Ar(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Z1(o),o.classList.add("show")},t),r=Ar(this._zone,this._dialogEl.nativeElement,()=>{},t);ls(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Jt(t,"keydown").pipe(ut(this._closed$),Le(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Ym.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Jt(this._dialogEl.nativeElement,"mousedown").pipe(ut(this._closed$),je(()=>i=!1),Ve(()=>Jt(t,"mouseup").pipe(ut(this._closed$),St(1))),Le(({target:r})=>t===r)).subscribe(()=>{i=!0}),Jt(t,"click").pipe(ut(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Ym.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=tD(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ar(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=V({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&fi(jO,7),i&2){let o;mn(o=gn())&&(r._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,r){i&2&&(Ri("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy)("role",r.role),_c("modal d-block"+(r.windowClass?" "+r.windowClass:"")),mt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:VO,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(iy(),u(0,"div",1,0)(2,"div",2),ry(3),c()()),i&2&&_c("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),nP=(()=>{class e{constructor(){this._applicationRef=b(ri),this._injector=b(ot),this._environmentInjector=b(Xe),this._document=b(Ne),this._scrollBar=b(KO),this._activeWindowCmptHasChanged=new ae,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new me;let t=b(Ce);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];WO(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:Gm(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new zn;t=r.injector||t;let a=t.get(Xe,null)||this._environmentInjector,l=this._getContentRef(t,a,i,s,r),d=r.backdrop!==!1?this._attachBackdrop(o):void 0,p=this._attachWindowComponent(o,l.nodes),m=new Wm(p,l,d,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(p),m.hidden.pipe(St(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=v=>{m.close(v)},s.dismiss=v=>{m.dismiss(v)},s.update=v=>{m.update(v)},m.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),p.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=yc(JO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=yc(tP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof ii?this._createFromTemplateRef(r,o):Q1(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new Zo([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new Zo([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Zo([[i]])}_createFromComponent(t,i,r,o,s){let a=ot.create({providers:[{provide:zn,useValue:o}],parent:t}),l=yc(r,{environmentInjector:i,elementInjector:a}),d=l.location.nativeElement;return s.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Zo([[d]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vi=(()=>{class e{constructor(){this._injector=b(ot),this._modalStack=b(nP),this._config=b(ZO)}open(t,i={}){let r=I(H(I({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({providers:[vi]})}}return e})();var oD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var sD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var aD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var lD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var cD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var uD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var dD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var fD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var pD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var b8=new k("live announcer delay",{providedIn:"root",factory:()=>100});var hD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var mD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),iP=[K1,J1,X1,eD,nD,iD,rD,oD,mD,sD,aD,lD,cD,uD,dD,fD,pD,hD],gD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({imports:[iP,K1,J1,X1,eD,nD,iD,rD,oD,mD,sD,aD,lD,cD,uD,dD,fD,pD,hD]})}}return e})();var $i=class e{constructor(n){this.http=n}endpoint="api/drapplication";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getAuthHeaders(){let n=this.getAuthToken();if(!n)throw console.error("No token found"),new Error("No token");return new at({Authorization:`Bearer ${n}`})}getMyApplications(){let n=this.getAuthHeaders();return this.http.get(`${this.endpoint}/GetMyApplications`,{headers:n})}addApplication(n){let t=this.getAuthHeaders();return this.http.post(`${this.endpoint}`,n,{headers:t})}deleteApplication(n){let t=this.getAuthHeaders();return this.http.delete(`${this.endpoint}/Delete/${n}`,{headers:t})}updateApplication(n,t){let i=this.getAuthHeaders();return this.http.put(`${this.endpoint}/Update?id=${n}`,t,{headers:i})}static \u0275fac=function(t){return new(t||e)(P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var qi=class e{constructor(n,t){this.activeModal=n;this.modalService=t}applicationService=b($i);offeredPrice;deliveryRequestID=0;modalTitle="";modalMessage="";Apply(){console.log("deliveryRequestID:",this.deliveryRequestID);let n={offeredPrice:this.offeredPrice,deliveryRequestId:this.deliveryRequestID};console.log("data:",n),this.applicationService.addApplication(n).subscribe({next:t=>{if(t.isSuccess)console.log(t),this.activeModal.close();else{var i=t.message||"An error occurred while fetching request details.";console.error(i)}},error:t=>{console.error("An error occurred:",t)}})}static \u0275fac=function(t){return new(t||e)(C(zn),C(vi))};static \u0275cmp=V({type:e,selectors:[["app-add-application"]],inputs:{deliveryRequestID:"deliveryRequestID"},decls:17,vars:1,consts:[[1,"container","add-application","my-1","mb-5"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"text-muted"],[1,"form-floating"],["type","number","name","offeredPrice","id","offeredPrice",1,"form-control",3,"ngModelChange","ngModel"],["for","offeredPrice"],[1,"gap-2","mt-4"],["type","submit",1,"btn","btn-main","px-4","py-1","text-white",3,"click"],["type","button","aria-label","Close",1,"btn","btn-danger","px-4","py-1","mx-3",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h3",2),f(3,"Apply"),c(),u(4,"button",3),M("click",function(){return i.activeModal.close()}),c()(),u(5,"form")(6,"p",4),f(7,"Please add your offered price to get in touch with requester."),c(),u(8,"div",5)(9,"input",6),Ee("ngModelChange",function(o){return xe(i.offeredPrice,o)||(i.offeredPrice=o),o}),c(),u(10,"label",7),f(11,"offered Price (EGP)"),c()(),u(12,"div",8)(13,"button",9),M("click",function(){return i.Apply()}),f(14,"Apply"),c(),u(15,"button",10),M("click",function(){return i.activeModal.close()}),f(16,"Close"),c()()()()),t&2&&(h(9),we("ngModel",i.offeredPrice))},dependencies:[gD,Qe,ln,Oe,Dn,$e,an,Gt,Ea],styles:[".add-application[_ngcontent-%COMP%]{width:92%}.add-application[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark)}.form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:var(--yellow)!important;box-shadow:none}"]})};var Qt=class extends Error{constructor(n,t){let i=new.target.prototype;super(`${n}: Status code '${t}'`),this.statusCode=t,this.__proto__=i}},zi=class extends Error{constructor(n="A timeout occurred."){let t=new.target.prototype;super(n),this.__proto__=t}},ct=class extends Error{constructor(n="An abort occurred."){let t=new.target.prototype;super(n),this.__proto__=t}},Vu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=i}},ju=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=i}},Bu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=i}},Sa=class extends Error{constructor(n){let t=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}},Uu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.innerErrors=t,this.__proto__=i}};var Ko=class{constructor(n,t,i){this.statusCode=n,this.statusText=t,this.content=i}},Gn=class{get(n,t){return this.send(H(I({},t),{method:"GET",url:n}))}post(n,t){return this.send(H(I({},t),{method:"POST",url:n}))}delete(n,t){return this.send(H(I({},t),{method:"DELETE",url:n}))}getCookieString(n){return""}};var w=function(e){return e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None",e}(w||{});var Wn=class{constructor(){}log(n,t){}};Wn.instance=new Wn;var rP="8.0.7",ve=class{static isRequired(n,t){if(n==null)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(n,t){if(!n||n.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(n,t,i){if(!(n in t))throw new Error(`Unknown ${i} value: ${n}.`)}},De=class e{static get isBrowser(){return!e.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!e.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!e.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}};function Gi(e,n){let t="";return Cn(e)?(t=`Binary data of length ${e.byteLength}`,n&&(t+=`. Content: '${oP(e)}'`)):typeof e=="string"&&(t=`String data of length ${e.length}`,n&&(t+=`. Content: '${e}'`)),t}function oP(e){let n=new Uint8Array(e),t="";return n.forEach(i=>{let r=i<16?"0":"";t+=`0x${r}${i.toString(16)} `}),t.substr(0,t.length-1)}function Cn(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}function $u(e,n,t,i,r,o){return X(this,null,function*(){let s={},[a,l]=Yn();s[a]=l,e.log(w.Trace,`(${n} transport) sending data. ${Gi(r,o.logMessageContent)}.`);let d=Cn(r)?"arraybuffer":"text",p=yield t.post(i,{content:r,headers:I(I({},s),o.headers),responseType:d,timeout:o.timeout,withCredentials:o.withCredentials});e.log(w.Trace,`(${n} transport) request complete. Response status: ${p.statusCode}.`)})}function vD(e){return e===void 0?new Fr(w.Information):e===null?Wn.instance:e.log!==void 0?e:new Fr(e)}var Hu=class{constructor(n,t){this._subject=n,this._observer=t}dispose(){let n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(t=>{})}},Fr=class{constructor(n){this._minLevel=n,this.out=console}log(n,t){if(n>=this._minLevel){let i=`[${new Date().toISOString()}] ${w[n]}: ${t}`;switch(n){case w.Critical:case w.Error:this.out.error(i);break;case w.Warning:this.out.warn(i);break;case w.Information:this.out.info(i);break;default:this.out.log(i);break}}}};function Yn(){let e="X-SignalR-User-Agent";return De.isNode&&(e="User-Agent"),[e,sP(rP,aP(),cP(),lP())]}function sP(e,n,t,i){let r="Microsoft SignalR/",o=e.split(".");return r+=`${o[0]}.${o[1]}`,r+=` (${e}; `,n&&n!==""?r+=`${n}; `:r+="Unknown OS; ",r+=`${t}`,i?r+=`; ${i}`:r+="; Unknown Runtime Version",r+=")",r}function aP(){if(De.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function lP(){if(De.isNode)return process.versions.node}function cP(){return De.isNode?"NodeJS":"Browser"}function qu(e){return e.stack?e.stack:e.message?e.message:`${e}`}function yD(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}var zu=class extends Gn{constructor(n){if(super(),this._logger=n,typeof fetch>"u"||De.isNode){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Br;this._jar=new(t("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=t("node-fetch"):this._fetchType=fetch,this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(yD());if(typeof AbortController>"u"){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Br;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}send(n){return X(this,null,function*(){if(n.abortSignal&&n.abortSignal.aborted)throw new ct;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");let t=new this._abortControllerType,i;n.abortSignal&&(n.abortSignal.onabort=()=>{t.abort(),i=new ct});let r=null;if(n.timeout){let l=n.timeout;r=setTimeout(()=>{t.abort(),this._logger.log(w.Warning,"Timeout from HTTP request."),i=new zi},l)}n.content===""&&(n.content=void 0),n.content&&(n.headers=n.headers||{},Cn(n.content)?n.headers["Content-Type"]="application/octet-stream":n.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=yield this._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:n.withCredentials===!0?"include":"same-origin",headers:I({"X-Requested-With":"XMLHttpRequest"},n.headers),method:n.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(l){throw i||(this._logger.log(w.Warning,`Error from HTTP request. ${l}.`),l)}finally{r&&clearTimeout(r),n.abortSignal&&(n.abortSignal.onabort=null)}if(!o.ok){let l=yield bD(o,"text");throw new Qt(l||o.statusText,o.status)}let a=yield bD(o,n.responseType);return new Ko(o.status,o.statusText,a)})}getCookieString(n){let t="";return De.isNode&&this._jar&&this._jar.getCookies(n,(i,r)=>t=r.join("; ")),t}};function bD(e,n){let t;switch(n){case"arraybuffer":t=e.arrayBuffer();break;case"text":t=e.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`);default:t=e.text();break}return t}var Gu=class extends Gn{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new ct):n.method?n.url?new Promise((t,i)=>{let r=new XMLHttpRequest;r.open(n.method,n.url,!0),r.withCredentials=n.withCredentials===void 0?!0:n.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.content===""&&(n.content=void 0),n.content&&(Cn(n.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));let o=n.headers;o&&Object.keys(o).forEach(s=>{r.setRequestHeader(s,o[s])}),n.responseType&&(r.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{r.abort(),i(new ct)}),n.timeout&&(r.timeout=n.timeout),r.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new Ko(r.status,r.statusText,r.response||r.responseText)):i(new Qt(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(w.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),i(new Qt(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(w.Warning,"Timeout from HTTP request."),i(new zi)},r.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}};var Wu=class extends Gn{constructor(n){if(super(),typeof fetch<"u"||De.isNode)this._httpClient=new zu(n);else if(typeof XMLHttpRequest<"u")this._httpClient=new Gu(n);else throw new Error("No usable HttpClient found.")}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new ct):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}};var Zt=class e{static write(n){return`${n}${e.RecordSeparator}`}static parse(n){if(n[n.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");let t=n.split(e.RecordSeparator);return t.pop(),t}};Zt.RecordSeparatorCode=30;Zt.RecordSeparator=String.fromCharCode(Zt.RecordSeparatorCode);var Yu=class{writeHandshakeRequest(n){return Zt.write(JSON.stringify(n))}parseHandshakeResponse(n){let t,i;if(Cn(n)){let a=new Uint8Array(n),l=a.indexOf(Zt.RecordSeparatorCode);if(l===-1)throw new Error("Message is incomplete.");let d=l+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,d))),i=a.byteLength>d?a.slice(d).buffer:null}else{let a=n,l=a.indexOf(Zt.RecordSeparator);if(l===-1)throw new Error("Message is incomplete.");let d=l+1;t=a.substring(0,d),i=a.length>d?a.substring(d):null}let r=Zt.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[i,o]}};var z=function(e){return e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence",e}(z||{});var Qu=class{constructor(){this.observers=[]}next(n){for(let t of this.observers)t.next(n)}error(n){for(let t of this.observers)t.error&&t.error(n)}complete(){for(let n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new Hu(this,n)}};var Zu=class{constructor(n,t,i){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=n,this._connection=t,this._bufferSize=i}_send(n){return X(this,null,function*(){let t=this._protocol.writeMessage(n),i=Promise.resolve();if(this._isInvocationMessage(n)){this._totalMessageCount++;let r=()=>{},o=()=>{};Cn(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(i=new Promise((s,a)=>{r=s,o=a})),this._messages.push(new Zm(t,this._totalMessageCount,r,o))}try{this._reconnectInProgress||(yield this._connection.send(t))}catch{this._disconnected()}yield i})}_ack(n){let t=-1;for(let i=0;i<this._messages.length;i++){let r=this._messages[i];if(r._id<=n.sequenceId)t=i,Cn(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else if(this._bufferedByteCount<this._bufferSize)r._resolver();else break}t!==-1&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(n){if(this._waitForSequenceMessage)return n.type!==z.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(n))return!0;let t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(n){if(n.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=n.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}_resend(){return X(this,null,function*(){let n=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;yield this._connection.send(this._protocol.writeMessage({type:z.Sequence,sequenceId:n}));let t=this._messages;for(let i of t)yield this._connection.send(i._message);this._reconnectInProgress=!1})}_dispose(n){n??(n=new Error("Unable to reconnect to server."));for(let t of this._messages)t._rejector(n)}_isInvocationMessage(n){switch(n.type){case z.Invocation:case z.StreamItem:case z.Completion:case z.StreamInvocation:case z.CancelInvocation:return!0;case z.Close:case z.Sequence:case z.Ping:case z.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(()=>X(this,null,function*(){try{this._reconnectInProgress||(yield this._connection.send(this._protocol.writeMessage({type:z.Ack,sequenceId:this._latestReceivedSequenceId})))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0}),1e3))}},Zm=class{constructor(n,t,i,r){this._message=n,this._id=t,this._resolver=i,this._rejector=r}};var uP=30*1e3,dP=15*1e3,fP=1e5,Ae=function(e){return e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting",e}(Ae||{}),Ku=class e{static create(n,t,i,r,o,s,a){return new e(n,t,i,r,o,s,a)}constructor(n,t,i,r,o,s,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(w.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ve.isRequired(n,"connection"),ve.isRequired(t,"logger"),ve.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=o??uP,this.keepAliveIntervalInMilliseconds=s??dP,this._statefulReconnectBufferSize=a??fP,this._logger=t,this._protocol=i,this.connection=n,this._reconnectPolicy=r,this._handshakeProtocol=new Yu,this.connection.onreceive=l=>this._processIncomingData(l),this.connection.onclose=l=>this._connectionClosed(l),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Ae.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:z.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==Ae.Disconnected&&this._connectionState!==Ae.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){return X(this,null,function*(){if(this._connectionState!==Ae.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Ae.Connecting,this._logger.log(w.Debug,"Starting HubConnection.");try{yield this._startInternal(),De.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Ae.Connected,this._connectionStarted=!0,this._logger.log(w.Debug,"HubConnection connected successfully.")}catch(n){return this._connectionState=Ae.Disconnected,this._logger.log(w.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}})}_startInternal(){return X(this,null,function*(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;let n=new Promise((t,i)=>{this._handshakeResolver=t,this._handshakeRejecter=i});yield this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);let i={protocol:this._protocol.name,version:t};if(this._logger.log(w.Debug,"Sending handshake request."),yield this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(i)),this._logger.log(w.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),yield n,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Zu(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||(yield this._sendMessage(this._cachedPingMessage))}catch(t){throw this._logger.log(w.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),yield this.connection.stop(t),t}})}stop(){return X(this,null,function*(){let n=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),yield this._stopPromise;try{yield n}catch{}})}_stopInternal(n){if(this._connectionState===Ae.Disconnected)return this._logger.log(w.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Ae.Disconnecting)return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;let t=this._connectionState;return this._connectionState=Ae.Disconnecting,this._logger.log(w.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(w.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Ae.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new ct("The connection was stopped before the hub handshake could complete."),this.connection.stop(n))}_sendCloseMessage(){return X(this,null,function*(){try{yield this._sendWithProtocol(this._createCloseMessage())}catch{}})}stream(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(n,t,r),s,a=new Qu;return a.cancelCallback=()=>{let l=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(l))},this._callbacks[o.invocationId]=(l,d)=>{if(d){a.error(d);return}else l&&(l.type===z.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},s=this._sendWithProtocol(o).catch(l=>{a.error(l),delete this._callbacks[o.invocationId]}),this._launchStreams(i,s),a}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._messageBuffer?this._messageBuffer._send(n):this._sendMessage(this._protocol.writeMessage(n))}send(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(n,t,!0,r));return this._launchStreams(i,o),o}invoke(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createInvocation(n,t,!1,r);return new Promise((a,l)=>{this._callbacks[o.invocationId]=(p,m)=>{if(m){l(m);return}else p&&(p.type===z.Completion?p.error?l(new Error(p.error)):a(p.result):l(new Error(`Unexpected message type: ${p.type}`)))};let d=this._sendWithProtocol(o).catch(p=>{l(p),delete this._callbacks[o.invocationId]});this._launchStreams(i,d)})}on(n,t){!n||!t||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),this._methods[n].indexOf(t)===-1&&this._methods[n].push(t))}off(n,t){if(!n)return;n=n.toLowerCase();let i=this._methods[n];if(i)if(t){let r=i.indexOf(t);r!==-1&&(i.splice(r,1),i.length===0&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){let t=this._protocol.parseMessages(n,this._logger);for(let i of t)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(i)))switch(i.type){case z.Invocation:this._invokeClientMethod(i).catch(r=>{this._logger.log(w.Error,`Invoke client method threw error: ${qu(r)}`)});break;case z.StreamItem:case z.Completion:{let r=this._callbacks[i.invocationId];if(r){i.type===z.Completion&&delete this._callbacks[i.invocationId];try{r(i)}catch(o){this._logger.log(w.Error,`Stream callback threw error: ${qu(o)}`)}}break}case z.Ping:break;case z.Close:{this._logger.log(w.Information,"Close message received from server.");let r=i.error?new Error("Server returned an error on close: "+i.error):void 0;i.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case z.Ack:this._messageBuffer&&this._messageBuffer._ack(i);break;case z.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(i);break;default:this._logger.log(w.Warning,`Invalid message type: ${i.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let t,i;try{[i,t]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(r){let o="Error parsing handshake response: "+r;this._logger.log(w.Error,o);let s=new Error(o);throw this._handshakeRejecter(s),s}if(t.error){let r="Server returned handshake error: "+t.error;this._logger.log(w.Error,r);let o=new Error(r);throw this._handshakeRejecter(o),o}else this._logger.log(w.Debug,"Server handshake complete.");return this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let n=this._nextKeepAlive-new Date().getTime();n<0&&(n=0),this._pingServerHandle=setTimeout(()=>X(this,null,function*(){if(this._connectionState===Ae.Connected)try{yield this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),n)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(n){return X(this,null,function*(){let t=n.target.toLowerCase(),i=this._methods[t];if(!i){this._logger.log(w.Warning,`No client method with the name '${t}' found.`),n.invocationId&&(this._logger.log(w.Warning,`No result given for '${t}' method and invocation ID '${n.invocationId}'.`),yield this._sendWithProtocol(this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)));return}let r=i.slice(),o=!!n.invocationId,s,a,l;for(let d of r)try{let p=s;s=yield d.apply(this,n.arguments),o&&s&&p&&(this._logger.log(w.Error,`Multiple results provided for '${t}'. Sending error to server.`),l=this._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),a=void 0}catch(p){a=p,this._logger.log(w.Error,`A callback for the method '${t}' threw error '${p}'.`)}l?yield this._sendWithProtocol(l):o?(a?l=this._createCompletionMessage(n.invocationId,`${a}`,null):s!==void 0?l=this._createCompletionMessage(n.invocationId,null,s):(this._logger.log(w.Warning,`No result given for '${t}' method and invocation ID '${n.invocationId}'.`),l=this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),yield this._sendWithProtocol(l)):s&&this._logger.log(w.Error,`Result given for '${t}' method but server is not expecting a result.`)})}_connectionClosed(n){this._logger.log(w.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new ct("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Ae.Disconnecting?this._completeClose(n):this._connectionState===Ae.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===Ae.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=Ae.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(n??new Error("Connection closed.")),this._messageBuffer=void 0),De.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[n]))}catch(t){this._logger.log(w.Error,`An onclose callback called with error '${n}' threw error '${t}'.`)}}}_reconnect(n){return X(this,null,function*(){let t=Date.now(),i=0,r=n!==void 0?n:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(i++,0,r);if(o===null){this._logger.log(w.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(n);return}if(this._connectionState=Ae.Reconnecting,n?this._logger.log(w.Information,`Connection reconnecting because of error '${n}'.`):this._logger.log(w.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[n]))}catch(s){this._logger.log(w.Error,`An onreconnecting callback called with error '${n}' threw error '${s}'.`)}if(this._connectionState!==Ae.Reconnecting){this._logger.log(w.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(w.Information,`Reconnect attempt number ${i} will start in ${o} ms.`),yield new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Ae.Reconnecting){this._logger.log(w.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(yield this._startInternal(),this._connectionState=Ae.Connected,this._logger.log(w.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(w.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(w.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==Ae.Reconnecting){this._logger.log(w.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Ae.Disconnecting&&this._completeClose();return}r=s instanceof Error?s:new Error(s.toString()),o=this._getNextRetryDelay(i++,Date.now()-t,r)}}this._logger.log(w.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()})}_getNextRetryDelay(n,t,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:n,retryReason:i})}catch(r){return this._logger.log(w.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${t}) threw error '${r}'.`),null}}_cancelCallbacksWithError(n){let t=this._callbacks;this._callbacks={},Object.keys(t).forEach(i=>{let r=t[i];try{r(null,n)}catch(o){this._logger.log(w.Error,`Stream 'error' callback called with '${n}' threw error: ${qu(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,t,i,r){if(i)return r.length!==0?{arguments:t,streamIds:r,target:n,type:z.Invocation}:{arguments:t,target:n,type:z.Invocation};{let o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:t,invocationId:o.toString(),streamIds:r,target:n,type:z.Invocation}:{arguments:t,invocationId:o.toString(),target:n,type:z.Invocation}}}_launchStreams(n,t){if(n.length!==0){t||(t=Promise.resolve());for(let i in n)n[i].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:r=>{let o;r instanceof Error?o=r.message:r&&r.toString?o=r.toString():o="Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,o)))},next:r=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,r)))}})}}_replaceStreamingParams(n){let t=[],i=[];for(let r=0;r<n.length;r++){let o=n[r];if(this._isObservable(o)){let s=this._invocationId;this._invocationId++,t[s]=o,i.push(s.toString()),n.splice(r,1)}}return[t,i]}_isObservable(n){return n&&n.subscribe&&typeof n.subscribe=="function"}_createStreamInvocation(n,t,i){let r=this._invocationId;return this._invocationId++,i.length!==0?{arguments:t,invocationId:r.toString(),streamIds:i,target:n,type:z.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:n,type:z.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:z.CancelInvocation}}_createStreamItemMessage(n,t){return{invocationId:n,item:t,type:z.StreamItem}}_createCompletionMessage(n,t,i){return t?{error:t,invocationId:n,type:z.Completion}:{invocationId:n,result:i,type:z.Completion}}_createCloseMessage(){return{type:z.Close}}};var pP=[0,2e3,1e4,3e4,null],Ia=class{constructor(n){this._retryDelays=n!==void 0?[...n,null]:pP}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}};var Lr=(()=>{class e{}return e.Authorization="Authorization",e.Cookie="Cookie",e})();var Ju=class extends Gn{constructor(n,t){super(),this._innerClient=n,this._accessTokenFactory=t}send(n){return X(this,null,function*(){let t=!0;this._accessTokenFactory&&(!this._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=yield this._accessTokenFactory()),this._setAuthorizationHeader(n);let i=yield this._innerClient.send(n);return t&&i.statusCode===401&&this._accessTokenFactory?(this._accessToken=yield this._accessTokenFactory(),this._setAuthorizationHeader(n),yield this._innerClient.send(n)):i})}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Lr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Lr.Authorization]&&delete n.headers[Lr.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}};var tt=function(e){return e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling",e}(tt||{}),Ze=function(e){return e[e.Text=1]="Text",e[e.Binary=2]="Binary",e}(Ze||{});var Xu=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};var Ma=class{get pollAborted(){return this._pollAbort.aborted}constructor(n,t,i){this._httpClient=n,this._logger=t,this._pollAbort=new Xu,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}connect(n,t){return X(this,null,function*(){if(ve.isRequired(n,"url"),ve.isRequired(t,"transferFormat"),ve.isIn(t,Ze,"transferFormat"),this._url=n,this._logger.log(w.Trace,"(LongPolling transport) Connecting."),t===Ze.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");let[i,r]=Yn(),o=I({[i]:r},this._options.headers),s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===Ze.Binary&&(s.responseType="arraybuffer");let a=`${n}&_=${Date.now()}`;this._logger.log(w.Trace,`(LongPolling transport) polling: ${a}.`);let l=yield this._httpClient.get(a,s);l.statusCode!==200?(this._logger.log(w.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new Qt(l.statusText||"",l.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)})}_poll(n,t){return X(this,null,function*(){try{for(;this._running;)try{let i=`${n}&_=${Date.now()}`;this._logger.log(w.Trace,`(LongPolling transport) polling: ${i}.`);let r=yield this._httpClient.get(i,t);r.statusCode===204?(this._logger.log(w.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(w.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new Qt(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(w.Trace,`(LongPolling transport) data received. ${Gi(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(w.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){this._running?i instanceof zi?this._logger.log(w.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=i,this._running=!1):this._logger.log(w.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{this._logger.log(w.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}})}send(n){return X(this,null,function*(){return this._running?$u(this._logger,"LongPolling",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return X(this,null,function*(){this._logger.log(w.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{yield this._receiving,this._logger.log(w.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);let n={},[t,i]=Yn();n[t]=i;let r={headers:I(I({},n),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials},o;try{yield this._httpClient.delete(this._url,r)}catch(s){o=s}o?o instanceof Qt&&(o.statusCode===404?this._logger.log(w.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(w.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(w.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(w.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}})}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(w.Trace,n),this.onclose(this._closeError)}}};var ed=class{constructor(n,t,i,r){this._httpClient=n,this._accessToken=t,this._logger=i,this._options=r,this.onreceive=null,this.onclose=null}connect(n,t){return X(this,null,function*(){return ve.isRequired(n,"url"),ve.isRequired(t,"transferFormat"),ve.isIn(t,Ze,"transferFormat"),this._logger.log(w.Trace,"(SSE transport) Connecting."),this._url=n,this._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((i,r)=>{let o=!1;if(t!==Ze.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(De.isBrowser||De.isWebWorker)s=new this._options.EventSource(n,{withCredentials:this._options.withCredentials});else{let a=this._httpClient.getCookieString(n),l={};l.Cookie=a;let[d,p]=Yn();l[d]=p,s=new this._options.EventSource(n,{withCredentials:this._options.withCredentials,headers:I(I({},l),this._options.headers)})}try{s.onmessage=a=>{if(this.onreceive)try{this._logger.log(w.Trace,`(SSE transport) data received. ${Gi(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(l){this._close(l);return}},s.onerror=a=>{o?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(w.Information,`SSE connected to ${this._url}`),this._eventSource=s,o=!0,i()}}catch(a){r(a);return}})})}send(n){return X(this,null,function*(){return this._eventSource?$u(this._logger,"SSE",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}};var td=class{constructor(n,t,i,r,o,s){this._logger=i,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=s}connect(n,t){return X(this,null,function*(){ve.isRequired(n,"url"),ve.isRequired(t,"transferFormat"),ve.isIn(t,Ze,"transferFormat"),this._logger.log(w.Trace,"(WebSockets transport) Connecting.");let i;return this._accessTokenFactory&&(i=yield this._accessTokenFactory()),new Promise((r,o)=>{n=n.replace(/^http/,"ws");let s,a=this._httpClient.getCookieString(n),l=!1;if(De.isNode||De.isReactNative){let d={},[p,m]=Yn();d[p]=m,i&&(d[Lr.Authorization]=`Bearer ${i}`),a&&(d[Lr.Cookie]=a),s=new this._webSocketConstructor(n,void 0,{headers:I(I({},d),this._headers)})}else i&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);s||(s=new this._webSocketConstructor(n)),t===Ze.Binary&&(s.binaryType="arraybuffer"),s.onopen=d=>{this._logger.log(w.Information,`WebSocket connected to ${n}.`),this._webSocket=s,l=!0,r()},s.onerror=d=>{let p=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?p=d.error:p="There was an error with the transport",this._logger.log(w.Information,`(WebSockets transport) ${p}.`)},s.onmessage=d=>{if(this._logger.log(w.Trace,`(WebSockets transport) data received. ${Gi(d.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(d.data)}catch(p){this._close(p);return}},s.onclose=d=>{if(l)this._close(d);else{let p=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?p=d.error:p="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(p))}}})})}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(w.Trace,`(WebSockets transport) sending data. ${Gi(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(w.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(n)&&(n.wasClean===!1||n.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)):n instanceof Error?this.onclose(n):this.onclose())}_isCloseEvent(n){return n&&typeof n.wasClean=="boolean"&&typeof n.code=="number"}};var DD=100,nd=class{constructor(n,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ve.isRequired(n,"url"),this._logger=vD(t.logger),this.baseUrl=this._resolveUrl(n),t=t||{},t.logMessageContent=t.logMessageContent===void 0?!1:t.logMessageContent,typeof t.withCredentials=="boolean"||t.withCredentials===void 0)t.withCredentials=t.withCredentials===void 0?!0:t.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.timeout=t.timeout===void 0?100*1e3:t.timeout;let i=null,r=null;if(De.isNode&&typeof Br<"u"){let o=typeof __webpack_require__=="function"?__non_webpack_require__:Br;i=o("ws"),r=o("eventsource")}!De.isNode&&typeof WebSocket<"u"&&!t.WebSocket?t.WebSocket=WebSocket:De.isNode&&!t.WebSocket&&i&&(t.WebSocket=i),!De.isNode&&typeof EventSource<"u"&&!t.EventSource?t.EventSource=EventSource:De.isNode&&!t.EventSource&&typeof r<"u"&&(t.EventSource=r),this._httpClient=new Ju(t.httpClient||new Wu(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}start(n){return X(this,null,function*(){if(n=n||Ze.Binary,ve.isIn(n,Ze,"transferFormat"),this._logger.log(w.Debug,`Starting connection with transfer format '${Ze[n]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(n),yield this._startInternalPromise,this._connectionState==="Disconnecting"){let t="Failed to start the HttpConnection before stop() was called.";return this._logger.log(w.Error,t),yield this._stopPromise,Promise.reject(new ct(t))}else if(this._connectionState!=="Connected"){let t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(w.Error,t),Promise.reject(new ct(t))}this._connectionStarted=!0})}send(n){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Km(this.transport)),this._sendQueue.send(n))}stop(n){return X(this,null,function*(){if(this._connectionState==="Disconnected")return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(t=>{this._stopPromiseResolver=t}),yield this._stopInternal(n),yield this._stopPromise})}_stopInternal(n){return X(this,null,function*(){this._stopError=n;try{yield this._startInternalPromise}catch{}if(this.transport){try{yield this.transport.stop()}catch(t){this._logger.log(w.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(w.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})}_startInternal(n){return X(this,null,function*(){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===tt.WebSockets)this.transport=this._constructTransport(tt.WebSockets),yield this._startTransport(t,n);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let i=null,r=0;do{if(i=yield this._getNegotiationResponse(t),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ct("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(t=i.url),i.accessToken){let o=i.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}r++}while(i.url&&r<DD);if(r===DD&&i.url)throw new Error("Negotiate redirection limit exceeded.");yield this._createTransport(t,this._options.transport,i,n)}this.transport instanceof Ma&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(w.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(i){return this._logger.log(w.Error,"Failed to start the connection: "+i),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(i)}})}_getNegotiationResponse(n){return X(this,null,function*(){let t={},[i,r]=Yn();t[i]=r;let o=this._resolveNegotiateUrl(n);this._logger.log(w.Debug,`Sending negotiation request: ${o}.`);try{let s=yield this._httpClient.post(o,{content:"",headers:I(I({},t),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));let a=JSON.parse(s.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Sa("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(s){let a="Failed to complete negotiation with the server: "+s;return s instanceof Qt&&s.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(w.Error,a),Promise.reject(new Sa(a))}})}_createConnectUrl(n,t){return t?n+(n.indexOf("?")===-1?"?":"&")+`id=${t}`:n}_createTransport(n,t,i,r){return X(this,null,function*(){let o=this._createConnectUrl(n,i.connectionToken);if(this._isITransport(t)){this._logger.log(w.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,yield this._startTransport(o,r),this.connectionId=i.connectionId;return}let s=[],a=i.availableTransports||[],l=i;for(let d of a){let p=this._resolveTransportOrError(d,t,r,l?.useStatefulReconnect===!0);if(p instanceof Error)s.push(`${d.transport} failed:`),s.push(p);else if(this._isITransport(p)){if(this.transport=p,!l){try{l=yield this._getNegotiationResponse(n)}catch(m){return Promise.reject(m)}o=this._createConnectUrl(n,l.connectionToken)}try{yield this._startTransport(o,r),this.connectionId=l.connectionId;return}catch(m){if(this._logger.log(w.Error,`Failed to start the transport '${d.transport}': ${m}`),l=void 0,s.push(new Bu(`${d.transport} failed: ${m}`,tt[d.transport])),this._connectionState!=="Connecting"){let v="Failed to select transport before stop() was called.";return this._logger.log(w.Debug,v),Promise.reject(new ct(v))}}}}return s.length>0?Promise.reject(new Uu(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))})}_constructTransport(n){switch(n){case tt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new td(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case tt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new ed(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case tt.LongPolling:return new Ma(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=i=>X(this,null,function*(){let r=!1;if(this.features.reconnect)try{this.features.disconnected(),yield this.transport.connect(n,t),yield this.features.resend()}catch{r=!0}else{this._stopConnection(i);return}r&&this._stopConnection(i)}):this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(n,t)}_resolveTransportOrError(n,t,i,r){let o=tt[n.transport];if(o==null)return this._logger.log(w.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(hP(t,o))if(n.transferFormats.map(a=>Ze[a]).indexOf(i)>=0){if(o===tt.WebSockets&&!this._options.WebSocket||o===tt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it is not supported in your environment.'`),new Vu(`'${tt[o]}' is not supported in your environment.`,o);this._logger.log(w.Debug,`Selecting transport '${tt[o]}'.`);try{return this.features.reconnect=o===tt.WebSockets?r:void 0,this._constructTransport(o)}catch(a){return a}}else return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it does not support the requested transfer format '${Ze[i]}'.`),new Error(`'${tt[o]}' does not support ${Ze[i]}.`);else return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it was disabled by the client.`),new ju(`'${tt[o]}' is disabled by the client.`,o)}_isITransport(n){return n&&typeof n=="object"&&"connect"in n}_stopConnection(n){if(this._logger.log(w.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(w.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(w.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),n?this._logger.log(w.Error,`Connection disconnected with error '${n}'.`):this._logger.log(w.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(t=>{this._logger.log(w.Error,`TransportSendQueue.stop() threw error '${t}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(t){this._logger.log(w.Error,`HttpConnection.onclose(${n}) threw error '${t}'.`)}}}_resolveUrl(n){if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(!De.isBrowser)throw new Error(`Cannot resolve '${n}'.`);let t=window.document.createElement("a");return t.href=n,this._logger.log(w.Information,`Normalizing '${n}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(n){let t=new URL(n);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";let i=new URLSearchParams(t.searchParams);return i.has("negotiateVersion")||i.append("negotiateVersion",this._negotiateVersion.toString()),i.has("useStatefulReconnect")?i.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&i.append("useStatefulReconnect","true"),t.search=i.toString(),t.toString()}};function hP(e,n){return!e||(n&e)!==0}var Km=class e{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Jo,this._transportResult=new Jo,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Jo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}_sendLoop(){return X(this,null,function*(){for(;;){if(yield this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Jo;let n=this._transportResult;this._transportResult=void 0;let t=typeof this._buffer[0]=="string"?this._buffer.join(""):e._concatBuffers(this._buffer);this._buffer.length=0;try{yield this._transport.send(t),n.resolve()}catch(i){n.reject(i)}}})}static _concatBuffers(n){let t=n.map(o=>o.byteLength).reduce((o,s)=>o+s),i=new Uint8Array(t),r=0;for(let o of n)i.set(new Uint8Array(o),r),r+=o.byteLength;return i.buffer}},Jo=class{constructor(){this.promise=new Promise((n,t)=>[this._resolver,this._rejecter]=[n,t])}resolve(){this._resolver()}reject(n){this._rejecter(n)}};var mP="json",id=class{constructor(){this.name=mP,this.version=2,this.transferFormat=Ze.Text}parseMessages(n,t){if(typeof n!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];t===null&&(t=Wn.instance);let i=Zt.parse(n),r=[];for(let o of i){let s=JSON.parse(o);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case z.Invocation:this._isInvocationMessage(s);break;case z.StreamItem:this._isStreamItemMessage(s);break;case z.Completion:this._isCompletionMessage(s);break;case z.Ping:break;case z.Close:break;case z.Ack:this._isAckMessage(s);break;case z.Sequence:this._isSequenceMessage(s);break;default:t.log(w.Information,"Unknown message type '"+s.type+"' ignored.");continue}r.push(s)}return r}writeMessage(n){return Zt.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),n.invocationId!==void 0&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),n.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_isAckMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(n,t){if(typeof n!="string"||n==="")throw new Error(t)}};var gP={trace:w.Trace,debug:w.Debug,info:w.Information,information:w.Information,warn:w.Warning,warning:w.Warning,error:w.Error,critical:w.Critical,none:w.None};function _P(e){let n=gP[e.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${e}`)}var Vr=class{configureLogging(n){if(ve.isRequired(n,"logging"),vP(n))this.logger=n;else if(typeof n=="string"){let t=_P(n);this.logger=new Fr(t)}else this.logger=new Fr(n);return this}withUrl(n,t){return ve.isRequired(n,"url"),ve.isNotEmpty(n,"url"),this.url=n,typeof t=="object"?this.httpConnectionOptions=I(I({},this.httpConnectionOptions),t):this.httpConnectionOptions=H(I({},this.httpConnectionOptions),{transport:t}),this}withHubProtocol(n){return ve.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return n?Array.isArray(n)?this.reconnectPolicy=new Ia(n):this.reconnectPolicy=n:this.reconnectPolicy=new Ia,this}withServerTimeout(n){return ve.isRequired(n,"milliseconds"),this._serverTimeoutInMilliseconds=n,this}withKeepAliveInterval(n){return ve.isRequired(n,"milliseconds"),this._keepAliveIntervalInMilliseconds=n,this}withStatefulReconnect(n){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=n?.bufferSize,this}build(){let n=this.httpConnectionOptions||{};if(n.logger===void 0&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");let t=new nd(this.url,n);return Ku.create(t,this.logger||Wn.instance,this.protocol||new id,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}};function vP(e){return e.log!==void 0}var Wi={production:!0,apiBaseUrl:"http://p2pdelivery.runasp.net/",chatHubUrl:"http://p2pdelivery.runasp.net/hub/chat",imageBaseUrl:"http://p2pdelivery.runasp.net/images/",notificationHubUrl:"http://p2pdelivery.runasp.net/hub/notification",enableDebug:!1,secure:!1};var Qn=class e{hubConnection;newMessageSubject=new ae;newMessage$=this.newMessageSubject.asObservable();constructor(){}startConnection(){this.hubConnection=new Vr().withUrl(`${Wi.chatHubUrl}`,{accessTokenFactory:()=>localStorage.getItem("token")||sessionStorage.getItem("token")||""}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>console.log("SignalR connection started")).catch(n=>console.log("Error while starting connection: "+n)),this.registerSignalREvents()}registerSignalREvents(){this.hubConnection?this.hubConnection.on("ReceiveMessage",n=>{this.newMessageSubject.next(n)}):console.error("Hub connection is not established.")}startNewChat(n,t,i){let r={chatId:0,message:t,receiverId:i,date:new Date};this.sendMessage(r,n)}sendMessage(n,t){if(!n||!t){console.error("Message or deliveryRequestId is null or undefined.");return}this.hubConnection&&this.hubConnection.invoke("SendMessageToUser",n,t).catch(i=>console.error("Error while sending message: "+i))}stopConnection(){this.hubConnection&&this.hubConnection.stop().then(()=>console.log("SignalR connection stopped")).catch(n=>console.error("Error while stopping connection: "+n))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var rd=class e{applicantId;deliveryRequestId;message="";signalRService=b(Qn);activeModal=b(zn);sendMessage(){this.message.trim()&&(this.signalRService.startNewChat(this.deliveryRequestId.toString(),this.message,this.applicantId),this.activeModal.close())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["app-chat-modal"]],inputs:{applicantId:"applicantId",deliveryRequestId:"deliveryRequestId"},decls:13,vars:2,consts:[[1,"modal-header","text-white"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","bg-white"],[1,"form-group"],["type","text","placeholder","Type a message...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-main","px-4",3,"click","disabled"],[1,"bi","bi-send-fill","ms-2"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"h5",1),f(2,"Send Message"),c(),u(3,"button",2),M("click",function(){return i.activeModal.dismiss()}),c()(),u(4,"div",3)(5,"div",4)(6,"input",5),Ee("ngModelChange",function(o){return xe(i.message,o)||(i.message=o),o}),M("keyup.enter",function(){return i.sendMessage()}),c()()(),u(7,"div",6)(8,"button",7),M("click",function(){return i.activeModal.dismiss()}),f(9,"Close"),c(),u(10,"button",8),M("click",function(){return i.sendMessage()}),f(11," Send "),S(12,"i",9),c()()),t&2&&(h(6),we("ngModel",i.message),h(4),g("disabled",!i.message))},dependencies:[Qe,Oe,$e,Gt],styles:[".modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]{background-color:var(--dark)}textarea[_ngcontent-%COMP%]{resize:none}"]})};var yP=()=>["Accepted","Pending","Cancelled","Completed","Delivered"],bP=(e,n)=>({"bg-success text-white":e,"bg-info text-dark":n}),DP=()=>["Accepted","Pending","Rejected"];function CP(e,n){if(e&1&&(u(0,"div",33),f(1),c()),e&2){let t=y();h(),j(" ",t.errorMessage," ")}}function wP(e,n){if(e&1){let t=ne();u(0,"tr",48)(1,"td"),f(2),c(),u(3,"td"),f(4),c(),u(5,"td"),f(6),gt(7,"currency"),c(),u(8,"td")(9,"span",49),f(10),c()(),u(11,"td")(12,"div",50)(13,"button",51),M("click",function(){let r=R(t).$implicit,o=y(3);return N(o.updateApplicationStatus(r.id,1))}),S(14,"i",52),f(15," Accept "),c(),u(16,"button",53),M("click",function(){let r=R(t).$implicit,o=y(3);return N(o.updateApplicationStatus(r.id,2))}),S(17,"i",54),f(18," Reject "),c(),u(19,"button",55),M("click",function(){let r=R(t).$implicit,o=y(3);return N(o.openChatModal(r.id,o.deliveryRequestDetails.id))}),S(20,"i",56),f(21," Chat "),c()()()()}if(e&2){let t=n.$implicit,i=n.index,r=y(3);h(2),O(i+1),h(2),O(t.userName),h(2),O(bh(7,7,t.offeredPrice)),h(3),g("ngClass",Ps(9,bP,t.applicationStatus==="Accepted",t.applicationStatus!=="Accepted")),h(),j(" ",t.applicationStatus," "),h(3),g("disabled",r.hasAcceptedApplication()&&t.applicationStatus!=="Accepted"),h(6),g("disabled",t.applicationStatus!=="Accepted")}}function EP(e,n){if(e&1&&(u(0,"div")(1,"div",44)(2,"table",45)(3,"thead",46)(4,"tr")(5,"th"),f(6,"#"),c(),u(7,"th"),f(8,"User Name"),c(),u(9,"th"),f(10,"Offered Price"),c(),u(11,"th"),f(12,"Status"),c(),u(13,"th"),f(14,"Actions"),c()()(),u(15,"tbody"),D(16,wP,22,12,"tr",47),c()()()()),e&2){let t=y(2);h(16),g("ngForOf",t.nonRejectedApplications)("ngForTrackBy",t.trackApp)}}function SP(e,n){e&1&&(u(0,"p",57),f(1,"No applications found for this request."),c())}function IP(e,n){if(e&1&&(u(0,"div",34)(1,"div",35)(2,"div",36)(3,"h4",37),f(4,"Delivery Request Details"),c(),u(5,"ul",38)(6,"li",39)(7,"strong"),f(8,"ID:"),c(),f(9),c(),u(10,"li",39)(11,"strong"),f(12,"Title:"),c(),f(13),c(),u(14,"li",39)(15,"strong"),f(16,"Description:"),c(),f(17),c(),u(18,"li",39)(19,"strong"),f(20,"Status:"),c(),u(21,"span",40),f(22),c()()()()(),u(23,"div",41)(24,"div",36)(25,"h4",42),f(26,"Applications"),c(),D(27,EP,17,2,"div",43)(28,SP,2,0,"ng-template",null,0,As),c()()()),e&2){let t=Ns(29),i=y();h(9),j(" ",i.deliveryRequestDetails.id,""),h(4),j(" ",i.deliveryRequestDetails.title,""),h(4),j(" ",i.deliveryRequestDetails.description,""),h(5),O(i.deliveryRequestDetails.status),h(5),g("ngIf",i.nonRejectedApplications==null?null:i.nonRejectedApplications.length)("ngIfElse",t)}}function MP(e,n){if(e&1&&(u(0,"span",58),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function xP(e,n){if(e&1&&(u(0,"span",59),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function TP(e,n){if(e&1&&(u(0,"span",60),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function RP(e,n){if(e&1&&(u(0,"span",61),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function NP(e,n){if(e&1&&(u(0,"span",62),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function OP(e,n){if(e&1&&(u(0,"span",63),f(1),c()),e&2){let t=y();h(),j(" ",t.deliveryRequestDetails.status," ")}}function PP(e,n){if(e&1){let t=ne();u(0,"button",64),M("click",function(){R(t);let r=y();return N(r.openPopup(r.deliveryRequestDetails.id))}),f(1,"Add Application"),c()}}function kP(e,n){if(e&1&&(u(0,"div",65),f(1),c()),e&2){let t=y();h(),j(" ",t.deliveryRequestDetails.userName.charAt(0).toUpperCase()," ")}}function AP(e,n){if(e&1&&(u(0,"div",66),S(1,"img",67),c()),e&2){let t=y();h(),g("src","https://localhost:7176"+t.deliveryRequestDetails.drImageUrl,nn)}}function FP(e,n){if(e&1&&(u(0,"span",58),f(1),c()),e&2){let t=y().$implicit;h(),O(t.applicationStatus)}}function LP(e,n){if(e&1&&(u(0,"span",59),f(1),c()),e&2){let t=y().$implicit;h(),O(t.applicationStatus)}}function VP(e,n){if(e&1&&(u(0,"span",60),f(1),c()),e&2){let t=y().$implicit;h(),O(t.applicationStatus)}}function jP(e,n){if(e&1&&(u(0,"span",63),f(1),c()),e&2){let t=y().$implicit;h(),j(" ",t.applicationStatus," ")}}function BP(e,n){e&1&&(u(0,"option",87),f(1,"Reject"),c())}function UP(e,n){e&1&&(u(0,"option",88),f(1,"Accept"),c())}function HP(e,n){e&1&&(u(0,"option",88),f(1,"Accept"),c(),u(2,"option",87),f(3,"Reject"),c())}function $P(e,n){if(e&1){let t=ne();u(0,"div",69)(1,"div",70)(2,"div",16)(3,"div",71)(4,"div",72),D(5,FP,2,1,"span",5)(6,LP,2,1,"span",6)(7,VP,2,1,"span",7)(8,jP,2,1,"span",10),u(9,"div",73),f(10),c(),u(11,"div",74),f(12),c(),u(13,"div",75),f(14,"\u2605 \u2605 \u2605 \u2605 \u2606"),c()()(),u(15,"div",76)(16,"div",77)(17,"div",78),f(18),c(),u(19,"div"),f(20,"EGP"),c()()(),u(21,"div",79)(22,"div",80)(23,"button",81),M("click",function(){let r=R(t).$implicit,o=y(2);return N(o.openChatModal(r.userId,o.deliveryRequestDetails.id))}),f(24,"Chat"),c(),u(25,"div",82)(26,"label",83),f(27,"Change status:"),c(),u(28,"div",84)(29,"select",85)(30,"option",86),f(31,"select status"),c(),D(32,BP,2,0,"option",87)(33,UP,2,0,"option",88)(34,HP,4,0),c(),u(35,"button",89),f(36,"Save"),c()()()()()()()()}if(e&2){let t=n.$implicit;h(5),g("ngIf",t.applicationStatus==="Accepted"),h(),g("ngIf",t.applicationStatus==="Pending"),h(),g("ngIf",t.applicationStatus==="Rejected"),h(),g("ngIf",!Pn(10,DP).includes(t.applicationStatus)),h(2),O(t.userName),h(2),O(t.date),h(6),O(t.offeredPrice),h(14),fe(t.applicationStatus==="Accepted"?32:-1),h(),fe(t.applicationStatus==="Rejected"?33:-1),h(),fe(t.applicationStatus==="Pending"?34:-1)}}function qP(e,n){if(e&1&&(u(0,"section",32)(1,"h1",68),f(2,"Offered Applications"),c(),yr(3,$P,37,11,"div",69,Rs),c()),e&2){let t=y();h(3),br(t.deliveryRequestDetails.applicationDTOs)}}var od=class e{constructor(n){this.modalService=n}deliveryRequestService=b(Wt);route=b(lt);applicationService=b(Wt);deliveryRequestDetails;ApplicationstatusDTO;errorMessage="";router=b(oe);ngOnInit(){let n=Number(this.route.snapshot.paramMap.get("id"));if(!n){this.errorMessage="Invalid request ID";return}this.deliveryRequestService.getRequestDetails(n).subscribe({next:t=>{console.log(t),t.isSuccess?(this.deliveryRequestDetails=t.data,this.deliveryRequestDetails.pickUpDate=t.data.pickUpDate.split("T")[0],this.deliveryRequestDetails.applicationDTOs.forEach(i=>{i.date&&(i.date=i.date.split("T")[0])}),console.log(this.deliveryRequestDetails)):(this.errorMessage=t.message||"An error occurred while fetching request details.",console.error(this.errorMessage))}})}openPopup(n){if(localStorage.getItem("token")||sessionStorage.getItem("token")){let i=this.modalService.open(qi,{centered:!0,size:"m"});i.componentInstance.deliveryRequestID=n}else this.router.navigate(["/login"])}openChatModal(n,t){let i=this.modalService.open(rd);i.componentInstance.applicantId=n,i.componentInstance.deliveryRequestId=t}updateApplicationStatus(n,t){let i={id:n,status:t,deleveryRequestId:this.deliveryRequestDetails.id};console.log(i),this.applicationService.changeStatus(i).subscribe({next:r=>{r.isSuccess?this.deliveryRequestService.getRequestDetails(this.deliveryRequestDetails.id).subscribe(o=>{o.isSuccess?this.deliveryRequestDetails=o.data:this.errorMessage="Failed to refresh request details."}):this.errorMessage="Failed to update status."},error:r=>{this.errorMessage="An error occurred while updating the status.",console.error(this.errorMessage)}})}hasAcceptedApplication(){return this.deliveryRequestDetails.applicationDTOs?.some(n=>n.applicationStatus==="Accepted")||!1}get nonRejectedApplications(){return this.deliveryRequestDetails?.applicationDTOs?.filter(n=>n.applicationStatus!=="Rejected")}trackApp(n,t){return t.id}static \u0275fac=function(t){return new(t||e)(C(vi))};static \u0275cmp=V({type:e,selectors:[["app-delivery-request-details"]],decls:62,vars:23,consts:[["noApplications",""],[1,"container","my-5"],["class","alert alert-danger text-center fw-bold animate__animated animate__fadeIn",4,"ngIf"],["class","details-container",4,"ngIf"],[1,"py-5","container"],["class","badge bg-success status-badge",4,"ngIf"],["class","badge bg-warning text-dark status-badge",4,"ngIf"],["class","badge bg-danger status-badge",4,"ngIf"],["class","badge bg-info status-badge",4,"ngIf"],["class","badge bg-warning status-badge",4,"ngIf"],["class","badge bg-secondary status-badge",4,"ngIf"],[1,"row","align-items-center","mb-4"],[1,"col-md-8","col-12"],[1,"mb-3","mb-md-0"],[1,"col-md-4","col-12","text-md-end","text-start"],[1,"btn","btn-main"],[1,"row"],[1,"col-lg-8","col-12"],[1,"text-muted"],[1,"fs-6",3,"innerHTML"],[1,"col-lg-4","col-12"],[1,"card","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center"],["alt","User","width","50","height","50",1,"rounded-circle","me-3",3,"src"],["class","d-flex justify-content-center align-items-center rounded-circle text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"mb-0","fw-bold"],[1,"card","shadow-sm"],[1,"card-body"],[1,"text-muted","mb-3"],[1,"list-unstyled","small"],[1,"mb-2"],["class","text-center my-3",4,"ngIf"],[1,"container","mb-3"],[1,"alert","alert-danger","text-center","fw-bold","animate__animated","animate__fadeIn"],[1,"details-container"],[1,"card","mb-4","shadow-lg","border-0","animate__animated","animate__fadeInUp"],[1,"card-body","p-4"],[1,"card-title","text-primary","mb-4","fw-bold"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"badge","bg-info","text-dark","rounded-pill"],[1,"card","shadow-lg","border-0","animate__animated","animate__fadeInUp","animation-delay-2"],[1,"card-title","text-success","mb-4","fw-bold"],[4,"ngIf","ngIfElse"],[1,"table-responsive"],[1,"table","table-hover","align-middle","text-center","modern-table"],[1,"table-light"],["class","animate__animated animate__fadeIn",4,"ngFor","ngForOf","ngForTrackBy"],[1,"animate__animated","animate__fadeIn"],[1,"badge","rounded-pill",3,"ngClass"],[1,"d-flex","justify-content-center","gap-2","flex-wrap"],["title","Accept Application",1,"btn","btn-success","btn-sm","action-btn","custom-accept-btn",3,"click","disabled"],[1,"bi","bi-check-circle","me-1"],["title","Reject Application",1,"btn","btn-danger","btn-sm","action-btn","custom-reject-btn",3,"click"],[1,"bi","bi-x-circle","me-1"],["title","Chat with Applicant",1,"btn","btn-outline-secondary","btn-sm","action-btn",3,"click","disabled"],[1,"bi","bi-chat-dots","me-1"],[1,"text-muted","text-center","fst-italic","py-3"],[1,"badge","bg-success","status-badge"],[1,"badge","bg-warning","text-dark","status-badge"],[1,"badge","bg-danger","status-badge"],[1,"badge","bg-info","status-badge"],[1,"badge","bg-warning","status-badge"],[1,"badge","bg-secondary","status-badge"],[1,"btn","btn-main",3,"click"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"text-center","my-3"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"],[1,"font-weight-light","text-center"],[1,"container","py-2"],[1,"card-custom","p-3"],[1,"col-12","col-md-4","d-flex","flex-column","flex-md-row","align-items-center"],[1,"text-center","text-md-start"],[1,"fw-bold","fs-5"],[1,"text-muted","small","mb-1"],[1,"stars"],[1,"col-12","col-md-4","price-section","text-center","text-md-start","my-4","my-md-0"],[1,"triangle-section","p-2"],[2,"font-size","3rem"],[1,"col-12","col-md-4","text-center","text-md-start"],[1,"d-flex","flex-column","align-items-center"],[1,"btn","chat-btn","btn-main","mb-2",3,"click"],[1,"w-100"],["for","status",1,"form-label","fw-bold","mb-1"],[1,"d-flex","flex-column","flex-sm-row","align-items-center"],["aria-label","Default select example",1,"form-select","mb-2","mb-sm-0","me-sm-2"],["selected",""],["value","2"],["value","1"],[1,"btn","save-btn","btn-main","btn-sm"]],template:function(t,i){t&1&&(u(0,"div",1),D(1,CP,2,1,"div",2)(2,IP,30,6,"div",3),c(),u(3,"section",4),D(4,MP,2,1,"span",5)(5,xP,2,1,"span",6)(6,TP,2,1,"span",7)(7,RP,2,1,"span",8)(8,NP,2,1,"span",9)(9,OP,2,1,"span",10),u(10,"div",11)(11,"div",12)(12,"h1",13),f(13),c()(),u(14,"div",14),D(15,PP,2,0,"button",15),c()(),u(16,"div",16)(17,"div",17)(18,"h5",18),f(19,"Request Description"),c(),S(20,"hr")(21,"p",19),c(),u(22,"div",20)(23,"div",21)(24,"div",22),S(25,"img",23),D(26,kP,2,1,"div",24),u(27,"div")(28,"h6",25),f(29),c()()()(),u(30,"div",26)(31,"div",27)(32,"h5",28),f(33,"Request Details"),c(),u(34,"ul",29)(35,"li",30)(36,"strong"),f(37,"Weight: "),c(),u(38,"span",18),f(39),c()(),u(40,"li",30)(41,"strong"),f(42,"Pick-up: "),c(),u(43,"span",18),f(44),c()(),u(45,"li",30)(46,"strong"),f(47,"Drop-off: "),c(),u(48,"span",18),f(49),c()(),u(50,"li",30)(51,"strong"),f(52,"Pick-up Date: "),c(),u(53,"span",18),f(54),c()(),u(55,"li",30)(56,"strong"),f(57,"Price Range: "),c(),u(58,"span",18),f(59),c()()(),D(60,AP,2,1,"div",31),c()()()()(),D(61,qP,5,0,"section",32)),t&2&&(h(),g("ngIf",i.errorMessage),h(),g("ngIf",i.deliveryRequestDetails),h(2),g("ngIf",i.deliveryRequestDetails.status==="Accepted"),h(),g("ngIf",i.deliveryRequestDetails.status==="Pending"),h(),g("ngIf",i.deliveryRequestDetails.status==="Cancelled"),h(),g("ngIf",i.deliveryRequestDetails.status==="Completed"),h(),g("ngIf",i.deliveryRequestDetails.status==="Delivered"),h(),g("ngIf",!Pn(22,yP).includes(i.deliveryRequestDetails.status)),h(4),O(i.deliveryRequestDetails.title),h(2),fe(i.deliveryRequestDetails.applicationDTOs.length==0?15:-1),h(6),g("innerHTML",i.deliveryRequestDetails.description,tv),h(4),g("src","https://localhost:7176"+i.deliveryRequestDetails.profileImageUrl,nn),h(),g("ngIf",!i.deliveryRequestDetails.profileImageUrl),h(3),O(i.deliveryRequestDetails.userName),h(10),j("",i.deliveryRequestDetails.totalWeight," kg"),h(5),O(i.deliveryRequestDetails.pickUpLocation),h(5),O(i.deliveryRequestDetails.dropOffLocation),h(5),O(i.deliveryRequestDetails.pickUpDate),h(5),Os("",i.deliveryRequestDetails.minPrice," - ",i.deliveryRequestDetails.maxPrice," EGP"),h(),g("ngIf",i.deliveryRequestDetails.drImageUrl),h(),fe(i.deliveryRequestDetails.applicationDTOs.length>0?61:-1))},dependencies:[re,Nr,Ie,Ct,He,Fh,Qe,Hn,$n],styles:[".custom-accept-btn[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.custom-accept-btn[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.custom-reject-btn[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.custom-reject-btn[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.card-custom[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 5px 15px #0000001a}.profile-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.status-badge[_ngcontent-%COMP%]{font-size:12px;padding:3px 10px;border-radius:12px;display:inline-block;margin-bottom:5px}.left-section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 20px;flex:1}.info[_ngcontent-%COMP%]{margin-left:15px}.stars[_ngcontent-%COMP%]{color:var(--yellow);font-size:16px}.triangle-section[_ngcontent-%COMP%]{background-color:var(--yellow);height:100%;width:fit-content;clip-path:polygon(0 0,100% 0,100% 100%,0% 100%);display:flex;flex-direction:column;justify-content:center;align-items:center;color:var(--dark);font-weight:700}.triangle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{font-size:48px}.triangle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{font-size:14px}.right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0 20px;justify-content:center}.chat-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{background-color:var(--yellow);color:var(--dark);font-weight:700;border:none;border-radius:10px;width:100%}.status-input[_ngcontent-%COMP%]{border:2px solid var(--yellow);border-radius:8px;width:80px;text-align:center}@media (max-width: 767.98px){.price-section[_ngcontent-%COMP%]{background-color:var(--yellow);text-align:center;width:100%}}@media (max-width: 767.98px){.triangle-section[_ngcontent-%COMP%]{width:100%}}"]})};function zP(e,n){e&1&&(u(0,"small"),f(1,"Title is required"),c())}function GP(e,n){e&1&&(u(0,"small"),f(1,"Title must be less than 100 characters"),c())}function WP(e,n){if(e&1&&(u(0,"div",36),D(1,zP,2,0,"small",37)(2,GP,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("title"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("title"))==null||i.errors==null?null:i.errors.maxlength)}}function YP(e,n){e&1&&(u(0,"small"),f(1,"Total weight is required"),c())}function QP(e,n){e&1&&(u(0,"small"),f(1,"Must be at least 1 kg"),c())}function ZP(e,n){if(e&1&&(u(0,"div",36),D(1,YP,2,0,"small",37)(2,QP,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("totalWeight"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("totalWeight"))==null||i.errors==null?null:i.errors.min)}}function KP(e,n){e&1&&(u(0,"small"),f(1,"Description is required"),c())}function JP(e,n){e&1&&(u(0,"small"),f(1,"Must be less than 500 characters"),c())}function XP(e,n){if(e&1&&(u(0,"div",36),D(1,KP,2,0,"small",37)(2,JP,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("description"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("description"))==null||i.errors==null?null:i.errors.maxlength)}}function ek(e,n){if(e&1&&(u(0,"option",38),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),j(" ",t," ")}}function tk(e,n){e&1&&(u(0,"small"),f(1,"Pickup location is required"),c())}function nk(e,n){if(e&1&&(u(0,"div",36),D(1,tk,2,0,"small",37),c()),e&2){let t,i=y();h(),g("ngIf",(t=i.createForm.get("pickUpLocation"))==null||t.errors==null?null:t.errors.required)}}function ik(e,n){if(e&1&&(u(0,"option",38),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),j(" ",t," ")}}function rk(e,n){e&1&&(u(0,"small"),f(1,"Dropoff location is required"),c())}function ok(e,n){if(e&1&&(u(0,"div",36),D(1,rk,2,0,"small",37),c()),e&2){let t,i=y();h(),g("ngIf",(t=i.createForm.get("dropOffLocation"))==null||t.errors==null?null:t.errors.required)}}function sk(e,n){e&1&&(u(0,"small"),f(1,"Pickup date is required"),c())}function ak(e,n){if(e&1&&(u(0,"div",36),D(1,sk,2,0,"small",37),c()),e&2){let t,i=y();h(),g("ngIf",(t=i.createForm.get("pickUpDate"))==null||t.errors==null?null:t.errors.required)}}function lk(e,n){e&1&&(u(0,"small"),f(1,"Minimum price is required"),c())}function ck(e,n){e&1&&(u(0,"small"),f(1,"Must be 0 or more"),c())}function uk(e,n){if(e&1&&(u(0,"div",36),D(1,lk,2,0,"small",37)(2,ck,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("minPrice"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("minPrice"))==null||i.errors==null?null:i.errors.min)}}function dk(e,n){e&1&&(u(0,"small"),f(1,"Maximum price is required"),c())}function fk(e,n){e&1&&(u(0,"small"),f(1,"Must be 0 or more"),c())}function pk(e,n){if(e&1&&(u(0,"div",36),D(1,dk,2,0,"small",37)(2,fk,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("maxPrice"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("maxPrice"))==null||i.errors==null?null:i.errors.min)}}function hk(e,n){e&1&&(u(0,"div",39)(1,"small"),f(2,"Maximum price must be greater than minimum price"),c()())}var Yi=class e{constructor(n,t,i,r){this.fb=n;this.deliveryRequestService=t;this.router=i;this.activeModal=r;this.initForm()}createForm;egyptGovernorates=Hi;minDate="";selectedImageFile=null;ngOnInit(){let n=new Date;this.minDate=n.toISOString().split("T")[0]}initForm(){this.createForm=this.fb.group({title:["",[U.required,U.maxLength(50)]],description:["",[U.required,U.maxLength(500)]],totalWeight:["",[U.required]],pickUpLocation:["",[U.required]],dropOffLocation:["",[U.required]],pickUpDate:["",[U.required]],minPrice:[0,[U.required,U.min(0)]],maxPrice:[0,[U.required,U.min(0)]]},{validators:[Qo.priceRangeValidator("minPrice","maxPrice")]})}onFileSelected(n){let t=n.target;t.files&&t.files.length>0&&(this.selectedImageFile=t.files[0])}onSubmit(){if(this.createForm.valid){let n=new FormData,t=this.createForm.value;for(let i in t)n.append(i,t[i]);this.selectedImageFile&&n.append("DRImage",this.selectedImageFile),this.deliveryRequestService.create(n).subscribe({next:i=>{console.log(i)},error:i=>{console.error("Error creating delivery request:",i)}}),this.closeModal()}}closeModal(){this.activeModal.close()}static \u0275fac=function(t){return new(t||e)(C(Ui),C(Wt),C(oe),C(zn))};static \u0275cmp=V({type:e,selectors:[["app-delivery-request-creation"]],decls:63,vars:14,consts:[["type","button","aria-label","Close",1,"btn-close",2,"position","absolute","right","20px","top","20px",3,"click"],["id","cont",1,"container","mt-5"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-4","text-center","fw-bold",2,"color","#151e30"],[1,"row","g-3","p-3"],[1,"col-md-6"],["for","title",1,"form-label","fw-semibold"],["type","text","id","title","formControlName","title",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","totalWeight",1,"form-label","fw-semibold"],["type","number","id","totalWeight","formControlName","totalWeight",1,"form-control","form-control-sm"],[1,"mb-3","mt-3"],["for","description",1,"form-label","fw-semibold"],["id","description","rows","3","formControlName","description",1,"form-control","form-control-sm"],[1,"row","g-3","mb-3"],["for","pickUpLocation",1,"form-label","fw-semibold"],["id","pickUpLocation","formControlName","pickUpLocation",1,"form-select","form-control-sm"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","dropOffLocation",1,"form-label","fw-semibold"],["id","dropOffLocation","formControlName","dropOffLocation",1,"form-select","form-control-sm"],[1,"mb-3"],["for","pickUpDate",1,"form-label","fw-semibold"],["type","date","id","pickUpDate","formControlName","pickUpDate",1,"form-control","form-control-sm",3,"min"],[1,"row","g-3"],["for","minPrice",1,"form-label","fw-semibold"],["type","number","id","minPrice","formControlName","minPrice",1,"form-control","form-control-sm"],["for","maxPrice",1,"form-label","fw-semibold"],["type","number","id","maxPrice","formControlName","maxPrice",1,"form-control","form-control-sm"],["class","text-danger mt-2",4,"ngIf"],[1,"form-group"],["for","drImage"],["type","file","id","drImage","accept","image/*",3,"change"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-warning","btn-lg",3,"disabled"],[1,"bi","bi-truck"],[1,"text-danger"],[4,"ngIf"],[3,"value"],[1,"text-danger","mt-2"]],template:function(t,i){if(t&1&&(u(0,"button",0),M("click",function(){return i.closeModal()}),c(),u(1,"div",1)(2,"form",2),M("ngSubmit",function(){return i.onSubmit()}),u(3,"h3",3),f(4,"Create Delivery Request"),c(),u(5,"div",4)(6,"div",5)(7,"label",6),f(8,"Title"),c(),S(9,"input",7),D(10,WP,3,2,"div",8),c(),u(11,"div",5)(12,"label",9),f(13,"Total Weight (kg)"),c(),S(14,"input",10),D(15,ZP,3,2,"div",8),c()(),u(16,"div",11)(17,"label",12),f(18,"Description"),c(),S(19,"textarea",13),D(20,XP,3,2,"div",8),c(),u(21,"div",14)(22,"div",5)(23,"label",15),f(24,"Pickup Location"),c(),u(25,"select",16)(26,"option",17),f(27,"Select pickup location"),c(),D(28,ek,2,2,"option",18),c(),D(29,nk,2,1,"div",8),c(),u(30,"div",5)(31,"label",19),f(32,"Dropoff Location"),c(),u(33,"select",20)(34,"option",17),f(35,"Select dropoff location"),c(),D(36,ik,2,2,"option",18),c(),D(37,ok,2,1,"div",8),c()(),u(38,"div",21)(39,"label",22),f(40,"Pickup Date"),c(),S(41,"input",23),D(42,ak,2,1,"div",8),c(),u(43,"div",24)(44,"div",5)(45,"label",25),f(46,"Minimum Price"),c(),S(47,"input",26),D(48,uk,3,2,"div",8),c(),u(49,"div",5)(50,"label",27),f(51,"Maximum Price"),c(),S(52,"input",28),D(53,pk,3,2,"div",8),c()(),D(54,hk,3,0,"div",29),u(55,"div",30)(56,"label",31),f(57,"Delivery Request Image"),c(),u(58,"input",32),M("change",function(o){return i.onFileSelected(o)}),c()(),u(59,"div",33)(60,"button",34),S(61,"i",35),f(62," Create Delivery Request "),c()()()()),t&2){let r,o,s,a,l,d,p,m;h(2),g("formGroup",i.createForm),h(8),g("ngIf",((r=i.createForm.get("title"))==null?null:r.invalid)&&(((r=i.createForm.get("title"))==null?null:r.dirty)||((r=i.createForm.get("title"))==null?null:r.touched))),h(5),g("ngIf",((o=i.createForm.get("totalWeight"))==null?null:o.invalid)&&(((o=i.createForm.get("totalWeight"))==null?null:o.dirty)||((o=i.createForm.get("totalWeight"))==null?null:o.touched))),h(5),g("ngIf",((s=i.createForm.get("description"))==null?null:s.invalid)&&(((s=i.createForm.get("description"))==null?null:s.dirty)||((s=i.createForm.get("description"))==null?null:s.touched))),h(8),g("ngForOf",i.egyptGovernorates),h(),g("ngIf",((a=i.createForm.get("pickUpLocation"))==null?null:a.invalid)&&(((a=i.createForm.get("pickUpLocation"))==null?null:a.dirty)||((a=i.createForm.get("pickUpLocation"))==null?null:a.touched))),h(7),g("ngForOf",i.egyptGovernorates),h(),g("ngIf",((l=i.createForm.get("dropOffLocation"))==null?null:l.invalid)&&(((l=i.createForm.get("dropOffLocation"))==null?null:l.dirty)||((l=i.createForm.get("dropOffLocation"))==null?null:l.touched))),h(4),g("min",i.minDate),h(),g("ngIf",((d=i.createForm.get("pickUpDate"))==null?null:d.invalid)&&(((d=i.createForm.get("pickUpDate"))==null?null:d.dirty)||((d=i.createForm.get("pickUpDate"))==null?null:d.touched))),h(6),g("ngIf",((p=i.createForm.get("minPrice"))==null?null:p.invalid)&&(((p=i.createForm.get("minPrice"))==null?null:p.dirty)||((p=i.createForm.get("minPrice"))==null?null:p.touched))),h(5),g("ngIf",((m=i.createForm.get("maxPrice"))==null?null:m.invalid)&&(((m=i.createForm.get("maxPrice"))==null?null:m.dirty)||((m=i.createForm.get("maxPrice"))==null?null:m.touched))),h(),g("ngIf",i.createForm.errors==null?null:i.createForm.errors.priceRange),h(6),g("disabled",i.createForm.invalid)}},dependencies:[qn,ln,Hn,$n,Oe,Dn,Un,$e,an,gi,_i,Ie,He,re],styles:[".container[_ngcontent-%COMP%]{max-width:850px;width:100%;margin-bottom:40px;padding:0 20px}.card[_ngcontent-%COMP%]{background-color:#fff;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:100%}.form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600;font-size:1rem}.form-control-sm[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--yellow)}.btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:8px;color:#1a202c}.btn-warning[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.text-danger[_ngcontent-%COMP%]{font-size:.875rem;color:#dc3545}.text-danger[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block}.g-3[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}@media (max-width: 767px){.container[_ngcontent-%COMP%]{max-width:100%;padding:10px}.form-label[_ngcontent-%COMP%]{font-size:.9rem}.form-control-sm[_ngcontent-%COMP%]{font-size:.85rem}.btn-warning[_ngcontent-%COMP%]{font-size:.9rem;padding:.6rem 1rem}.text-danger[_ngcontent-%COMP%]{font-size:.75rem}.g-3[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}"]})};var xa=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["app-home"]],decls:86,vars:0,consts:[[1,"landing","d-flex","justify-content-center","align-items-center"],[1,"text-center","text-light"],["data-aos","zoom-out-right","data-aos-duration","400"],["data-aos","zoom-out-left","data-aos-duration","400"],["data-aos","zoom-out-left","data-aos-duration","300",1,"btn","btn-main","rounded-pill","me-1"],[1,"features","pt-5","pb-5"],[1,"container"],[1,"text-center","pb-5","main-title","position-relative"],[1,"row"],[1,"col-lg","col-sm-12"],[1,"row","row-cols-1","p-2"],["data-aos","fade-down","data-aos-easing","linear","data-aos-duration","800",1,"col"],[1,"number-title-holder","position-relative"],[1,"fa-solid","fa-1","position-absolute","bottom-0","number"],[1,"position-absolute","bottom-0"],[1,"text-muted","fw-light"],["data-aos","fade-down","data-aos-easing","linear","data-aos-duration","800",1,"col","mt-lg-5","mt-3"],[1,"position-relative"],[1,"fa-solid","fa-2","position-absolute","bottom-0","number"],[1,"col-lg","col-sm-12","features-center","text-center","d-flex","justify-content-center","align-items-center"],[1,"fa-solid","fa-people-carry-box"],[1,"fa-solid","fa-3","position-absolute","bottom-0","number"],[1,"fa-solid","fa-4","position-absolute","bottom-0","number"],[1,"faq","pt-5","pb-5"],[1,"text-center","pb-5","text-light","position-relative"],[1,"col-lg-8","col-sm-12"],["id","faqAccordion",1,"accordion","faq-accordion"],[1,"accordion-item","faq-item"],["id","faqHeadingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseOne","aria-expanded","true","aria-controls","faqCollapseOne",1,"accordion-button","faq-button"],["id","faqCollapseOne","aria-labelledby","faqHeadingOne","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse","show"],[1,"accordion-body","faq-body"],["id","faqHeadingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseTwo","aria-expanded","false","aria-controls","faqCollapseTwo",1,"accordion-button","collapsed","faq-button"],["id","faqCollapseTwo","aria-labelledby","faqHeadingTwo","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","faqHeadingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseThree","aria-expanded","false","aria-controls","faqCollapseThree",1,"accordion-button","collapsed","faq-button"],["id","faqCollapseThree","aria-labelledby","faqHeadingThree","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","faqHeadingfour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapsefour","aria-expanded","false","aria-controls","faqCollapsefour",1,"accordion-button","collapsed","faq-button"],["id","faqCollapsefour","aria-labelledby","faqHeadingfour","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["data-aos","zoom-out","data-aos-delay","300","data-aos-duration","1000",1,"col-lg-4","faq-right","d-none","d-lg-block"],[1,"fa-solid","fa-circle-question"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h1",2),f(3,"We are awesome!"),c(),u(4,"p",3),f(5,"Lorem ipsum dolor sit, amet"),c(),u(6,"a",4),f(7,"Get Started"),c()()(),u(8,"div",5)(9,"div",6)(10,"div",7)(11,"h1"),f(12,"Features"),c()(),u(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),S(18,"i",13),u(19,"h1",14),f(20,"header"),c()(),u(21,"p",15),f(22,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()(),u(23,"div",16)(24,"h1"),f(25,"header"),c(),u(26,"div",17),S(27,"i",18),u(28,"p",15),f(29,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()()()()(),u(30,"div",19),S(31,"i",20),c(),u(32,"div",9)(33,"div",10)(34,"div",11)(35,"div",12),S(36,"i",21),u(37,"h1",14),f(38,"header"),c()(),u(39,"p",15),f(40,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()(),u(41,"div",16)(42,"h1"),f(43,"header"),c(),u(44,"div",17),S(45,"i",22),u(46,"p",15),f(47,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()()()()()()()(),u(48,"div",23)(49,"div",6)(50,"div",24)(51,"h1"),f(52,"Frequently Asked Question"),c()(),u(53,"div",8)(54,"div",25)(55,"div",26)(56,"div",27)(57,"h2",28)(58,"button",29),f(59," What is your return policy? "),c()(),u(60,"div",30)(61,"div",31),f(62," Our return policy allows returns within 30 days of purchase with a valid receipt. "),c()()(),u(63,"div",27)(64,"h2",32)(65,"button",33),f(66," Do you offer international shipping? "),c()(),u(67,"div",34)(68,"div",31),f(69," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()(),u(70,"div",27)(71,"h2",35)(72,"button",36),f(73," Do you offer international shipping? "),c()(),u(74,"div",37)(75,"div",31),f(76," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()(),u(77,"div",27)(78,"h2",38)(79,"button",39),f(80," Do you offer international shipping? "),c()(),u(81,"div",40)(82,"div",31),f(83," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()()()(),u(84,"div",41),S(85,"i",42),c()()()())},styles:['.btn-main[_ngcontent-%COMP%]{padding:5px 20px;background-color:var(--yellow);color:var(--dark)}.btn-main[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--yellow);color:var(--dark)}.landing[_ngcontent-%COMP%]{height:600px;background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-repeat:no-repeat;background-size:cover;background-blend-mode:soft-light}.main-title[_ngcontent-%COMP%]:after{content:"";width:120px;height:2px;background-color:var(--yellow);position:absolute;left:50%;transform:translate(-50%)}.features-center[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:200px;color:#e99a42}.number-title-holder[_ngcontent-%COMP%]{height:150px}.number[_ngcontent-%COMP%]{font-size:120px;color:#e99a42;opacity:.2}.faq[_ngcontent-%COMP%]{background-color:var(--yellow)}.faq-right[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:250px;color:var(--dark)}.faq-accordion[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;background-color:transparent}.faq-item[_ngcontent-%COMP%]{background-color:transparent;border:none;border-radius:8px;margin-bottom:15px;overflow:hidden}.faq-button[_ngcontent-%COMP%]{background-color:var(--dark);color:var(--yellow);padding:1rem 1.25rem;border:none;box-shadow:none;font-size:1.1rem;transition:background-color .3s,color .3s}.faq-button[_ngcontent-%COMP%]:not(.collapsed){background-color:transparent;color:var(--dark);font-weight:700}.faq-button[_ngcontent-%COMP%]:after{filter:invert(80%)}.faq-body[_ngcontent-%COMP%]{background-color:transparent;color:var(--dark);padding:17px;font-size:.95rem;line-height:1.6}']})};var Xo=class e{filtersSubject=new le(null);filters$=this.filtersSubject.asObservable();constructor(){}updateFilters(n){this.filtersSubject.next(n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var mk=["offcanvasElement"],gk=["closeBtn"],sd=class e{constructor(n){this.filterService=n}statusMap={Pending:0,Accepted:1,Completed:2,Cancelled:3,Delivered:4};titleFilter="";statusFilter=[];pickupLocation="";dropoffLocation="";pickupDate="";minPrice=null;applyFilters(){let n={title:this.titleFilter,status:this.statusFilter,pickupLocation:this.pickupLocation,dropoffLocation:this.dropoffLocation,pickupDate:this.pickupDate,minPrice:this.minPrice};this.filterService.updateFilters(n),console.log(n),this.offcanvasInstance&&this.offcanvasInstance.hide()}updateStatusFilter(n){let t=n.target,i=parseInt(t.value,10);t.checked?this.statusFilter.push(i):this.statusFilter=this.statusFilter.filter(r=>r!==i)}offcanvasElement;closeBtn;offcanvasInstance;ngAfterViewInit(){this.offcanvasElement?.nativeElement&&(this.offcanvasInstance=new bootstrap.Offcanvas(this.offcanvasElement.nativeElement),this.offcanvasElement.nativeElement.addEventListener("hidden.bs.offcanvas",()=>{this.forceCleanup()}))}forceCleanup(){this.closeBtn?.nativeElement&&this.closeBtn.nativeElement.click()}static \u0275fac=function(t){return new(t||e)(C(Xo))};static \u0275cmp=V({type:e,selectors:[["app-filters-menu"]],viewQuery:function(t,i){if(t&1&&(fi(mk,5),fi(gk,5)),t&2){let r;mn(r=gn())&&(i.offcanvasElement=r.first),mn(r=gn())&&(i.closeBtn=r.first)}},decls:58,vars:5,consts:[["offcanvasElement",""],["closeBtn",""],["type","button","data-bs-toggle","offcanvas","data-bs-target","#filterMenu","aria-controls","filterMenu",1,"btn","btn-main"],[1,"row"],["tabindex","-1","id","filterMenu","aria-labelledby","filterMenuLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","filterMenuLabel"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body"],["id","filters","data-auto-filter","true"],[1,"mb-4"],["id","myInput","type","text","placeholder","Search..",1,"form-control",3,"ngModelChange","ngModel"],["data-filter","condition",1,"mb-4"],[1,"font-weight-bold","mb-3"],[1,"form-check","mb-2"],["type","checkbox","value","0","id","status-pending",1,"form-check-input",3,"change"],["for","status-pending",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","1","id","status-accepted",1,"form-check-input",3,"change"],["for","status-accepted",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","2","id","status-completed",1,"form-check-input",3,"change"],["for","status-completed",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","3","id","status-cancelled",1,"form-check-input",3,"change"],["for","status-cancelled",1,"form-check-label","text-uppercase","small","text-muted"],[1,"form-check","mb-1"],["type","checkbox","value","4","id","status-delivered",1,"form-check-input",3,"change"],["for","status-delivered",1,"form-check-label","text-uppercase","small","text-muted"],[1,"form-group"],["for","formGroupExampleInput"],["type","text","placeholder","Pickup Location",1,"form-control",3,"ngModelChange","ngModel"],["for","formGroupExampleInput2"],["type","text","placeholder","Dropoff Location",1,"form-control",3,"ngModelChange","ngModel"],["for","startDate"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],["data-bs-dismiss","offcanvas",1,"btn","btn-main","mt-3",3,"click"]],template:function(t,i){if(t&1){let r=ne();u(0,"button",2),f(1,` Filters
`),c(),u(2,"div",3)(3,"div",4,0)(5,"div",5)(6,"h5",6),f(7,"Filters"),c(),S(8,"button",7,1),c(),u(10,"div",8)(11,"section",9)(12,"section",10)(13,"p"),f(14,"Enter To search title:"),c(),u(15,"input",11),Ee("ngModelChange",function(s){return R(r),xe(i.titleFilter,s)||(i.titleFilter=s),N(s)}),c()(),u(16,"section",12)(17,"h6",13),f(18,"Status"),c(),u(19,"div",14)(20,"input",15),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(21,"label",16),f(22," Pending "),c()(),u(23,"div",14)(24,"input",17),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(25,"label",18),f(26," Accepted "),c()(),u(27,"div",14)(28,"input",19),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(29,"label",20),f(30," Completed "),c()(),u(31,"div",14)(32,"input",21),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(33,"label",22),f(34," Cancelled "),c()(),u(35,"div",23)(36,"input",24),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(37,"label",25),f(38," Delivered "),c()()(),u(39,"section",10)(40,"div",26)(41,"label",27),f(42,"Pick up Location"),c(),u(43,"input",28),Ee("ngModelChange",function(s){return R(r),xe(i.pickupLocation,s)||(i.pickupLocation=s),N(s)}),c()(),u(44,"div",26)(45,"label",29),f(46,"Drop Off Location"),c(),u(47,"input",30),Ee("ngModelChange",function(s){return R(r),xe(i.dropoffLocation,s)||(i.dropoffLocation=s),N(s)}),c()()(),u(48,"section",10)(49,"label",31),f(50,"Pick Up From:"),c(),u(51,"input",32),Ee("ngModelChange",function(s){return R(r),xe(i.pickupDate,s)||(i.pickupDate=s),N(s)}),c()(),u(52,"section")(53,"label",31),f(54,"Min Price:"),c(),u(55,"input",33),Ee("ngModelChange",function(s){return R(r),xe(i.minPrice,s)||(i.minPrice=s),N(s)}),c()(),u(56,"button",34),M("click",function(){return R(r),N(i.applyFilters())}),f(57,"Apply Filters"),c()()()()()}t&2&&(h(15),we("ngModel",i.titleFilter),h(28),we("ngModel",i.pickupLocation),h(4),we("ngModel",i.dropoffLocation),h(4),we("ngModel",i.pickupDate),h(4),we("ngModel",i.minPrice))},dependencies:[Qe,Oe,Dn,$e,Gt],styles:['.main-title[_ngcontent-%COMP%]:after{content:"";width:60px;height:2px;background-color:var(--yellow);position:absolute;left:50%;transform:translate(-50%)}']})};var Qi=class e{loadingSubject=new le(!1);loading$=this.loadingSubject.asObservable();show(){console.log("[SpinnerService] SHOW"),this.loadingSubject.next(!0)}hide(){console.log("[SpinnerService] HIDE"),this.loadingSubject.next(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function vk(e,n){e&1&&(u(0,"div",1),S(1,"div",2),c())}var es=class e{constructor(n){this.spinnerService=n;this.spinnerService.loading$.subscribe(t=>{console.log("Spinner loading state:",t),this.isLoading=t})}isLoading=!1;static \u0275fac=function(t){return new(t||e)(C(Qi))};static \u0275cmp=V({type:e,selectors:[["app-spinner"]],decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(t,i){t&1&&D(0,vk,2,0,"div",0),t&2&&g("ngIf",i.isLoading)},dependencies:[re],styles:[".spinner[_ngcontent-%COMP%]{border:6px solid #ccc;border-top:6px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#ffffffb3;display:flex;justify-content:center;align-items:center;z-index:9999}"]})};var yk=["loading"],bk=(e,n)=>({"col-md-6":e,"col-md-8 mx-auto":n,"col-12":!0}),Dk=()=>["/edit-profile"],Ck=e=>["/profile",e],wk=e=>["/deliveryrequests/details",e],Ek=()=>[];function Sk(e,n){if(e&1&&(u(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),f(4),c(),u(5,"h5",19),f(6),c(),u(7,"h6",20),f(8),c(),u(9,"p",20),f(10),c(),u(11,"a",21),f(12,"View Profile"),c()()()()),e&2){let t=y(2);h(4),j(" ",t.user==null||t.user.userName==null?null:t.user.userName.charAt(0).toUpperCase()," "),h(2),O(t.user==null?null:t.user.fullName),h(2),O(t.user==null?null:t.user.userName),h(2),O(t.user==null?null:t.user.email),h(),g("routerLink",Pn(5,Dk))}}function Ik(e,n){if(e&1&&(u(0,"div",22),f(1),c()),e&2){let t=y(2);h(),j(" ",t.user==null||t.user.userName==null?null:t.user.userName.charAt(0).toUpperCase()," ")}}function Mk(e,n){if(e&1&&S(0,"img",38),e&2){let t=y().$implicit;g("src","https://localhost:7176"+t.profileImageUrl,nn)}}function xk(e,n){if(e&1&&(u(0,"div",22),f(1),c()),e&2){let t=y().$implicit;h(),j(" ",t.userName.charAt(0).toUpperCase()," ")}}function Tk(e,n){if(e&1&&(u(0,"div",39),S(1,"img",40),c()),e&2){let t=y().$implicit;h(),g("src","https://localhost:7176"+t.drImageUrl,nn)}}function Rk(e,n){if(e&1){let t=ne();u(0,"div",23)(1,"div",24)(2,"div",25),D(3,Mk,1,1,"img",26)(4,xk,2,1,"div",8),u(5,"h5",27),f(6),c()(),u(7,"ul",28)(8,"li",29)(9,"span",30),f(10),c()(),u(11,"li",29)(12,"strong"),f(13,"\u{1F4E6} Package Type:"),c(),f(14),c(),u(15,"li",29)(16,"strong"),f(17,"\u{1F4E6} status:"),c(),f(18),c(),u(19,"li",29)(20,"strong"),f(21,"\u2696\uFE0F Weight:"),c(),f(22),c(),u(23,"li",29)(24,"strong"),f(25,"\u{1F4CD} From:"),c(),f(26),c(),u(27,"li",29)(28,"strong"),f(29,"\u{1F4E6} To:"),c(),f(30),c(),u(31,"li",29)(32,"strong"),f(33,"\u{1F4C5} Pickup Date:"),c(),f(34),gt(35,"date"),c()(),D(36,Tk,2,1,"div",31),S(37,"hr",32),u(38,"div",33)(39,"button",34),S(40,"i",35),f(41," View Details "),c(),u(42,"button",36),M("click",function(){let r=R(t).$implicit,o=y(2);return N(o.openPopup(r.id))}),S(43,"i",37),f(44," Add Application "),c()()()()}if(e&2){let t=n.$implicit;h(3),g("ngIf",t.profileImageUrl),h(),g("ngIf",!t.profileImageUrl),h(),g("routerLink",kt(16,Ck,t.userId)),h(),j(" ",t.userName," "),h(4),O(t.description),h(4),j(" ",t.title,""),h(4),j(" ",t.status,""),h(4),j(" ",t.totalWeight," kg"),h(4),j(" ",t.pickUpLocation,""),h(4),j(" ",t.dropOffLocation,""),h(4),j(" ",rn(35,13,t.pickUpDate,"mediumDate"),""),h(2),g("ngIf",t.drImageUrl),h(3),g("routerLink",kt(18,wk,t.id))}}function Nk(e,n){if(e&1){let t=ne();u(0,"li",43)(1,"button",46),M("click",function(){let r=R(t).index,o=y(3);return N(o.onPageChange(r+1))}),f(2),c()()}if(e&2){let t=n.index,i=y(3);mt("active",i.currentPage===t+1),h(2),O(t+1)}}function Ok(e,n){if(e&1){let t=ne();u(0,"nav",41)(1,"ul",42)(2,"li",43)(3,"button",44),M("click",function(){R(t);let r=y(2);return N(r.onPageChange(r.currentPage-1))}),f(4,"Previous"),c()(),D(5,Nk,3,3,"li",45),u(6,"li",43)(7,"button",44),M("click",function(){R(t);let r=y(2);return N(r.onPageChange(r.currentPage+1))}),f(8,"Next"),c()()()()}if(e&2){let t=y(2);h(3),mt("disabled",t.currentPage===1),h(2),g("ngForOf",Pn(5,Ek).constructor(t.totalPages)),h(2),mt("disabled",t.currentPage===t.totalPages)}}function Pk(e,n){if(e&1){let t=ne();u(0,"div",1)(1,"div",3),D(2,Sk,13,6,"div",4),u(3,"div",5)(4,"div",6)(5,"div",7),D(6,Ik,2,1,"div",8),u(7,"div",9)(8,"input",10),M("click",function(){R(t);let r=y();return N(r.navigateToCreatePost())}),c()()()(),u(9,"div",11)(10,"h3",12),f(11," Available Delivery Requests "),c(),S(12,"app-filters-menu"),c(),D(13,Rk,45,20,"div",13)(14,Ok,9,6,"nav",14),c()()()}if(e&2){let t=y();h(2),g("ngIf",t.isLoggedIn),h(),g("ngClass",Ps(5,bk,t.isLoggedIn,!t.isLoggedIn)),h(3),g("ngIf",t.isLoggedIn),h(7),g("ngForOf",t.deliveryRequests),h(),g("ngIf",t.totalItems>t.pageSize)}}function kk(e,n){if(e&1&&(u(0,"div",2),S(1,"app-spinner",5,0),c()),e&2){let t=y();h(),g("ngClass",t.dataLoaded?"d-none":"d-md-block")}}var ad=class e{constructor(n,t){this.filterService=n;this.authService=t}deliveryRequests=[];totalItems=100;currentPage=1;pageSize=5;totalPages=1;user={};deliveryRequestService=b(Wt);modalService=b(vi);router=b(oe);loadingSpinner;dataLoaded=!1;ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}}),this.loadData()}loadData(){let n={title:null,status:null,pickupLocation:null,dropoffLocation:null,pickupDate:null,minPrice:null,PageNumber:this.currentPage};this.filterService.filters$.subscribe(t=>{console.log("Received filters:",t),n=t,this.deliveryRequestService.getallDRs(n,this.currentPage).subscribe(i=>{i.isSuccess?(this.deliveryRequests=i.data.data.reverse(),this.dataLoaded=!0,this.currentPage=i.data.currentPage,this.totalItems=i.data.totalCount,this.pageSize=i.data.pageSize,this.totalPages=i.data.totalPages):console.error("Error fetching delivery requests:",i.message)})})}onPageChange(n){this.currentPage=n,this.loadData()}get isLoggedIn(){return!!(localStorage.getItem("token")||sessionStorage.getItem("token"))}openPopup(n){if(localStorage.getItem("token")||sessionStorage.getItem("token")){let i=this.modalService.open(qi,{centered:!0,size:"m"});i.componentInstance.deliveryRequestID=n}else this.router.navigate(["/login"])}navigateToCreatePost(){localStorage.getItem("token")||sessionStorage.getItem("token")?this.modalService.open(Yi,{centered:!0,size:"lg",backdrop:"static"}).closed.subscribe(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/deliveryrequests/getallDRs"])})}):this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(C(Xo),C(qe))};static \u0275cmp=V({type:e,selectors:[["app-delivery-requests-retrive"]],viewQuery:function(t,i){if(t&1&&fi(yk,5),t&2){let r;mn(r=gn())&&(i.loadingSpinner=r.first)}},decls:2,vars:1,consts:[["loading",""],[1,"container","mt-5"],[1,"container",2,"height","100vh"],[1,"row"],["class","col-md-3 d-none d-md-block",4,"ngIf"],[3,"ngClass"],[1,"card","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center","gap-3","flex-wrap"],["class","d-flex justify-content-center align-items-center rounded-circle text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"flex-grow-1"],["type","text","placeholder","Start a delivery request...","readonly","",1,"form-control","rounded-pill","bg-light","border-0","shadow-sm","ps-4",2,"height","45px",3,"click"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"mb-0",2,"color","#19283f","font-weight","bold","font-size","2rem"],["class","card post-card mb-4 shadow-sm border-1",4,"ngFor","ngForOf"],["aria-label","Page navigation","class","paginator",4,"ngIf"],[1,"col-md-3","d-none","d-md-block"],[1,"card","shadow-sm","p-3",2,"max-width","250px"],[1,"text-center","mb-3"],[1,"rounded-circle","text-white","mx-auto","fw-bold",2,"width","60px","height","60px","line-height","60px","font-size","1.5rem"],[1,"mt-2"],[1,"text-muted","mb-1"],[1,"btn","btn-sm","btn-outline-primary","w-100",3,"routerLink"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"card","post-card","mb-4","shadow-sm","border-1"],[1,"card-body"],[1,"d-flex","align-items-center","gap-2"],["alt","Profile Image","class","rounded-circle","style","width: 50px; height: 50px; object-fit: cover;",3,"src",4,"ngIf"],[1,"text-black","mb-1",2,"font-size","1.1rem","cursor","pointer",3,"routerLink"],[1,"list-unstyled","mt-1"],[1,"mb-2"],[1,"text-muted"],["class","text-center my-3",4,"ngIf"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"bi","bi-eye"],[1,"link-button",3,"click"],[1,"bi","bi-plus-circle"],["alt","Profile Image",1,"rounded-circle",2,"width","50px","height","50px","object-fit","cover",3,"src"],[1,"text-center","my-3"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"],["aria-label","Page navigation",1,"paginator"],[1,"pagination","justify-content-center","mt-4"],[1,"page-item"],[1,"page-link","card-opacity",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"page-link","card-opacity","text-black",3,"click"]],template:function(t,i){t&1&&D(0,Pk,15,8,"div",1)(1,kk,3,1,"div",2),t&2&&fe(i.dataLoaded?0:1)},dependencies:[Ie,Ct,He,re,Ut,Nr,Ye,sd,es],styles:["html[_ngcontent-%COMP%]{scroll-behavior:smooth}.scrollable-feed[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.5rem;box-shadow:0 4px 10px #0000001a}.card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.btn[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease}.btn-outline-primary[_ngcontent-%COMP%]{border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--neutral)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.btn-primary[_ngcontent-%COMP%]{background-color:var(--dark);border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--yellow)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.btn-success[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--dark)}.btn-success[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.rounded-circle[_ngcontent-%COMP%]{background-color:var(--yellow)}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}@media (max-width: 767px){.btn-row[_ngcontent-%COMP%]{flex-direction:row}.link-button[_ngcontent-%COMP%]{flex:1 1 48%}}.card-opacity[_ngcontent-%COMP%]{background-color:#0a0a0a02}.paginator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--dark)}.paginator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--yellow)}.disabled[_ngcontent-%COMP%]{background-color:#0a0a0a33}"]})};function wD(e,n){return t=>{let i=t.get(e),r=t.get(n);return i&&r&&i.value!==r.value?r.setErrors({mismatch:!0}):r?.hasError("mismatch")&&r.setErrors(null),null}}var ld=class e{constructor(n){this.http=n}apiUrl="api/user";register(n){return this.http.post(`${this.apiUrl}/Register`,n)}static \u0275fac=function(t){return new(t||e)(P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function Fk(e,n){e&1&&(u(0,"div"),f(1,"National ID is required"),c())}function Lk(e,n){e&1&&(u(0,"div"),f(1,"Please enter a valid Egyptian National ID"),c())}function Vk(e,n){if(e&1&&(u(0,"div",30),D(1,Fk,2,0,"div",31)(2,Lk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.natId==null||t.natId.errors==null?null:t.natId.errors.required),h(),g("ngIf",t.natId==null||t.natId.errors==null?null:t.natId.errors.pattern)}}function jk(e,n){e&1&&(u(0,"div"),f(1,"Full Name is required"),c())}function Bk(e,n){e&1&&(u(0,"div"),f(1," Name must be between 5 and 12 characters "),c())}function Uk(e,n){e&1&&(u(0,"div"),f(1,"Only letters and spaces are allowed"),c())}function Hk(e,n){if(e&1&&(u(0,"div",30),D(1,jk,2,0,"div",31)(2,Bk,2,0,"div",31)(3,Uk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.required),h(),g("ngIf",(t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.minlength)||(t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.maxlength)),h(),g("ngIf",t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.pattern)}}function $k(e,n){if(e&1&&(u(0,"div",30),f(1),c()),e&2){let t=y();h(),O(t.notvalidusername)}}function qk(e,n){e&1&&(u(0,"div"),f(1,"Username is required"),c())}function zk(e,n){e&1&&(u(0,"div"),f(1," Must be between 4 and 10 characters "),c())}function Gk(e,n){if(e&1&&(u(0,"div",30),D(1,qk,2,0,"div",31)(2,zk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.userName==null||t.userName.errors==null?null:t.userName.errors.required),h(),g("ngIf",(t.userName==null||t.userName.errors==null?null:t.userName.errors.minlength)||(t.userName==null||t.userName.errors==null?null:t.userName.errors.maxlength))}}function Wk(e,n){e&1&&(u(0,"div",30),f(1,"Email Already Exists"),c())}function Yk(e,n){e&1&&(u(0,"div"),f(1,"Email is required"),c())}function Qk(e,n){e&1&&(u(0,"div"),f(1,"Invalid email format"),c())}function Zk(e,n){e&1&&(u(0,"div"),f(1,"Enter a valid email"),c())}function Kk(e,n){if(e&1&&(u(0,"div",30),D(1,Yk,2,0,"div",31)(2,Qk,2,0,"div",31)(3,Zk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),h(),g("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.pattern),h(),g("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function Jk(e,n){e&1&&(u(0,"div"),f(1,"Phone is required"),c())}function Xk(e,n){e&1&&(u(0,"div"),f(1,"Invalid phone number"),c())}function eA(e,n){if(e&1&&(u(0,"div",30),D(1,Jk,2,0,"div",31)(2,Xk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.phone==null||t.phone.errors==null?null:t.phone.errors.required),h(),g("ngIf",t.phone==null||t.phone.errors==null?null:t.phone.errors.pattern)}}function tA(e,n){if(e&1&&(u(0,"option",32),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),O(t)}}function nA(e,n){e&1&&(u(0,"div"),f(1,"Password is required"),c())}function iA(e,n){e&1&&(u(0,"div"),f(1,"At least 8 characters"),c())}function rA(e,n){e&1&&(u(0,"div"),f(1," Must include uppercase, lowercase, number, and symbol "),c())}function oA(e,n){if(e&1&&(u(0,"div",30),D(1,nA,2,0,"div",31)(2,iA,2,0,"div",31)(3,rA,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),h(),g("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength),h(),g("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.pattern)}}function sA(e,n){e&1&&(u(0,"div"),f(1,"Confirmation is required"),c())}function aA(e,n){e&1&&(u(0,"div"),f(1,"Passwords do not match"),c())}function lA(e,n){if(e&1&&(u(0,"div",30),D(1,sA,2,0,"div",31)(2,aA,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.required),h(),g("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.mismatch)}}var cd=class e{constructor(n,t,i){this.fb=n;this.authService=t;this.router=i;this.registerForm=this.fb.group({natId:["",[U.required,U.pattern(/^(2|3)\d{2}(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])\d{2}\d{5}$/)]],fullName:["",[U.required,U.minLength(5),U.maxLength(12),U.pattern("^[a-zA-Z ]+$")]],userName:["",[U.required,U.minLength(4),U.maxLength(10)]],email:["",[U.required,U.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],phone:["",[U.required,U.pattern(/^01[0125][0-9]{8}$/)]],address:["",U.required],password:["",[U.required,U.minLength(6),U.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{6,}$/)]],confirmPassword:["",U.required],profileImage:[null]},{validators:wD("password","confirmPassword")})}registerForm;notvalidemail="";notvalidusername="";egyptGovernorates=Hi;selectedFile=null;ngOnInit(){this.registerForm.get("email")?.valueChanges.subscribe(()=>{this.registerForm.get("email")?.valid&&(this.notvalidemail="")}),this.registerForm.get("userName")?.valueChanges.subscribe(()=>{this.registerForm.get("userName")?.valid&&(this.notvalidusername="")})}onFileSelected(n){let t=n.target;t.files&&t.files.length>0&&(this.selectedFile=t.files[0],this.registerForm.patchValue({profileImage:this.selectedFile}))}onSubmit(){if(this.registerForm.valid){let n=new FormData,t=this.registerForm.value;for(let i in t)i==="profileImage"&&this.selectedFile?n.append("profileImage",this.selectedFile):n.append(i,t[i]);this.authService.register(n).subscribe({next:i=>{i.isSuccess&&(alert("Registration successful!"),this.router.navigate(["/login"]))},error:i=>{console.error("Registration failed",i),this.handleErrorResponse(i)}})}else console.log("Form is invalid")}handleErrorResponse(n){let t=n?.error?.message;t==="user is exist"?(this.notvalidusername=t,this.notvalidemail=""):t?.includes("Email")?(this.notvalidemail=t,this.notvalidusername=""):(this.notvalidusername="",this.notvalidemail="",console.error("Unhandled error message:",t))}get natId(){return this.registerForm.get("natId")}get fullName(){return this.registerForm.get("fullName")}get userName(){return this.registerForm.get("userName")}get email(){return this.registerForm.get("email")}get phone(){return this.registerForm.get("phone")}get address(){return this.registerForm.get("address")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}static \u0275fac=function(t){return new(t||e)(C(Ui),C(ld),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-register"]],decls:60,vars:12,consts:[[1,"auth-background","d-flex","justify-content-center","align-items-center","py-5","px-3"],[1,"registerForm","w-100","bg-white","p-4","p-md-5","shadow","rounded",2,"max-width","800px",3,"ngSubmit","formGroup"],[1,"text-center","mb-4","text-dark","fw-bold"],[1,"row","g-3"],[1,"col-md-6"],["for","natId",1,"form-label","fw-semibold"],["type","text","id","natId","formControlName","natId",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","fullName",1,"form-label","fw-semibold"],["type","text","id","fullName","formControlName","fullName",1,"form-control"],["for","userName",1,"form-label","fw-semibold"],["type","text","id","userName","formControlName","userName",1,"form-control"],["for","email",1,"form-label","fw-semibold"],["type","email","id","email","formControlName","email",1,"form-control"],["for","phone",1,"form-label","fw-semibold"],["type","text","id","phone","formControlName","phone",1,"form-control"],["for","address",1,"form-label","fw-semibold"],["id","address","formControlName","address",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","password",1,"form-label","fw-semibold"],["type","password","id","password","formControlName","password",1,"form-control"],["for","confirmPassword",1,"form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control"],["for","profileImage",1,"form-label","fw-semibold"],["type","file","id","profileImage","accept","image/*",1,"form-control",3,"change"],[1,"d-flex","flex-column","justify-content-center","gap-2","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mt-2","text-center"],["routerLink","/login",1,"fw-bold",2,"text-decoration","none","color","var(--dark)"],[1,"text-danger","small","mt-1"],[4,"ngIf"],[3,"value"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"form",1),M("ngSubmit",function(){return i.onSubmit()}),u(2,"h2",2),f(3,"Ma'ak"),c(),u(4,"div",3)(5,"div",4)(6,"label",5),f(7,"National ID"),c(),S(8,"input",6),D(9,Vk,3,2,"div",7),c(),u(10,"div",4)(11,"label",8),f(12,"Full Name"),c(),S(13,"input",9),D(14,Hk,4,3,"div",7),c(),u(15,"div",4)(16,"label",10),f(17,"Username"),c(),S(18,"input",11),D(19,$k,2,1,"div",7)(20,Gk,3,2,"div",7),c(),u(21,"div",4)(22,"label",12),f(23,"Email"),c(),S(24,"input",13),D(25,Wk,2,0,"div",7)(26,Kk,4,3,"div",7),c(),u(27,"div",4)(28,"label",14),f(29,"Phone"),c(),S(30,"input",15),D(31,eA,3,2,"div",7),c(),u(32,"div",4)(33,"label",16),f(34,"Governorate"),c(),u(35,"select",17)(36,"option",18),f(37,"Select Governorate"),c(),D(38,tA,2,2,"option",19),c()(),u(39,"div",4)(40,"label",20),f(41,"Password"),c(),S(42,"input",21),D(43,oA,4,3,"div",7),c(),u(44,"div",4)(45,"label",22),f(46,"Confirm Password"),c(),S(47,"input",23),D(48,lA,3,2,"div",7),c()(),u(49,"div",4)(50,"label",24),f(51,"Profile Image"),c(),u(52,"input",25),M("change",function(o){return i.onFileSelected(o)}),c()(),u(53,"div",26)(54,"button",27),f(55," Register "),c(),u(56,"p",28),f(57," Already have an account? "),u(58,"a",29),f(59,"Login"),c()()()()()),t&2&&(h(),g("formGroup",i.registerForm),h(8),g("ngIf",(i.natId==null?null:i.natId.invalid)&&(i.natId==null?null:i.natId.touched)),h(5),g("ngIf",(i.fullName==null?null:i.fullName.invalid)&&(i.fullName==null?null:i.fullName.touched)),h(5),g("ngIf",i.notvalidusername),h(),g("ngIf",(i.userName==null?null:i.userName.invalid)&&(i.userName==null?null:i.userName.touched)),h(5),g("ngIf",i.notvalidemail),h(),g("ngIf",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),h(5),g("ngIf",(i.phone==null?null:i.phone.invalid)&&(i.phone==null?null:i.phone.touched)),h(7),g("ngForOf",i.egyptGovernorates),h(5),g("ngIf",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),h(5),g("ngIf",(i.confirmPassword==null?null:i.confirmPassword.invalid)&&(i.confirmPassword==null?null:i.confirmPassword.touched)),h(6),g("disabled",i.registerForm.invalid))},dependencies:[qn,ln,Hn,$n,Oe,Un,$e,an,gi,_i,re,He,Ye],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;position:relative;display:flex;align-items:center;justify-content:center}.registerForm[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:70%;max-width:800px}.registerForm[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600}.registerForm[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   select.form-select[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.registerForm[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);opacity:.9;color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--dark);color:var(--dark);font-weight:600;font-size:1rem;padding:.75rem 1rem;border-radius:4px}.registerForm[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:var(--dark);color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{font-size:.875rem;color:var(--yellow)}']})};function cA(e,n){if(e&1&&(u(0,"span",18),f(1),c()),e&2){let t=y(2);h(),O(t.usernError)}}function uA(e,n){if(e&1&&(u(0,"span",18),f(1),c()),e&2){let t=y(2);h(),O(t.passwordError)}}function dA(e,n){if(e&1){let t=ne();u(0,"div",19),f(1),u(2,"a",20),M("click",function(){R(t);let r=y(2);return N(r.recoveraccount())}),f(3,"Recover Account"),c()()}if(e&2){let t=y(2);h(),j("",t.deletedAcountError," ")}}function fA(e,n){if(e&1&&(u(0,"div",19),f(1),c()),e&2){let t=y(2);h(),O(t.formError)}}function pA(e,n){if(e&1){let t=ne();u(0,"form",2),M("ngSubmit",function(){R(t);let r=y();return N(r.login())}),u(1,"h2",3),f(2,"Welcome Back"),c(),u(3,"div",4)(4,"label",5),f(5,"Email or Username"),c(),S(6,"input",6),D(7,cA,2,1,"span",7),c(),u(8,"div",4)(9,"label",8),f(10,"Password"),c(),S(11,"input",9),D(12,uA,2,1,"span",7),c(),u(13,"div",10)(14,"div",11),S(15,"input",12),u(16,"label",13),f(17,"Remember Me"),c()(),u(18,"a",14),f(19,"Forgot Password?"),c()(),u(20,"button",15),f(21,"Login"),c(),u(22,"a",16),f(23,"Create Account"),c(),D(24,dA,4,1,"div",17)(25,fA,2,1,"div",17),c()}if(e&2){let t=y();g("formGroup",t.loginForm),h(7),g("ngIf",t.usernError),h(5),g("ngIf",t.passwordError),h(12),g("ngIf",t.deletedAcountError),h(),g("ngIf",t.formError)}}var ud=class e{constructor(n,t,i){this.fb=n;this.authService=t;this.router=i;this.loginForm=this.fb.group({identifier:["",U.required],password:["",U.required],rememberMe:[!1]})}loginForm;formError=null;usernError=null;passwordError=null;deletedAcountError=null;ngOnInit(){let n=localStorage.getItem("token")||sessionStorage.getItem("token"),t=localStorage.getItem("exp")||sessionStorage.getItem("exp");if(n&&t){let i=Date.now(),r=parseInt(t);if(i<r){this.router.navigate(["/"]);return}else localStorage.removeItem("token"),localStorage.removeItem("exp"),sessionStorage.removeItem("token"),sessionStorage.removeItem("exp"),this.router.navigate(["/login"]),alert("Session expired. Please log in again.")}this.loginForm.valueChanges.subscribe(()=>{this.usernError=null,this.passwordError=null,this.deletedAcountError=null,this.formError=null})}login(){if(this.loginForm.invalid){this.formError="Please fill in all required fields.",this.usernError=this.loginForm.get("identifier")?.hasError("required")?"Username or email is required":null,this.passwordError=this.loginForm.get("password")?.hasError("required")?"Password is required":null;return}this.formError=null,this.authService.login(this.loginForm.value).subscribe({next:n=>{console.log("API response:",n),this.usernError="",this.passwordError="",n.isSuccess&&(alert(" Welcome To P2P Login successful!"),this.loginForm.value.rememberMe?(localStorage.setItem("token",n.data.token),localStorage.setItem("exp",new Date(n.data.expiration).getTime().toString())):(sessionStorage.setItem("token",n.data.token),sessionStorage.setItem("exp",new Date(n.data.expiration).getTime().toString())),this.router.navigate(["/deliveryrequests/getallDRs"]))},error:n=>{console.error("Login error:",n);let t=n?.error?.message;t==="Wrong email or user-name"?this.usernError=t:t==="Wrong password"?this.passwordError=t:t==="Account has been deleted."?this.deletedAcountError=t:alert("Login failed: "+(t||"Please try again later."))}})}recoveraccount(){let n=this.loginForm.get("identifier")?.value;if(!n){this.formError="Please enter a username or email to recover the account.";return}console.log(n),this.formError=null,this.authService.recoverAccount(n).subscribe({next:t=>{console.log("Recover account response:",t),t.isSuccess?(alert("Account recovery initiated successfully! Please check your email for further instructions."),this.deletedAcountError=null):alert("Account recovery failed: "+(t.message||"Please try again later."))},error:t=>{console.error("Recover account error:",t),alert("Account recovery failed: "+(t?.error?.message||"Please try again later."))}})}logout(){this.authService.logout(),this.router.navigate(["/login"])}getUserIdFromToken(){let n=localStorage.getItem("token")||sessionStorage.getItem("token");if(!n)return null;let t=JSON.parse(atob(n.split(".")[1]));return t?.UserId||t?.userId||null}static \u0275fac=function(t){return new(t||e)(C(Ui),C(qe),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-login"]],decls:2,vars:1,consts:[[1,"auth-background","d-flex","justify-content-center","align-items-center"],["class","login-form card p-4 shadow rounded w-100","style","max-width: 500px; margin: 2rem;",3,"formGroup","ngSubmit",4,"ngIf"],[1,"login-form","card","p-4","shadow","rounded","w-100",2,"max-width","500px","margin","2rem",3,"ngSubmit","formGroup"],[1,"text-center","mb-4",2,"font-weight","700"],[1,"mb-3"],["for","identifier",1,"form-label","fw-semibold"],["id","identifier","formControlName","identifier","placeholder","Enter email or username",1,"form-control"],["class","text-danger small",4,"ngIf"],["for","password",1,"form-label","fw-semibold"],["id","password","formControlName","password","type","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],[1,"form-check"],["id","rememberMe","type","checkbox","formControlName","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],["href","/forgot-password",1,"small","text-decoration-none",2,"color","var(--accent)","font-weight","500"],["type","submit",1,"btn","btn-primary","w-100","mb-2"],["routerLink","/Register",1,"btn","btn-secondary","w-100"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"text-danger","small"],[1,"alert","alert-danger","mt-3"],["href","javascript:void(0)",1,"small","text-decoration-none","ms-2",2,"color","black","font-weight","500",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0),D(1,pA,26,5,"form",1),c()),t&2&&(h(),g("ngIf",i.loginForm))},dependencies:[qn,ln,Oe,Nm,$e,an,gi,_i,Ie,re,Ye],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;position:relative;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:30%}.login-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark)}.login-form[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark)}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.login-form[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:var(--dark);border:1px solid var(--dark);color:var(--yellow);font-weight:600;font-size:1rem;padding:.75rem 1rem;border-radius:4px}.login-form[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{font-size:.875rem;color:var(--yellow)}']})};var hA=e=>["/profile",e],mA=(e,n,t,i)=>({"bg-warning text-dark":e,"bg-success":n,"bg-secondary":t,"bg-danger":i}),gA=e=>["/deliveryrequests/update",e];function _A(e,n){if(e&1&&S(0,"img",26),e&2){let t=y().$implicit;g("src","https://localhost:7176"+t.profileImageUrl,nn)}}function vA(e,n){if(e&1&&(u(0,"div",27),f(1),c()),e&2){let t=y().$implicit;h(),j(" ",t.userName.charAt(0).toUpperCase()," ")}}function yA(e,n){if(e&1&&(u(0,"div",28),S(1,"img",29),c()),e&2){let t=y().$implicit;h(),g("src","https://localhost:7176"+t.drImageUrl,nn)}}function bA(e,n){if(e&1&&(u(0,"div",9)(1,"div",10)(2,"div",11),D(3,_A,1,1,"img",12)(4,vA,2,1,"div",13),u(5,"h5",14),f(6),c()(),u(7,"h5",15),f(8),c(),u(9,"p",16),f(10),c(),u(11,"ul",17)(12,"li")(13,"strong"),f(14,"\u2696\uFE0F Weight:"),c(),f(15),c(),u(16,"li")(17,"strong"),f(18,"\u{1F4CD} From:"),c(),f(19),c(),u(20,"li")(21,"strong"),f(22,"\u{1F4E6} To:"),c(),f(23),c(),u(24,"li")(25,"strong"),f(26,"\u{1F4C5} Pickup Date:"),c(),f(27),gt(28,"date"),c(),u(29,"li")(30,"strong"),f(31,"\u{1F4B0} Price Range:"),c(),f(32),c()(),D(33,yA,2,1,"div",18),u(34,"span",19),f(35),c(),S(36,"hr",20),u(37,"div",21)(38,"button",22),S(39,"i",23),f(40," Update "),c(),u(41,"button",24),S(42,"i",25),f(43," Delete "),c()()()()),e&2){let t=n.$implicit;h(3),g("ngIf",t.profileImageUrl),h(),g("ngIf",!t.profileImageUrl),h(),g("routerLink",kt(19,hA,t.userId)),h(),j(" ",t.userName," "),h(2),O(t.title),h(2),O(t.description),h(5),j(" ",t.totalWeight," kg"),h(4),j(" ",t.pickUpLocation,""),h(4),j(" ",t.dropOffLocation,""),h(4),j(" ",rn(28,16,t.pickUpDate,"mediumDate"),""),h(5),Os(" ",t.minPrice," - ",t.maxPrice," EGP"),h(),g("ngIf",t.drImageUrl),h(),g("ngClass",ay(21,mA,t.status==="Pending",t.status==="Accepted"||t.status==="Delivered",t.status==="Completed",t.status==="Cancelled")),h(),j(" ",t.status," "),h(3),g("routerLink",kt(26,gA,t.id))}}var dd=class e{constructor(n,t,i,r){this.deliveryRequestService=n;this.authService=t;this.modalService=i;this.router=r}deliveryRequests=[];user={};ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>this.user=n,error:n=>{n.status===401&&this.router.navigate(["/login"])}}),this.loadDeliveryRequests()}loadDeliveryRequests(){this.deliveryRequestService.getMyDeliveryRequests().subscribe({next:n=>{n.isSuccess?(this.deliveryRequests=n.data.reverse(),console.log(this.deliveryRequests)):console.error("Error fetching delivery requests:",n.message)},error:n=>{console.error("Request failed:",n)}})}navigateToCreatePost(){localStorage.getItem("token")||sessionStorage.getItem("token")?this.modalService.open(Yi,{centered:!0,size:"lg",backdrop:"static"}).closed.subscribe(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/deliveryrequests/getMyDeliveryRequests"])})}):this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(C(Wt),C(qe),C(vi),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-delivery-requests-by-user-id"]],decls:10,vars:1,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold","text-primary-emphasis"],[1,"card","col-md-8","mx-auto","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center","gap-3","flex-wrap"],[1,"flex-grow-1"],["type","text","placeholder","Start a delivery request...","readonly","",1,"form-control","rounded-pill","bg-light","border-0","shadow-sm","ps-4",2,"height","45px",3,"click"],[1,"scrollable-feed","col-md-8","mx-auto","mb-4","bg-light","p-3","rounded","shadow-sm"],["class","card post-card mb-4 border-0 shadow-sm rounded-4 position-relative",4,"ngFor","ngForOf"],[1,"card","post-card","mb-4","border-0","shadow-sm","rounded-4","position-relative"],[1,"card-body"],[1,"d-flex","align-items-center","gap-2"],["alt","Profile Image","class","rounded-circle","style","width: 50px; height: 50px; object-fit: cover;",3,"src",4,"ngIf"],["class","d-flex justify-content-center align-items-center rounded-circle bg-warning text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"text-black","mb-1",2,"font-size","1.1rem","cursor","pointer",3,"routerLink"],[1,"fw-semibold","text-dark","mb-2"],[1,"text-muted"],[1,"list-unstyled","small","mb-3"],["class","text-center my-3",4,"ngIf"],[1,"badge","position-absolute","top-0","end-0","m-3","px-3","py-2","fs-6","rounded-pill",3,"ngClass"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"bi","bi-pencil-square","me-1"],[1,"link-button"],[1,"bi","bi-trash","me-1"],["alt","Profile Image",1,"rounded-circle",2,"width","50px","height","50px","object-fit","cover",3,"src"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","bg-warning","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"text-center","my-3"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"My Delivery Requests"),c()(),u(4,"div",3)(5,"div",4)(6,"div",5)(7,"input",6),M("click",function(){return i.navigateToCreatePost()}),c()()()(),u(8,"div",7),D(9,bA,44,28,"div",8),c()()),t&2&&(h(9),g("ngForOf",i.deliveryRequests))},dependencies:[Ie,Ct,He,re,Ut,Nr,Ye],styles:[".scrollable-feed[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}"]})};function DA(e,n){if(e&1&&(u(0,"p"),f(1),c()),e&2){let t=y();h(),O(t.message)}}function CA(e,n){if(e&1){let t=ne();u(0,"div")(1,"label",11),f(2,"New Offered Price"),c(),u(3,"input",12),Ee("ngModelChange",function(r){R(t);let o=y();return xe(o.updatedValue,r)||(o.updatedValue=r),N(r)}),c()()}if(e&2){let t=y();h(3),we("ngModel",t.updatedValue)}}var fd=class e{title="Confirm";message="";confirmText="Yes";cancelText="Cancel";showPriceInput=!1;updatedOfferedPrice=null;confirm=new me;cancel=new me;updatedValue=null;ngOnChanges(n){n.updatedOfferedPrice&&(this.updatedValue=this.updatedOfferedPrice)}onConfirm(){this.confirm.emit(this.updatedValue)}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["confirm-dialog"]],inputs:{title:"title",message:"message",confirmText:"confirmText",cancelText:"cancelText",showPriceInput:"showPriceInput",updatedOfferedPrice:"updatedOfferedPrice"},outputs:{confirm:"confirm",cancel:"cancel"},features:[Dt],decls:15,vars:5,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.5)"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["for","offeredPrice",1,"form-label"],["type","number","id","offeredPrice","min","1","required","","placeholder","Enter new price",1,"form-control",3,"ngModelChange","ngModel"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),f(5),c(),u(6,"button",5),M("click",function(){return i.onCancel()}),c()(),u(7,"div",6),D(8,DA,2,1,"p",7)(9,CA,4,1,"div",7),c(),u(10,"div",8)(11,"button",9),M("click",function(){return i.onCancel()}),f(12),c(),u(13,"button",10),M("click",function(){return i.onConfirm()}),f(14),c()()()()()),t&2&&(h(5),O(i.title),h(3),g("ngIf",i.message),h(),g("ngIf",i.showPriceInput),h(3),O(i.cancelText),h(2),O(i.confirmText))},dependencies:[Ie,re,Qe,Oe,Dn,$e,qm,$m,Gt],encapsulation:2})};var wA=(e,n,t)=>({"bg-warning text-dark":e,"bg-success":n,"bg-danger":t});function EA(e,n){if(e&1&&(u(0,"div",7)(1,"div",8)(2,"div",9)(3,"div")(4,"h5",10),f(5),c(),u(6,"small",11),S(7,"i",12),f(8),gt(9,"date"),c()(),u(10,"span",13),f(11),c()(),u(12,"p",14)(13,"strong"),f(14,"\u{1F4B0} Offered Price:"),c(),f(15),c()(),S(16,"hr",15),u(17,"div",16)(18,"button",17),S(19,"i",18),f(20," Update "),c(),u(21,"button",17),S(22,"i",19),f(23," Delete "),c()()()),e&2){let t=n.$implicit;h(5),O(t.deliveryTitle),h(3),j(" ",rn(9,5,t.date,"mediumDate")," "),h(2),g("ngClass",ks(8,wA,t.applicationStatus==="Pending",t.applicationStatus==="Accepted",t.applicationStatus==="Rejected")),h(),j(" ",t.applicationStatus," "),h(4),j(" ",t.offeredPrice," EGP ")}}function SA(e,n){if(e&1){let t=ne();u(0,"confirm-dialog",20),M("confirm",function(){R(t);let r=y();return N(r.onConfirmDelete())})("cancel",function(){R(t);let r=y();return N(r.onCancelDelete())}),c()}e&2&&g("title","Delete Application")("message","Are you sure you want to delete this application?")("confirmText","Delete")("cancelText","Cancel")}function IA(e,n){if(e&1){let t=ne();u(0,"confirm-dialog",21),M("confirm",function(r){R(t);let o=y();return N(o.onConfirmUpdate(r))})("cancel",function(){R(t);let r=y();return N(r.onCancelUpdate())}),c()}if(e&2){let t=y();g("title","Update Offered Price")("message","Please enter the new offered price.")("confirmText","Update")("cancelText","Cancel")("updatedOfferedPrice",t.updatedOfferedPrice)("showPriceInput",!0)}}var pd=class e{constructor(n,t){this.drApplicationService=n;this.authService=t}DrApplications=[];selectedIdToDelete=null;showConfirmModal=!1;showUpdateModal=!1;selectedAppToUpdate=null;updatedOfferedPrice=null;ngOnInit(){this.loadApplications()}loadApplications(){this.drApplicationService.getMyApplications().subscribe({next:n=>{n.isSuccess?this.DrApplications=n.data:console.error("Error fetching DR Applications",n.message)},error:n=>{console.error("Request Failed:",n)}})}confirmDelete(n){this.selectedIdToDelete=n,this.showConfirmModal=!0}onCancelDelete(){this.selectedIdToDelete=null,this.showConfirmModal=!1}onConfirmDelete(){this.selectedIdToDelete!==null&&this.drApplicationService.deleteApplication(this.selectedIdToDelete).subscribe({next:n=>{n.isSuccess&&this.loadApplications()},error:n=>console.error(n)}),this.onCancelDelete()}confirmUpdate(n){this.selectedAppToUpdate=I({},n),this.updatedOfferedPrice=n.offeredPrice,this.showUpdateModal=!0}onCancelUpdate(){this.selectedAppToUpdate=null,this.updatedOfferedPrice=null,this.showUpdateModal=!1}onConfirmUpdate(n){if(this.selectedAppToUpdate){let t=H(I({},this.selectedAppToUpdate),{offeredPrice:n});this.drApplicationService.updateApplication(this.selectedAppToUpdate.id,t).subscribe({next:i=>{i.isSuccess&&this.loadApplications()},error:i=>console.error("Update failed:",i)})}this.onCancelUpdate()}static \u0275fac=function(t){return new(t||e)(C($i),C(qe))};static \u0275cmp=V({type:e,selectors:[["ng-component"]],decls:8,vars:3,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold","text-primary-emphasis"],[1,"scrollable-feed","col-md-8","mx-auto","mb-4","p-3","bg-light","rounded","shadow-sm"],["class","card post-card mb-2 shadow-sm border-0",4,"ngFor","ngForOf"],[3,"title","message","confirmText","cancelText","confirm","cancel",4,"ngIf"],[3,"title","message","confirmText","cancelText","updatedOfferedPrice","showPriceInput","confirm","cancel",4,"ngIf"],[1,"card","post-card","mb-2","shadow-sm","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold","text-black","mb-1"],[1,"text-muted"],[1,"bi","bi-calendar-event"],[1,"badge","px-3","py-2",3,"ngClass"],[1,"mb-2"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button"],[1,"bi","bi-pencil-square","me-1"],[1,"bi","bi-trash","me-1"],[3,"confirm","cancel","title","message","confirmText","cancelText"],[3,"confirm","cancel","title","message","confirmText","cancelText","updatedOfferedPrice","showPriceInput"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"My Delivery Applications"),c()(),u(4,"div",3),D(5,EA,24,12,"div",4),c(),D(6,SA,1,4,"confirm-dialog",5)(7,IA,1,6,"confirm-dialog",6),c()),t&2&&(h(5),g("ngForOf",i.DrApplications),h(),g("ngIf",i.showConfirmModal),h(),g("ngIf",i.showUpdateModal))},dependencies:[Ie,Ct,He,re,Ut,Qe,fd],styles:[".scrollable-feed[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.5rem;box-shadow:0 4px 10px #0000001a}.scrollable-feed[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.scrollable-feed[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#bbb;border-radius:4px}.post-card[_ngcontent-%COMP%]{border-radius:12px;background-color:#fff;padding:1rem}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}.btn-main[_ngcontent-%COMP%]:disabled{background-color:#0ff}"]})};var MA=(e,n,t)=>({"bg-warning text-dark":e,"bg-success":n,"bg-danger":t}),xA=e=>["/DRApplications/track",e];function TA(e,n){if(e&1&&(u(0,"div",3)(1,"div",4)(2,"div",5)(3,"div")(4,"h5",6),f(5),c(),u(6,"small",7),S(7,"i",8),f(8),c()(),u(9,"span",9),f(10),c()(),u(11,"p",10)(12,"strong"),f(13,"\u{1F4B0} Offered Price:"),c(),f(14),c()(),S(15,"hr",11),u(16,"div",12)(17,"button",13),S(18,"i",14),f(19," Track "),c()()()),e&2){let t=n.$implicit;h(5),O(t.deliveryTitle),h(3),j(" ",t.date," "),h(),g("ngClass",ks(6,MA,t.applicationStatus==="Pending",t.applicationStatus==="Accepted",t.applicationStatus==="Rejected")),h(),j(" ",t.applicationStatus," "),h(4),j(" ",t.offeredPrice," EGP "),h(3),g("routerLink",kt(10,xA,t.deliveryRequestId))}}var hd=class e{constructor(n){this.drApplicationService=n}Applications=[];ngOnInit(){this.loadApplications()}loadApplications(){this.drApplicationService.getMyApplications().subscribe({next:n=>{n.isSuccess?(console.log(n),this.Applications=n.data.filter(t=>t.applicationStatus=="Accepted")):console.error("Error fetching DR Applications",n.message)},error:n=>{console.error("Request Failed:",n)}})}static \u0275fac=function(t){return new(t||e)(C($i))};static \u0275cmp=V({type:e,selectors:[["app-accepted-applications"]],decls:6,vars:0,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold",2,"color","var(--dark)"],[1,"card","post-card","mb-2","shadow-sm","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold","text-black","mb-1"],[1,"text-muted"],[1,"bi","bi-calendar-event"],[1,"badge","px-3","py-2",3,"ngClass"],[1,"mb-2"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"fa-solid","fa-list-check"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"Accepted Applications"),c()(),yr(4,TA,20,12,"div",3,Rs),c()),t&2&&(h(4),br(i.Applications))},dependencies:[Ie,Ct,Qe,Ye],styles:[".post-card[_ngcontent-%COMP%]{border-radius:12px;background-color:#fff;padding:1rem}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}"]})};var md=class e{constructor(n){this.http=n}endpoint="api/Track";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getLast(n){return this.http.get(`${this.endpoint}/${n}`)}addUpdate(n){return this.http.post(`${this.endpoint}`,n)}static \u0275fac=function(t){return new(t||e)(P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function RA(e,n){e&1&&(u(0,"h5",8),f(1,"You have accepted this offer"),c())}function NA(e,n){if(e&1){let t=ne();u(0,"button",9),M("click",function(){R(t);let r=y(2);return N(r.advanceStep())}),f(1,"Accept to Deliver"),c(),u(2,"button",10),M("click",function(){R(t);let r=y(2);return N(r.Reject())}),f(3,"Reject to Deliver"),c()}if(e&2){let t=y(2);g("disabled",t.IsAccepted),h(2),g("disabled",t.IsAccepted)}}function OA(e,n){if(e&1&&(u(0,"div"),S(1,"i",7),u(2,"h6"),f(3,"You've been matched to deliver this order."),c(),u(4,"p"),f(5,"Price offered: "),u(6,"strong"),f(7),c()(),D(8,RA,2,0,"h5",8)(9,NA,4,2),c()),e&2){let t=y();h(7),j("",t.offerPrice," EGP"),h(),fe(t.IsAccepted?8:9)}}function PA(e,n){if(e&1){let t=ne();u(0,"div"),S(1,"i",11),u(2,"h6"),f(3,"Pick up the item from the sender."),c(),u(4,"p"),f(5,"Once you have received the item from the sender's location, confirm below."),c(),u(6,"button",12),M("click",function(){R(t);let r=y();return N(r.advanceStep())}),f(7,"Confirm Item Received"),c()()}if(e&2){let t=y();h(6),g("disabled",t.actualStep>1)}}function kA(e,n){if(e&1){let t=ne();u(0,"div"),S(1,"i",11),u(2,"h6"),f(3,"Deliver the item to the recipient."),c(),u(4,"p"),f(5,"After successfully delivering the item to the recipient, confirm the delivery below."),c(),u(6,"button",12),M("click",function(){R(t);let r=y();return N(r.advanceStep())}),f(7,"Mark as Delivered"),c()()}if(e&2){let t=y();h(6),g("disabled",t.actualStep>=2)}}function AA(e,n){e&1&&(u(0,"div"),S(1,"i",13),u(2,"h6"),f(3,"Delivery Completed"),c(),u(4,"p"),f(5,"Thank you! You have successfully completed the delivery."),c()())}var gd=class e{trackingService=b(md);route=b(lt);actualStep=0;currentStep=0;offerPrice=80;IsAccepted=!1;actualTrack;deliveryRequestID;constructor(){this.deliveryRequestID=Number(this.route.snapshot.paramMap.get("id")),console.log("ID is:",this.deliveryRequestID)}ngOnInit(){this.trackingService.getLast(this.deliveryRequestID).subscribe({next:n=>{n.isSuccess?(console.log(n),this.actualTrack=n.data,n.data?(this.actualStep=n.data.status,this.currentStep=this.actualStep+1):(this.actualStep=-1,this.currentStep=this.actualStep+1),this.actualStep>0&&(this.IsAccepted=!0),console.log("Current step",this.currentStep)):console.error("An error occurred while fetching request details.")}})}advanceStep(){if(this.actualStep<3){this.actualStep++,this.currentStep=this.actualStep+1;var n={status:this.actualStep,userId:this.actualTrack?.userId,deliveryRequestId:this.deliveryRequestID};this.trackingService.addUpdate(n).subscribe({next:t=>{console.log(t),t.isSuccess?console.log(t):console.error("An error occurred while fetching request details.")}})}}Reject(){}steps=[{label:"Order Placed",description:"The delivery request has been created and is awaiting traveler acceptance."},{label:"Traveler Accepted",description:"A traveler accepted the delivery and is preparing to pick up the item."},{label:"In Transit",description:"The item is on the way to the destination."},{label:"Delivered",description:"The item has been successfully delivered to the recipient."}];selectStep(n){this.actualStep>=n&&(this.currentStep=n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["app-tracking-progress"]],decls:27,vars:10,consts:[[1,"container","pb-5"],[1,"card"],[1,"row","text-center","justify-content-between","align-items-center","top"],[1,"col","mb-5"],["id","progressbar"],[1,"btn","step-label",3,"click"],[1,"step-details","p-3","rounded","text-center","mt-5",3,"ngSwitch"],[1,"fa-regular","fa-handshake","mb-4",2,"color","var(--dark)","font-size","5rem"],[2,"color","green"],[1,"btn","btn-warning","me-3",3,"click","disabled"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"fa-solid","fa-hand-holding-hand","mb-4",2,"color","var(--dark)","font-size","5rem"],[1,"btn","btn-warning",3,"click","disabled"],[1,"fa-solid","fa-circle-check","mb-3",2,"color","var(--yellow)","font-size","5rem"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),f(5,"Delivery Progress"),c()()(),u(6,"ul",4)(7,"li")(8,"span")(9,"a",5),M("click",function(){return i.selectStep(0)}),f(10,"Step 1: Offer Accept"),c()()(),u(11,"li")(12,"span")(13,"a",5),M("click",function(){return i.selectStep(1)}),f(14,"Step 2: Item Collected"),c()()(),u(15,"li")(16,"span")(17,"a",5),M("click",function(){return i.selectStep(2)}),f(18,"Step 3: Delivered"),c()()(),u(19,"li")(20,"span",5),M("click",function(){return i.selectStep(3)}),f(21,"Completed"),c()()(),u(22,"div",6),D(23,OA,10,2,"div")(24,PA,8,1,"div")(25,kA,8,1,"div")(26,AA,6,0,"div"),c()()()),t&2&&(h(7),mt("active",i.actualStep>=0),h(4),mt("active",i.actualStep>=1),h(4),mt("active",i.actualStep>=2),h(4),mt("active",i.actualStep>=2),h(3),g("ngSwitch",i.currentStep),h(),fe(i.currentStep==0?23:i.currentStep==1?24:i.currentStep==2?25:i.currentStep>=3?26:-1))},dependencies:[kh],styles:['.card[_ngcontent-%COMP%]{background-color:transparent;border-radius:15px;padding:40px;margin-top:50px;border:0}.top[_ngcontent-%COMP%]{margin-bottom:40px}#progressbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0;list-style-type:none;position:relative}#progressbar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:22px;left:10%;width:80%;height:4px;background-color:#c5cae9;z-index:0}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:1;flex:1}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\f10c";font-family:"Font Awesome 6 Free";font-weight:900;font-size:20px;background-color:#c5cae9;color:#fff;width:40px;height:40px;line-height:40px;border-radius:50%;display:inline-block;margin-bottom:10px}#progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{content:"\\f00c";background-color:var(--dark)}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:14px;margin-top:5px}.step-label[_ngcontent-%COMP%]{font-size:13px}.btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-radius:8px;color:#1a202c}']})};var ED=[{path:"",component:xa},{path:"",component:xa},{path:"deliveryrequests/update/:id",pathMatch:"full",component:Pu,canActivate:[Yt]},{path:"user-details",component:ku,canActivate:[Yt]},{path:"deliveryrequests/details/:id",component:od,canActivate:[Yt]},{path:"deliveryrequests/Create",pathMatch:"full",component:Yi,canActivate:[Yt]},{path:"deliveryrequests/getallDRs",pathMatch:"full",component:ad},{path:"Register",component:cd,pathMatch:"full"},{path:"login",component:ud,pathMatch:"full"},{path:"edit-profile",component:Au,canActivate:[Yt],pathMatch:"full"},{path:"deliveryrequests/getMyDeliveryRequests",pathMatch:"full",component:dd,canActivate:[Yt]},{path:"DRApplications/GetMyApplications",pathMatch:"full",component:pd,canActivate:[Yt]},{path:"DRApplications/AcceptedApplications",pathMatch:"full",component:hd,canActivate:[Yt]},{path:"DRApplications/track/:id",pathMatch:"full",component:gd,canActivate:[Yt]},{path:"Application/add",pathMatch:"full",component:qi,canActivate:[Yt]}];var SD=(e,n)=>{let t=b(Qi);if(e.url.startsWith("api")){let i=Wi.apiBaseUrl,r=e.clone({url:`${i}${e.url}`});return t.show(),n(r).pipe(It(()=>{t.hide(),console.log("hidiiiiind")}))}return n(e)};var Xm={value:!1},eg=new le(null),ID=(e,n)=>{let t=b(qe),i=(s,a)=>s.clone({setHeaders:{Authorization:`Bearer ${a}`}}),r=s=>Xm.value?eg.pipe(Le(a=>a!==null),St(1),Ve(a=>n(i(s,a)))):(Xm.value=!0,eg.next(null),t.refreshToken().pipe(Ve(()=>{let a=t.getToken();return a?(eg.next(a),n(i(s,a))):(t.logout(),Pe(()=>new Error("Refresh token failed")))}),rt(a=>(t.logout(),Pe(()=>a))),It(()=>{Xm.value=!1}))),o=t.getToken();if(o&&e.url.startsWith(Wi.apiBaseUrl)){let s=i(e,o);return n(s).pipe(rt(a=>a instanceof Pi&&a.status===401?r(e):Pe(()=>a)))}return n(e).pipe(rt(s=>s instanceof Pi&&s.status===401?r(e):Pe(()=>s)))};var MD={providers:[hy({eventCoalescing:!0}),Im(ED),qc(Kh([SD,ID]))]};var FA=()=>["/edit-profile"];function LA(e,n){if(e&1&&S(0,"img",6),e&2){let t=y();g("src","https://localhost:7176"+(t.user==null?null:t.user.profileImageUrl),nn)}}function VA(e,n){if(e&1&&(u(0,"div",7),f(1),c()),e&2){let t=y();h(),j(" ",t.user.userName.charAt(0).toUpperCase(),`
`)}}function jA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=y(4);h(),O(t.errors.fullName)}}function BA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=y(4);h(),O(t.errors.email)}}function UA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=y(4);h(),O(t.notvalidemail)}}function HA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=y(4);h(),O(t.errors.phone)}}function $A(e,n){if(e&1&&(u(0,"option",28),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),O(t)}}function qA(e,n){e&1&&(u(0,"span"),f(1,"Save"),c())}function zA(e,n){e&1&&S(0,"span",29)}function GA(e,n){if(e&1){let t=ne();u(0,"div")(1,"div",14)(2,"label",15),f(3,"Username (not editable)"),c(),S(4,"input",16),c(),u(5,"div",14)(6,"label",15),f(7,"Full Name"),c(),u(8,"input",17),Ee("ngModelChange",function(r){R(t);let o=y(3);return xe(o.user.fullName,r)||(o.user.fullName=r),N(r)}),c()(),D(9,jA,2,1,"span",18),u(10,"div",14)(11,"label",15),f(12,"Email"),c(),u(13,"input",19),Ee("ngModelChange",function(r){R(t);let o=y(3);return xe(o.user.email,r)||(o.user.email=r),N(r)}),c()(),D(14,BA,2,1,"span",18)(15,UA,2,1,"span",18),u(16,"div",14)(17,"label",15),f(18,"Phone"),c(),u(19,"input",17),Ee("ngModelChange",function(r){R(t);let o=y(3);return xe(o.user.phone,r)||(o.user.phone=r),N(r)}),c()(),D(20,HA,2,1,"span",18),u(21,"div",14)(22,"label",15),f(23,"Address"),c(),u(24,"select",20),Ee("ngModelChange",function(r){R(t);let o=y(3);return xe(o.user.address,r)||(o.user.address=r),N(r)}),u(25,"option",21),f(26,"Select Governorate"),c(),D(27,$A,2,2,"option",22),c()(),u(28,"div",14)(29,"label",15),f(30,"National ID (not editable)"),c(),S(31,"input",16),c(),u(32,"div",23)(33,"button",24),M("click",function(){R(t);let r=y(3);return N(r.saveProfile())}),D(34,qA,2,0,"span",10)(35,zA,1,0,"span",25),c(),u(36,"button",26),M("click",function(){R(t);let r=y(3);return N(r.cancelEdit())}),f(37,"Close"),c()()()}if(e&2){let t=y(3);h(4),g("value",t.user.userName),h(4),we("ngModel",t.user.fullName),h(),g("ngIf",t.errors.fullName),h(4),we("ngModel",t.user.email),h(),g("ngIf",t.errors.email),h(),g("ngIf",t.notvalidemail),h(4),we("ngModel",t.user.phone),h(),g("ngIf",t.errors.phone),h(4),we("ngModel",t.user.address),h(3),g("ngForOf",t.egyptGovernorates),h(4),g("value",t.user.natId),h(2),g("disabled",t.loading),h(),g("ngIf",!t.loading),h(),g("ngIf",t.loading)}}function WA(e,n){if(e&1){let t=ne();u(0,"div")(1,"button",11),M("click",function(){R(t);let r=y(2);return N(r.togglePopup())}),f(2),c(),u(3,"button",12),M("click",function(){R(t);let r=y(2);return N(r.openDeleteModal())}),f(4,"Delete Account"),c(),u(5,"button",13),M("click",function(){R(t);let r=y(2);return N(r.logout())}),f(6,"Logout"),c(),D(7,GA,38,14,"div",10),c()}if(e&2){let t=y(2);h(),g("routerLink",Pn(3,FA)),h(),j("",t.user.userName,"'s Profile"),h(5),g("ngIf",t.editingProfile)}}function YA(e,n){if(e&1&&(u(0,"div",8)(1,"h5",9),f(2,"Profile"),c(),D(3,WA,8,4,"div",10),c()),e&2){let t=y();h(3),g("ngIf",!t.editingProfile)}}function QA(e,n){if(e&1&&(u(0,"div",39),f(1),c()),e&2){let t=y(2);h(),O(t.deleteError)}}function ZA(e,n){if(e&1){let t=ne();u(0,"div",30)(1,"div",31)(2,"h5",32),f(3,"Confirm Account Deletion"),c(),u(4,"p",33),f(5,"Please enter your password to confirm:"),c(),u(6,"input",34),Ee("ngModelChange",function(r){R(t);let o=y();return xe(o.confirmPassword,r)||(o.confirmPassword=r),N(r)}),c(),D(7,QA,2,1,"div",35),u(8,"div",36)(9,"button",37),M("click",function(){R(t);let r=y();return N(r.cancelDelete())}),f(10,"Cancel"),c(),u(11,"button",38),M("click",function(){R(t);let r=y();return N(r.confirmDelete())}),f(12,"Delete"),c()()()()}if(e&2){let t=y();h(6),we("ngModel",t.confirmPassword),h(),g("ngIf",t.deleteError)}}var _d=class e{constructor(n,t){this.router=n;this.eRef=t}authService=b(qe);user={};showPopup=!1;loading=!1;egyptGovernorates=Hi;notvalidemail=null;editingProfile=!1;errors={fullName:"",email:"",phone:""};showPasswordModal=!1;confirmPassword="";deleteError="";ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}})}loadUser(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n)}})}validate(){let n=!0;this.errors={fullName:"",email:"",phone:""},(!this.user.fullName||this.user.fullName.trim().length<3)&&(this.errors.fullName="Full name is required and must be at least 3 characters.",n=!1);let t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return(!this.user.email||!t.test(this.user.email))&&(this.errors.email="Please enter a valid email address.",n=!1),this.user.phone&&!/^(010|011|012|015)\d{8}$/.test(this.user.phone)&&(this.errors.phone="Phone must be a valid Egyptian number starting with 010, 011, 012, or 015.",n=!1),n}saveProfile(){this.validate()&&(this.loading=!0,this.authService.updateUser(this.user).subscribe({next:()=>{alert("User updated successfully!"),this.loading=!1,this.loadUser(),this.editingProfile=!1},error:n=>{console.error("Update failed:",n),n.error&&n.error.message==="Email is already taken."?this.notvalidemail="Email is already taken. Please choose another one.":this.notvalidemail="An error occurred. Please try again later.",this.loading=!1}}))}togglePopup(){this.showPopup=!this.showPopup}clickOutside(n){this.showPopup&&!this.eRef.nativeElement.contains(n.target)&&(this.showPopup=!1)}logout(){this.authService.logout(),this.togglePopup()}cancelEdit(){this.editingProfile=!1}openDeleteModal(){this.togglePopup(),this.showPasswordModal=!0,this.confirmPassword="",this.deleteError=""}cancelDelete(){this.showPasswordModal=!1,this.confirmPassword="",this.deleteError=""}confirmDelete(){this.deleteError="",this.authService.deleteUser(this.confirmPassword).subscribe({next:()=>{this.showPasswordModal=!1,this.authService.logout()},error:n=>{this.deleteError=n.error?.message||"Incorrect password or server error."}})}static \u0275fac=function(t){return new(t||e)(C(oe),C(Ge))};static \u0275cmp=V({type:e,selectors:[["app-user-profile"]],hostBindings:function(t,i){t&1&&M("click",function(o){return i.clickOutside(o)},!1,iv)},decls:6,vars:4,consts:[[1,"position-relative"],[1,"profile-icon","text-white","text-center","fw-bold",3,"click"],["alt","Profile Image","style","width: 50px; height: 50px; object-fit: cover; border-radius: 50%;",3,"src",4,"ngIf"],["class","d-flex justify-content-center align-items-center rounded-circle bg-#e99a42 text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],["class","card profile-popup registerForm shadow position-absolute end-0 mt-2 p-4","style","width: 400px; z-index: 999;",4,"ngIf"],["class","custom-modal",4,"ngIf"],["alt","Profile Image",2,"width","50px","height","50px","object-fit","cover","border-radius","50%",3,"src"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","bg-#e99a42","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"card","profile-popup","registerForm","shadow","position-absolute","end-0","mt-2","p-4",2,"width","400px","z-index","999"],[1,"card-title","text-center","mb-3",2,"font-weight","700"],[4,"ngIf"],[1,"btn","btn-outline-primary","w-100","mb-2",3,"click","routerLink"],[1,"btn","btn-outline-warning","w-100","mb-2",3,"click"],[1,"btn","btn-outline-danger","w-100","mb-2",3,"click"],[1,"mb-3","text-start"],[1,"form-label"],["type","text","disabled","",1,"form-control",3,"value"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","email",1,"form-control",3,"ngModelChange","ngModel"],["name","address",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","gap-2"],[1,"btn","btn-primary","w-100",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"error"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"custom-modal"],[1,"custom-modal-content"],[1,"text-center","mb-3"],[1,"text-center"],["type","password","placeholder","Enter password",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["class","text-danger mb-2 text-center",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"btn","btn-secondary","w-50","me-2",3,"click"],[1,"btn","btn-danger","w-50",3,"click"],[1,"text-danger","mb-2","text-center"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1),M("click",function(){return i.togglePopup()}),D(2,LA,1,1,"img",2)(3,VA,2,1,"div",3),c(),D(4,YA,4,1,"div",4)(5,ZA,13,2,"div",5),c()),t&2&&(h(2),g("ngIf",i.user==null?null:i.user.profileImageUrl),h(),g("ngIf",!(i.user!=null&&i.user.profileImageUrl)&&(i.user==null?null:i.user.userName)),h(),g("ngIf",i.showPopup),h(),g("ngIf",i.showPasswordModal))},dependencies:[Ie,He,re,Qe,Hn,$n,Oe,Un,$e,Gt,Ye],styles:[".profile-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:var(--yellow);display:flex;align-items:center;justify-content:center;cursor:pointer;font-family:Montserrat,sans-serif;box-shadow:0 2px 4px #00000026}.profile-popup[_ngcontent-%COMP%]{background-color:#f0f0f0!important;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a}.profile-popup[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--text);font-weight:600}.profile-popup[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.profile-popup[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{background-color:var(--sender);border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--neutral)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-warning[_ngcontent-%COMP%]{background-color:var(--traveler);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--yellow)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-warning[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{background-color:var(--traveler);border-color:#eb2828;font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:#eb2828}.profile-popup[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#eb2828;border-color:#eb2828;color:#fff}.error[_ngcontent-%COMP%]{color:red;font-size:.8em}.custom-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1055}.custom-modal-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;width:100%;max-width:400px;box-shadow:0 0 20px #0003}@media (max-width: 576px){.profile-popup[_ngcontent-%COMP%]{width:90vw;max-width:320px;right:auto;left:50%;transform:translate(-50%);padding:1rem}.profile-popup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.4rem .8rem}.profile-popup[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .profile-popup[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .profile-popup[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.9rem}.profile-popup[_ngcontent-%COMP%]   h5.card-title[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var Zi=class e{constructor(n,t){this.signalRService=n;this.http=t;this.signalRService.newMessage$.subscribe(i=>{this.addMessageToChat(i)})}apiUrl="api/Chat";chatsSubject=new le([]);chats$=this.chatsSubject.asObservable();activeChatSubject=new le(null);activeChat$=this.activeChatSubject.asObservable();chatsPanelVisibleSubject=new le(!1);chatsPanelVisible$=this.chatsPanelVisibleSubject.asObservable();chatWindowVisibleSubject=new le(!1);chatWindowVisible$=this.chatWindowVisibleSubject.asObservable();toggleChatsPanel(){this.chatsPanelVisibleSubject.next(!this.chatsPanelVisibleSubject.value)}openChat(n){this.activeChatSubject.next(n),this.chatWindowVisibleSubject.next(!0),this.loadChatHistory(n.id)}closeChat(){this.chatWindowVisibleSubject.next(!1)}toggleChatWindow(){this.chatWindowVisibleSubject.next(!this.chatWindowVisibleSubject.value)}loadChats(){return this.http.get(`${this.apiUrl}/user`).subscribe({next:n=>{n.isSuccess?(n.data.forEach(t=>{t.unreadMessagesCount=0,t.lastMessage=t.messages?.length>0?t.messages[t.messages.length-1]:null,t.lastMessageTime=t.lastMessage?.date??null}),this.chatsSubject.next(n.data)):console.error(`Error loading chats: ${n.message}`,n.errorCode)},error:n=>{console.error("Error loading chats:",n)}}),this.chats$}loadChatHistory(n){return this.http.get(`api/chat/${n}`)}addMessageToChat(n){let t=this.chatsSubject.value,i=t.findIndex(r=>r.id===n.chatId);if(i>-1){let r=[...t];r[i]=H(I({},r[i]),{lastMessage:n,lastMessageTime:n.date,unreadMessagesCount:this.activeChatSubject.value?.id===n.chatId?0:(r[i].unreadMessagesCount||0)+1});let o=r.splice(i,1)[0];if(r.unshift(o),this.chatsSubject.next(r),this.activeChatSubject.value?.id===n.chatId){let s=this.activeChatSubject.value;this.activeChatSubject.next(H(I({},s),{messages:[...s.messages||[],n]}))}}}static \u0275fac=function(t){return new(t||e)(P(Qn),P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function KA(e,n){if(e&1&&(u(0,"span",3),f(1),c()),e&2){let t=y();h(),O(t.totalUnreadMessages)}}var vd=class e{constructor(n){this.chatService=n;this.chatService.chats$.subscribe(t=>{this.totalUnreadMessages=t.reduce((i,r)=>i+r.unreadMessagesCount,0)})}totalUnreadMessages=0;toggleChatsPanel(){this.chatService.toggleChatsPanel()}static \u0275fac=function(t){return new(t||e)(C(Zi))};static \u0275cmp=V({type:e,selectors:[["app-chat-icon"]],decls:3,vars:1,consts:[[1,"chat-icon","d-flex","align-items-center","position-relative",3,"click"],[1,"bi","bi-chat"],["class","badge rounded-circle",4,"ngIf"],[1,"badge","rounded-circle"]],template:function(t,i){t&1&&(u(0,"div",0),M("click",function(){return i.toggleChatsPanel()}),S(1,"i",1),D(2,KA,2,1,"span",2),c()),t&2&&(h(2),g("ngIf",i.totalUnreadMessages>0))},dependencies:[re],styles:[".chat-icon[_ngcontent-%COMP%]{cursor:pointer;width:40px;height:40px;justify-content:center}.chat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--yellow);font-size:20px}.badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background-color:var(--yellow);color:var(--dark);width:18px;height:18px;font-size:12px;display:flex;align-items:center;justify-content:center}"]})};var yd=class e{hubConnection;newNotificationSubject=new ae;newNotification$=this.newNotificationSubject.asObservable();constructor(){}startConnection(){this.hubConnection=new Vr().withUrl(`${Wi.notificationHubUrl}`,{accessTokenFactory:()=>localStorage.getItem("token")||sessionStorage.getItem("token")||""}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>console.log("SignalR connection started")).catch(n=>console.log("Error while starting connection: "+n)),this.registerSignalREvents()}registerSignalREvents(){this.hubConnection?this.hubConnection.on("ReceiveNotification",n=>{this.newNotificationSubject.next(n)}):console.error("Hub connection is not established.")}stopConnection(){this.hubConnection&&this.hubConnection.stop().then(()=>console.log("SignalR connection stopped")).catch(n=>console.log("Error while stopping connection: "+n))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var ts=class e{constructor(n,t){this.http=n;this.notificationSignalrService=t;this.notificationSignalrService.newNotification$.subscribe(i=>{this.addNotification(i)})}apiUrl="api/notification";notificationsSubject=new le([]);notifications$=this.notificationsSubject.asObservable();notificationPanelVisibleSubject=new le(!1);notificationPanelVisible$=this.notificationPanelVisibleSubject.asObservable();totalUnreadNotificationsSubject=new le(0);totalUnreadNotifications$=this.totalUnreadNotificationsSubject.asObservable();toggleNotificationPanel(){this.notificationPanelVisibleSubject.next(!this.notificationPanelVisibleSubject.value)}loadNotifications(){return this.http.get(`${this.apiUrl}`).subscribe({next:n=>{n.isSuccess?n.data.forEach(t=>{this.addNotification(t)}):console.error(`Error loading notifications: ${n.message}`,n.errorCode)},error:n=>{console.error("Error loading notifications:",n)}}),this.notifications$}addNotification(n){let t=this.notificationsSubject.value,i=t.findIndex(r=>r.id===n.id);n.isRead||this.totalUnreadNotificationsSubject.next(this.totalUnreadNotificationsSubject.value+1),i===-1?(t.unshift(n),this.notificationsSubject.next(t)):(t[i]=n,this.notificationsSubject.next(t))}markAsRead(n){this.http.put(`${this.apiUrl}/mark-as-read`,n).subscribe({next:t=>{if(t.isSuccess){let i=this.notificationsSubject.value;n.forEach(r=>{let o=i.findIndex(s=>s.id===r);o!==-1&&(i[o].isRead=!0,this.totalUnreadNotificationsSubject.next(this.totalUnreadNotificationsSubject.value-1))}),this.notificationsSubject.next(i)}else console.error(`Error marking notifications as read: ${t.message}`,t.errorCode)},error:t=>{console.error("Error marking notifications as read:",t)}})}static \u0275fac=function(t){return new(t||e)(P(vt),P(yd))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function XA(e,n){if(e&1&&(u(0,"span",3),f(1),c()),e&2){let t=y();h(),O(t.totalUnreadNotifications)}}var bd=class e{constructor(n){this.notificationService=n;this.notificationService.notifications$.subscribe(t=>{this.totalUnreadNotifications=t.reduce((i,r)=>i+(r.isRead?0:1),0)})}totalUnreadNotifications=0;toggleNotificationsPanel(){this.notificationService.toggleNotificationPanel()}static \u0275fac=function(t){return new(t||e)(C(ts))};static \u0275cmp=V({type:e,selectors:[["app-notification-icon"]],decls:3,vars:1,consts:[[1,"chat-icon","d-flex","align-items-center","position-relative",3,"click"],[1,"bi","bi-bell","fs-5"],["class","badge bg-danger position-absolute top-0 start-100 translate-middle rounded-pill px-2",4,"ngIf"],[1,"badge","bg-danger","position-absolute","top-0","start-100","translate-middle","rounded-pill","px-2"]],template:function(t,i){t&1&&(u(0,"div",0),M("click",function(){return i.toggleNotificationsPanel()}),S(1,"i",1),D(2,XA,2,1,"span",2),c()),t&2&&(h(2),g("ngIf",i.totalUnreadNotifications>0))},dependencies:[re],encapsulation:2})};function e2(e,n){e&1&&(Nn(0),u(1,"li",9)(2,"a",10),f(3,"Delivery Requests"),c()(),u(4,"li",9)(5,"a",11),f(6,"My Applications"),c()(),u(7,"li",9)(8,"a",12),f(9,"Track Applications"),c()(),u(10,"li",9)(11,"a",13),f(12,"My Delivery Requests"),c()(),u(13,"li",9)(14,"a",14),S(15,"app-chat-icon"),c()(),u(16,"li",15)(17,"a",14),S(18,"app-notification-icon"),c()(),u(19,"li",16),S(20,"app-user-profile"),c(),On())}function t2(e,n){e&1&&(Nn(0),u(1,"div",17)(2,"ul",7)(3,"li",9)(4,"a",10),f(5,"Delivery Requests"),c()()(),u(6,"a",18),f(7,"Login"),c(),u(8,"a",19),f(9,"Register"),c()(),On())}var Dd=class e{constructor(n,t){this.authService=n;this.router=t;this.respond=this.authService.response}isLoggedIn=!0;searchQuery="";user=null;respond=null;ngOnInit(){this.authService.isLoggedIn$.subscribe(n=>{this.isLoggedIn=n})}logout(){this.authService.logout(),this.router.navigate(["/login"])}onSearch(n){n.preventDefault(),this.searchQuery?.trim()&&this.router.navigate(["/user-details"],{queryParams:{name:this.searchQuery.trim()}})}static \u0275fac=function(t){return new(t||e)(C(qe),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-header"]],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","sticky-top","shadow-sm"],[1,"container"],["href","#",1,"navbar-brand"],["src","logocopy.png","width","90px","alt","Logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","text-light","border-0"],[1,"fa-solid","fa-bars","fs-4"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-center","gap-2","pe-3"],[4,"ngIf"],[1,"nav-item"],["routerLink","deliveryrequests/getallDRs","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","DRApplications/GetMyApplications","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","DRApplications/AcceptedApplications","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","deliveryrequests/getMyDeliveryRequests","routerLinkActive","active",1,"nav-link","custom-link"],[1,"nav-link","custom-link","d-flex","align-items-center","gap-1"],[1,"nav-item","position-relative"],[1,"nav-item","ms-3"],[1,"d-flex","gap-2","ps-3"],["routerLink","/login","routerLinkActive","active-link",1,"btn","btn-main","rounded-pill","px-4","py-1"],["routerLink","/Register","routerLinkActive","active-link",1,"btn","btn-main","rounded-pill","px-4","py-1"]],template:function(t,i){t&1&&(u(0,"nav",0)(1,"div",1)(2,"a",2),S(3,"img",3),c(),u(4,"button",4),S(5,"i",5),c(),u(6,"div",6)(7,"ul",7),D(8,e2,21,0,"ng-container",8),c(),D(9,t2,10,0,"ng-container",8),c()()()),t&2&&(h(8),g("ngIf",i.isLoggedIn),h(),g("ngIf",!i.isLoggedIn))},dependencies:[Ye,ha,re,Qe,_d,Jh,vd,bd],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--dark);z-index:900}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:var(--yellow)}.navbar[_ngcontent-%COMP%]   .left-border[_ngcontent-%COMP%]{border-left:1px solid var(--yellow)}.navbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--yellow)}.btn-main[_ngcontent-%COMP%]{padding:5px 20px;background-color:var(--yellow);color:var(--dark)}.btn-main[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--yellow);color:var(--dark)}"]})};var Cd=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["app-footer"]],decls:47,vars:0,consts:[[1,"text-center","text-white"],[1,"container"],[1,"row","text-center","d-flex","justify-content-center","pt-5"],[1,"col-md-2"],[1,"text-uppercase","font-weight-bold"],["href","#",1,"btn","text-white"],[1,"mt-4","mb-3"],[1,"mb-5"],[1,"row","d-flex","justify-content-center"],[1,"col-lg-8"],[1,"text-center","mb-5"],["href","",1,"btn","text-white","me-4"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-google"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin"],[1,"fab","fa-github"],[1,"text-center","p-3","copyrights"],["href","https://ma3ak.me.com",1,""]],template:function(t,i){t&1&&(u(0,"footer",0)(1,"div",1)(2,"section")(3,"div",2)(4,"div",3)(5,"h1",4)(6,"a",5),f(7,"Home"),c()()(),u(8,"div",3)(9,"h1",4)(10,"a",5),f(11,"Services"),c()()(),u(12,"div",3)(13,"h1",4)(14,"a",5),f(15,"Portfolio"),c()()(),u(16,"div",3)(17,"h1",4)(18,"a",5),f(19,"contact"),c()()(),u(20,"div",3)(21,"h1",4)(22,"a",5),f(23,"About us"),c()()()()(),S(24,"hr",6),u(25,"section",7)(26,"div",8)(27,"div",9)(28,"p"),f(29," Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt distinctio earum repellat quaerat voluptatibus placeat nam, commodi optio pariatur est quia magnam eum harum corrupti dicta, aliquam sequi voluptate quas. "),c()()()(),u(30,"section",10)(31,"a",11),S(32,"i",12),c(),u(33,"a",11),S(34,"i",13),c(),u(35,"a",11),S(36,"i",14),c(),u(37,"a",11),S(38,"i",15),c(),u(39,"a",11),S(40,"i",16),c(),u(41,"a",11),S(42,"i",17),c()()(),u(43,"div",18),f(44," \xA9 2025 Copyright: "),u(45,"a",19),f(46,"MDBootstrap.com"),c()()())},styles:["footer[_ngcontent-%COMP%]{background-color:var(--dark)}.copyrights[_ngcontent-%COMP%]{background-color:#0003;color:var(--yellow)}.copyrights[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--yellow)}"]})};var jr=class extends Error{};jr.prototype.name="InvalidTokenError";function n2(e){return decodeURIComponent(atob(e).replace(/(.)/g,(n,t)=>{let i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function i2(e){let n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return n2(n)}catch{return atob(n)}}function TD(e,n){if(typeof e!="string")throw new jr("Invalid token specified: must be a string");n||(n={});let t=n.header===!0?0:1,i=e.split(".")[t];if(typeof i!="string")throw new jr(`Invalid token specified: missing part #${t+1}`);let r;try{r=i2(i)}catch(o){throw new jr(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(r)}catch(o){throw new jr(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}var r2=["messagesContainer"],o2=e=>({minimized:e}),s2=e=>({"own-message":e}),a2=(e,n)=>n.id;function l2(e,n){if(e&1&&(u(0,"div",13)(1,"div",18),f(2),c(),u(3,"div",19),f(4),gt(5,"date"),c()()),e&2){let t=n.$implicit,i=y(3);g("ngClass",kt(6,s2,t.senderId==i.currentUserId)),h(2),O(t.message),h(2),j(" ",rn(5,3,t.date,"shortTime")," ")}}function c2(e,n){if(e&1){let t=ne();u(0,"div",11)(1,"div",12,0),yr(3,l2,6,8,"div",13,a2),c(),u(5,"div",14)(6,"input",15),M("keyup.enter",function(){R(t);let r=y(2);return N(r.sendMessage())}),c(),u(7,"button",16),M("click",function(){R(t);let r=y(2);return N(r.sendMessage())}),S(8,"i",17),c()()()}if(e&2){let t=y(2);h(3),br(t.messages),h(3),g("formControl",t.messageInput)}}function u2(e,n){if(e&1){let t=ne();u(0,"div",2)(1,"div",3),M("click",function(){R(t);let r=y();return N(r.toggleMinimize())}),u(2,"div",4)(3,"div",5),f(4),c()(),u(5,"div",6)(6,"button",7),M("click",function(r){R(t);let o=y();return N(o.minimizeWindow(r))}),S(7,"i",8),c(),u(8,"button",7),M("click",function(r){R(t);let o=y();return N(o.closeWindow(r))}),S(9,"i",9),c()()(),D(10,c2,9,1,"div",10),c()}if(e&2){let t=y();g("ngClass",kt(4,o2,t.isMinimized)),h(4),O(t.activeChat.chattingWith),h(3),g("ngClass",t.isMinimized?"bi-chevron-up":"bi-dash-lg"),h(3),g("ngIf",!t.isMinimized)}}var wd=class e{constructor(n,t){this.chatService=n;this.signalRService=t}messagesContainer;userToken=localStorage.getItem("token")||sessionStorage.getItem("token");currentUserId;activeChat=null;messages=[];isWindowVisible=!1;isMinimized=!1;messageInput=new Or("",U.required);ngOnInit(){if(this.userToken){let n=TD(this.userToken);this.currentUserId=parseInt(n["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"])}this.chatService.activeChat$.subscribe(n=>{this.activeChat=n,n&&(this.messages=n.messages||[],this.scrollToBottom())}),this.chatService.chatWindowVisible$.subscribe(n=>{this.isWindowVisible=n,n&&(this.isMinimized=!1)}),this.signalRService.newMessage$.subscribe(n=>{this.activeChat&&n.chatId===this.activeChat.id&&setTimeout(()=>this.scrollToBottom(),100)})}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){try{this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch{}}sendMessage(){if(this.messageInput.invalid||!this.activeChat)return;let n=this.messageInput.value?.trim();if(!n)return;let t={chatId:this.activeChat.id,message:n,senderId:this.currentUserId,date:new Date};this.messages.push(t),this.scrollToBottom(),this.messageInput.reset(),this.signalRService.sendMessage(t,"1")}toggleMinimize(){this.isMinimized=!this.isMinimized}minimizeWindow(n){n.stopPropagation(),this.isMinimized=!0}closeWindow(n){n.stopPropagation(),this.chatService.closeChat()}static \u0275fac=function(t){return new(t||e)(C(Zi),C(Qn))};static \u0275cmp=V({type:e,selectors:[["app-chat-window"]],viewQuery:function(t,i){if(t&1&&fi(r2,5),t&2){let r;mn(r=gn())&&(i.messagesContainer=r.first)}},decls:1,vars:1,consts:[["messagesContainer",""],["class","chat-window-container shadow",3,"ngClass",4,"ngIf"],[1,"chat-window-container","shadow",3,"ngClass"],[1,"window-header","d-flex","justify-content-between","align-items-center",3,"click"],[1,"chat-details","d-flex","align-items-center"],[1,"name","text-white"],[1,"window-controls"],[1,"btn","btn-link","p-1",3,"click"],[1,"bi","text-yellow",3,"ngClass"],[1,"bi","bi-x-lg","text-yellow"],["class","messages-container bg-white",4,"ngIf"],[1,"messages-container","bg-white"],[1,"messages","px-3","py-2"],[1,"message","mb-3",3,"ngClass"],[1,"message-input","d-flex","p-2","border-top"],["type","text","placeholder","Type a message...",1,"form-control","me-2",3,"keyup.enter","formControl"],[1,"btn","btn-main",3,"click"],[1,"bi","bi-send-fill"],[1,"message-content","p-2"],[1,"message-time","small","text-muted","mt-1"]],template:function(t,i){t&1&&D(0,u2,11,6,"div",1),t&2&&g("ngIf",i.isWindowVisible&&i.activeChat)},dependencies:[Ct,Ut,qn,Oe,$e,Hm,re],styles:[".chat-window-container[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:0;width:320px;background:#fff;border-radius:8px 8px 0 0;display:flex;flex-direction:column;z-index:1000;max-height:450px;border:1px solid #ddd;border-bottom:none}.chat-window-container.minimized[_ngcontent-%COMP%]{height:auto}.window-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-radius:8px 8px 0 0;cursor:pointer}.avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;overflow:hidden;background-color:#fff;display:flex;align-items:center;justify-content:center}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--yellow)}.messages-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:350px}.messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:12px}.message[_ngcontent-%COMP%]{margin-bottom:10px;max-width:70%}.message-content[_ngcontent-%COMP%]{padding:8px 12px;border-radius:18px;background:#f1f1f1;display:inline-block;word-break:break-word}.message-time[_ngcontent-%COMP%]{color:#888;margin-top:2px}.own-message[_ngcontent-%COMP%]{margin-left:auto}.own-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--dark);color:#fff}.own-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{text-align:right}.btn-main[_ngcontent-%COMP%]{padding:5px 15px}.btn-main[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dark)}"]})};function d2(e,n){if(e&1){let t=ne();u(0,"div",7),M("click",function(){let r=R(t).$implicit,o=y(2);return N(o.openChat(r))}),u(1,"div",8)(2,"div",9),f(3),c(),u(4,"div",10),f(5),gt(6,"slice"),c()(),u(7,"div",11)(8,"div",12),f(9),gt(10,"date"),c()()()}if(e&2){let t=n.$implicit;h(3),O(t.chattingWith),h(2),O(dy(6,3,t.lastMessage==null?null:t.lastMessage.message,0,20)),h(4),O(rn(10,7,t.lastMessageTime,"shortTime"))}}function f2(e,n){if(e&1){let t=ne();u(0,"div",1)(1,"div",2)(2,"h3",3),f(3,"Chats"),c(),u(4,"button",4),M("click",function(){R(t);let r=y();return N(r.closePanel())}),f(5,"\xD7"),c()(),u(6,"div",5),D(7,d2,11,10,"div",6),c()()}if(e&2){let t=y();h(7),g("ngForOf",t.chats)}}var Ed=class e{constructor(n){this.chatService=n;this.chatService.chatsPanelVisible$.subscribe(t=>{this.isPanelOpen=t,t&&this.loadChats()})}chats;isPanelOpen=!1;ngOnInit(){this.chatService.chats$.subscribe(n=>{this.chats=n})}loadChats(){this.chatService.loadChats()}openChat(n){this.chatService.openChat(n)}closePanel(){this.chatService.toggleChatsPanel()}static \u0275fac=function(t){return new(t||e)(C(Zi))};static \u0275cmp=V({type:e,selectors:[["app-chats-panel"]],decls:1,vars:1,consts:[["class","chats-panel-container shadow",4,"ngIf"],[1,"chats-panel-container","shadow"],[1,"panel-header","d-flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"btn-close-panel",3,"click"],[1,"chats-list"],["class","chat-item d-flex align-items-center",3,"click",4,"ngFor","ngForOf"],[1,"chat-item","d-flex","align-items-center",3,"click"],[1,"chat-info","flex-grow-1"],[1,"chat-name","fw-medium"],[1,"last-message","text-truncate"],[1,"chat-meta","d-flex","flex-column","align-items-end"],[1,"time","small"]],template:function(t,i){t&1&&D(0,f2,8,1,"div",0),t&2&&g("ngIf",i.isPanelOpen)},dependencies:[Ut,He,re,Lh],styles:[".chats-panel-container[_ngcontent-%COMP%]{position:fixed;right:10%;top:70px;width:300px;height:400px;background:#fff;border-radius:8px;display:flex;flex-direction:column;z-index:1000;border:1px solid var(--yellow);overflow:hidden}@media (max-width: 400px){.chats-panel-container[_ngcontent-%COMP%]{width:80%;right:10%;top:10%;height:60%}}.panel-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-bottom:1px solid #eaeaea}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.btn-close-panel[_ngcontent-%COMP%]{background:none;border:none;color:var(--yellow);font-size:20px;cursor:pointer}.chats-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.chat-item[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f5f5f5;cursor:pointer}.chat-item[_ngcontent-%COMP%]:hover{background-color:#e99a421a}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;background-color:var(--dark);display:flex;align-items:center;justify-content:center}.chat-name[_ngcontent-%COMP%]{color:var(--dark);margin-bottom:4px}.last-message[_ngcontent-%COMP%]{font-size:12px;color:#888}.time[_ngcontent-%COMP%]{color:#888;margin-bottom:5px}.unread-badge[_ngcontent-%COMP%]{background-color:var(--yellow);color:var(--dark);border-radius:50%;min-width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:12px;padding:0 5px}"]})};var p2=e=>({unread:e});function h2(e,n){if(e&1&&(u(0,"div",9)(1,"div",10),S(2,"i",11),c(),u(3,"div",12)(4,"p",13),f(5),c(),u(6,"small",14),f(7),gt(8,"date"),c()()()),e&2){let t=n.$implicit;g("ngClass",kt(6,p2,!t.isRead)),h(5),O(t.message),h(2),j(" ",rn(8,3,t.createdAt,"short")," ")}}function m2(e,n){e&1&&(u(0,"div",15),S(1,"i",16),u(2,"p",17),f(3,"No notifications yet"),c()())}function g2(e,n){if(e&1){let t=ne();u(0,"div",1)(1,"div",2)(2,"h5",3),f(3,"Notifications"),c(),u(4,"button",4),M("click",function(){R(t);let r=y();return N(r.closePanel())}),S(5,"i",5),c()(),u(6,"div",6),D(7,h2,9,8,"div",7)(8,m2,4,0,"div",8),c()()}if(e&2){let t=y();h(7),g("ngForOf",t.notifications),h(),g("ngIf",t.notifications.length===0)}}var Sd=class e{constructor(n){this.notificationService=n;this.notificationService.notificationPanelVisible$.subscribe(t=>{this.isPanelOpen=t,t&&this.loadNotifications()})}isPanelOpen=!1;notifications=[];ngOnInit(){this.notificationService.notifications$.subscribe(n=>{this.notifications=n})}loadNotifications(){this.notificationService.loadNotifications()}closePanel(){this.notificationService.toggleNotificationPanel(),this.markAsRead()}markAsRead(){let n=[];this.notifications.forEach(t=>{t.isRead||n.push(t.id)}),n.length!==0&&this.notificationService.markAsRead(n)}static \u0275fac=function(t){return new(t||e)(C(ts))};static \u0275cmp=V({type:e,selectors:[["app-notification-panel"]],decls:1,vars:1,consts:[["class","notifications-panel-container card shadow position-fixed",4,"ngIf"],[1,"notifications-panel-container","card","shadow","position-fixed"],[1,"card-header","panel-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-white"],[1,"btn-close-panel","btn","btn-link","p-0",3,"click"],[1,"bi","bi-x-lg","text-yellow"],[1,"notifications-list","card-body","p-0","bg-white"],["class","notification-item d-flex align-items-center p-3 border-bottom",3,"ngClass",4,"ngFor","ngForOf"],["class","no-notifications text-center p-4",4,"ngIf"],[1,"notification-item","d-flex","align-items-center","p-3","border-bottom",3,"ngClass"],[1,"notification-icon","me-3"],[1,"bi","fs-5"],[1,"notification-content","flex-grow-1"],[1,"notification-text","mb-1"],[1,"notification-time","text-muted"],[1,"no-notifications","text-center","p-4"],[1,"bi","bi-bell","fs-4","mb-2","text-yellow"],[1,"mb-0","text-muted"]],template:function(t,i){t&1&&D(0,g2,9,2,"div",0),t&2&&g("ngIf",i.isPanelOpen)},dependencies:[Ie,Ct,He,re,Ut],styles:[".notifications-panel-container[_ngcontent-%COMP%]{position:fixed;right:100px;top:70px;width:350px;max-height:450px;z-index:1000;border:none;border-radius:8px;overflow:hidden}.panel-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-bottom:1px solid rgba(255,255,255,.1)}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin:0}.btn-close-panel[_ngcontent-%COMP%]{background:none;border:none;color:var(--yellow);font-size:20px;cursor:pointer}.btn-close-panel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.8}.notifications-list[_ngcontent-%COMP%]{flex:1;max-height:400px;overflow-y:auto}.notification-item[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid rgba(0,0,0,.05);cursor:pointer;transition:all .2s ease}.notification-item[_ngcontent-%COMP%]:hover{background-color:#e99a420d}.notification-item.unread[_ngcontent-%COMP%]{background-color:#e99a421a}.notification-item.unread[_ngcontent-%COMP%]   .notification-text[_ngcontent-%COMP%]{font-weight:500}.notification-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;color:var(--dark)}.notification-text[_ngcontent-%COMP%]{color:var(--dark);font-size:14px;margin-bottom:0;line-height:1.4}.notification-time[_ngcontent-%COMP%]{font-size:12px}.no-notifications[_ngcontent-%COMP%]{color:#888;font-size:14px}.no-notifications[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dark);opacity:.5}"]})};function _2(e,n){e&1&&(Nn(0),S(1,"app-header"),On())}function v2(e,n){e&1&&(Nn(0),S(1,"app-footer"),On())}var Id=class e{constructor(n,t){this.router=n;this.signalRService=t;this.router.events.subscribe(i=>{i instanceof wt&&(this.isAuthRoute=["/login","/Register"].includes(i.urlAfterRedirects))})}isAuthRoute=!1;spinnerSerivce=b(Qi);ngOnInit(){this.signalRService.startConnection()}ngOnDestroy(){this.signalRService.stopConnection()}title="P2PDeliveryClientSide";static \u0275fac=function(t){return new(t||e)(C(oe),C(Qn))};static \u0275cmp=V({type:e,selectors:[["app-root"]],decls:7,vars:2,consts:[[4,"ngIf"]],template:function(t,i){t&1&&(D(0,_2,2,0,"ng-container",0),S(1,"app-spinner")(2,"router-outlet")(3,"app-chats-panel")(4,"app-chat-window")(5,"app-notification-panel"),D(6,v2,2,0,"ng-container",0)),t&2&&(g("ngIf",!i.isAuthRoute),h(6),g("ngIf",!i.isAuthRoute))},dependencies:[ua,Dd,Cd,Ie,re,wd,Ed,es,Sd],styles:["[_ngcontent-%COMP%]:root{--background: #FEC262;--secondary: #E0F7FA;--accent: #F44336;--text: #212121;--neutral: #FFFFFF;--box: #D7CCC8;--sender: #E64A19;--traveler: #4A6366}"]})};Wh(Id,MD).catch(e=>console.error(e));
