var mC=Object.defineProperty,gC=Object.defineProperties;var _C=Object.getOwnPropertyDescriptors;var Wm=Object.getOwnPropertySymbols;var vC=Object.prototype.hasOwnProperty,yC=Object.prototype.propertyIsEnumerable;var Ym=(e,n,t)=>n in e?mC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,S=(e,n)=>{for(var t in n||={})vC.call(n,t)&&Ym(e,t,n[t]);if(Wm)for(var t of Wm(n))yC.call(n,t)&&Ym(e,t,n[t]);return e},H=(e,n)=>gC(e,_C(n));var Lr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var X=(e,n,t)=>new Promise((i,r)=>{var o=l=>{try{a(t.next(l))}catch(d){r(d)}},s=l=>{try{a(t.throw(l))}catch(d){r(d)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(e,n)).next())});function Cd(e,n){return Object.is(e,n)}var Ze=null,Da=!1,Dd=1,Zt=Symbol("SIGNAL");function ee(e){let n=Ze;return Ze=e,n}function wd(){return Ze}var ts={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ns(e){if(Da)throw new Error("");if(Ze===null)return;Ze.consumerOnSignalRead(e);let n=Ze.nextProducerIndex++;if(Ia(Ze),n<Ze.producerNode.length&&Ze.producerNode[n]!==e&&es(Ze)){let t=Ze.producerNode[n];Sa(t,Ze.producerIndexOfThis[n])}Ze.producerNode[n]!==e&&(Ze.producerNode[n]=e,Ze.producerIndexOfThis[n]=es(Ze)?Zm(e,Ze,n):0),Ze.producerLastReadVersion[n]=e.version}function Qm(){Dd++}function Ed(e){if(!(es(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Dd)){if(!e.producerMustRecompute(e)&&!xd(e)){bd(e);return}e.producerRecomputeValue(e),bd(e)}}function Sd(e){if(e.liveConsumerNode===void 0)return;let n=Da;Da=!0;try{for(let t of e.liveConsumerNode)t.dirty||bC(t)}finally{Da=n}}function Id(){return Ze?.consumerAllowSignalWrites!==!1}function bC(e){e.dirty=!0,Sd(e),e.consumerMarkedDirty?.(e)}function bd(e){e.dirty=!1,e.lastCleanEpoch=Dd}function Ea(e){return e&&(e.nextProducerIndex=0),ee(e)}function Md(e,n){if(ee(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(es(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Sa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function xd(e){Ia(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(Ed(t),i!==t.version))return!0}return!1}function Td(e){if(Ia(e),es(e))for(let n=0;n<e.producerNode.length;n++)Sa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Zm(e,n,t){if(Km(e),e.liveConsumerNode.length===0&&Jm(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=Zm(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Sa(e,n){if(Km(e),e.liveConsumerNode.length===1&&Jm(e))for(let i=0;i<e.producerNode.length;i++)Sa(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Ia(r),r.producerIndexOfThis[i]=n}}function es(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ia(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Km(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Jm(e){return e.producerNode!==void 0}function Rd(e,n){let t=Object.create(CC);t.computation=e,n!==void 0&&(t.equal=n);let i=()=>{if(Ed(t),ns(t),t.value===wa)throw t.error;return t.value};return i[Zt]=t,i}var vd=Symbol("UNSET"),yd=Symbol("COMPUTING"),wa=Symbol("ERRORED"),CC=H(S({},ts),{value:vd,dirty:!0,error:null,equal:Cd,kind:"computed",producerMustRecompute(e){return e.value===vd||e.value===yd},producerRecomputeValue(e){if(e.value===yd)throw new Error("Detected cycle in computations.");let n=e.value;e.value=yd;let t=Ea(e),i,r=!1;try{i=e.computation(),ee(null),r=n!==vd&&n!==wa&&i!==wa&&e.equal(n,i)}catch(o){i=wa,e.error=o}finally{Md(e,t)}if(r){e.value=n;return}e.value=i,e.version++}});function DC(){throw new Error}var Xm=DC;function eg(e){Xm(e)}function Nd(e){Xm=e}var wC=null;function Od(e,n){let t=Object.create(Ma);t.value=e,n!==void 0&&(t.equal=n);let i=()=>(ns(t),t.value);return i[Zt]=t,i}function is(e,n){Id()||eg(e),e.equal(e.value,n)||(e.value=n,EC(e))}function kd(e,n){Id()||eg(e),is(e,n(e.value))}var Ma=H(S({},ts),{equal:Cd,value:void 0,kind:"signal"});function EC(e){e.version++,Qm(),Sd(e),wC?.()}function Pd(e){let n=ee(null);try{return e()}finally{ee(n)}}var Ad;function rs(){return Ad}function Kn(e){let n=Ad;return Ad=e,n}var xa=Symbol("NotFound");function U(e){return typeof e=="function"}function Vr(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ta=Vr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qi(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Pe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(U(i))try{i()}catch(o){n=o instanceof Ta?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{tg(o)}catch(s){n=n??[],s instanceof Ta?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ta(n)}}add(n){var t;if(n&&n!==this)if(this.closed)tg(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Qi(t,n)}remove(n){let{_finalizers:t}=this;t&&Qi(t,n),n instanceof e&&n._removeParent(this)}};Pe.EMPTY=(()=>{let e=new Pe;return e.closed=!0,e})();var Fd=Pe.EMPTY;function Ra(e){return e instanceof Pe||e&&"closed"in e&&U(e.remove)&&U(e.add)&&U(e.unsubscribe)}function tg(e){U(e)?e():e.unsubscribe()}var dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jr={setTimeout(e,n,...t){let{delegate:i}=jr;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=jr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Na(e){jr.setTimeout(()=>{let{onUnhandledError:n}=dn;if(n)n(e);else throw e})}function Zi(){}var ng=Ld("C",void 0,void 0);function ig(e){return Ld("E",void 0,e)}function rg(e){return Ld("N",e,void 0)}function Ld(e,n,t){return{kind:e,value:n,error:t}}var Ki=null;function Br(e){if(dn.useDeprecatedSynchronousErrorHandling){let n=!Ki;if(n&&(Ki={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=Ki;if(Ki=null,t)throw i}}else e()}function og(e){dn.useDeprecatedSynchronousErrorHandling&&Ki&&(Ki.errorThrown=!0,Ki.error=e)}var Ji=class extends Pe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ra(n)&&n.add(this)):this.destination=RC}static create(n,t,i){return new Ur(n,t,i)}next(n){this.isStopped?jd(rg(n),this):this._next(n)}error(n){this.isStopped?jd(ig(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?jd(ng,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xC=Function.prototype.bind;function Vd(e,n){return xC.call(e,n)}var Bd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Oa(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Oa(i)}else Oa(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Oa(t)}}},Ur=class extends Ji{constructor(n,t,i){super();let r;if(U(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&dn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Vd(n.next,o),error:n.error&&Vd(n.error,o),complete:n.complete&&Vd(n.complete,o)}):r=n}this.destination=new Bd(r)}};function Oa(e){dn.useDeprecatedSynchronousErrorHandling?og(e):Na(e)}function TC(e){throw e}function jd(e,n){let{onStoppedNotification:t}=dn;t&&jr.setTimeout(()=>t(e,n))}var RC={closed:!0,next:Zi,error:TC,complete:Zi};var Hr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(e){return e}function Ud(...e){return Hd(e)}function Hd(e){return e.length===0?yt:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var W=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=OC(t)?t:new Ur(t,i,r);return Br(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=sg(i),new i((r,o)=>{let s=new Ur({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Hr](){return this}pipe(...t){return Hd(t)(this)}toPromise(t){return t=sg(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function sg(e){var n;return(n=e??dn.Promise)!==null&&n!==void 0?n:Promise}function NC(e){return e&&U(e.next)&&U(e.error)&&U(e.complete)}function OC(e){return e&&e instanceof Ji||NC(e)&&Ra(e)}function $d(e){return U(e?.lift)}function se(e){return n=>{if($d(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(e,n,t,i,r){return new qd(e,n,t,i,r)}var qd=class extends Ji{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function $r(){return se((e,n)=>{let t=null;e._refCount++;let i=Y(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var qr=class extends W{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$d(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Pe;let t=this.getSubject();n.add(this.source.subscribe(Y(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Pe.EMPTY)}return n}refCount(){return $r()(this)}};var ag=Vr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=(()=>{class e extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new ka(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new ag}next(t){Br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Fd:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,Qi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new W;return t.source=this,t}}return e.create=(n,t)=>new ka(n,t),e})(),ka=class extends ae{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:Fd}};var le=class extends ae{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var zd={now(){return(zd.delegate||Date).now()},delegate:void 0};var Pa=class extends Pe{constructor(n,t){super()}schedule(n,t=0){return this}};var os={setInterval(e,n,...t){let{delegate:i}=os;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=os;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var Aa=class extends Pa{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return os.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&os.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Qi(i,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var zr=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}};zr.now=zd.now;var Fa=class extends zr{constructor(n,t=zr.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}};var kC=new Fa(Aa),lg=kC;var nt=new W(e=>e.complete());function La(e){return e&&U(e.schedule)}function cg(e){return e[e.length-1]}function Ci(e){return U(cg(e))?e.pop():void 0}function Di(e){return La(cg(e))?e.pop():void 0}function dg(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{d(i.next(h))}catch(g){s(g)}}function l(h){try{d(i.throw(h))}catch(g){s(g)}}function d(h){h.done?o(h.value):r(h.value).then(a,l)}d((i=i.apply(e,n||[])).next())})}function ug(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xi(e){return this instanceof Xi?(this.v=e,this):new Xi(e)}function fg(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(I){return Promise.resolve(I).then(_,g)}}function a(_,I){i[_]&&(r[_]=function(R){return new Promise(function(V,ne){o.push([_,R,V,ne])>1||l(_,R)})},I&&(r[_]=I(r[_])))}function l(_,I){try{d(i[_](I))}catch(R){y(o[0][3],R)}}function d(_){_.value instanceof Xi?Promise.resolve(_.value.v).then(h,g):y(o[0][2],_)}function h(_){l("next",_)}function g(_){l("throw",_)}function y(_,I){_(I),o.shift(),o.length&&l(o[0][0],o[0][1])}}function pg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof ug=="function"?ug(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Gr=e=>e&&typeof e.length=="number"&&typeof e!="function";function Va(e){return U(e?.then)}function ja(e){return U(e[Hr])}function Ba(e){return Symbol.asyncIterator&&U(e?.[Symbol.asyncIterator])}function Ua(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ha=PC();function $a(e){return U(e?.[Ha])}function qa(e){return fg(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield Xi(t.read());if(r)return yield Xi(void 0);yield yield Xi(i)}}finally{t.releaseLock()}})}function za(e){return U(e?.getReader)}function he(e){if(e instanceof W)return e;if(e!=null){if(ja(e))return AC(e);if(Gr(e))return FC(e);if(Va(e))return LC(e);if(Ba(e))return hg(e);if($a(e))return VC(e);if(za(e))return jC(e)}throw Ua(e)}function AC(e){return new W(n=>{let t=e[Hr]();if(U(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FC(e){return new W(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function LC(e){return new W(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Na)})}function VC(e){return new W(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function hg(e){return new W(n=>{BC(e,n).catch(t=>n.error(t))})}function jC(e){return hg(qa(e))}function BC(e,n){var t,i,r,o;return dg(this,void 0,void 0,function*(){try{for(t=pg(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function wt(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Ga(e,n=0){return se((t,i)=>{t.subscribe(Y(i,r=>wt(i,e,()=>i.next(r),n),()=>wt(i,e,()=>i.complete(),n),r=>wt(i,e,()=>i.error(r),n)))})}function Wa(e,n=0){return se((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function mg(e,n){return he(e).pipe(Wa(n),Ga(n))}function gg(e,n){return he(e).pipe(Wa(n),Ga(n))}function _g(e,n){return new W(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function vg(e,n){return new W(t=>{let i;return wt(t,n,()=>{i=e[Ha](),wt(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>U(i?.return)&&i.return()})}function Ya(e,n){if(!e)throw new Error("Iterable cannot be null");return new W(t=>{wt(t,n,()=>{let i=e[Symbol.asyncIterator]();wt(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function yg(e,n){return Ya(qa(e),n)}function bg(e,n){if(e!=null){if(ja(e))return mg(e,n);if(Gr(e))return _g(e,n);if(Va(e))return gg(e,n);if(Ba(e))return Ya(e,n);if($a(e))return vg(e,n);if(za(e))return yg(e,n)}throw Ua(e)}function be(e,n){return n?bg(e,n):he(e)}function F(...e){let n=Di(e);return be(e,n)}function Oe(e,n){let t=U(e)?e:()=>e,i=r=>r.error(t());return new W(n?r=>n.schedule(i,0,r):i)}function Gd(e){return!!e&&(e instanceof W||U(e.lift)&&U(e.subscribe))}var Jn=Vr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Cg(e){return e instanceof Date&&!isNaN(e)}function Q(e,n){return se((t,i)=>{let r=0;t.subscribe(Y(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:UC}=Array;function HC(e,n){return UC(n)?e(...n):e(n)}function Wr(e){return Q(n=>HC(e,n))}var{isArray:$C}=Array,{getPrototypeOf:qC,prototype:zC,keys:GC}=Object;function Qa(e){if(e.length===1){let n=e[0];if($C(n))return{args:n,keys:null};if(WC(n)){let t=GC(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function WC(e){return e&&typeof e=="object"&&qC(e)===zC}function Za(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Yr(...e){let n=Di(e),t=Ci(e),{args:i,keys:r}=Qa(e);if(i.length===0)return be([],n);let o=new W(YC(i,n,r?s=>Za(r,s):yt));return t?o.pipe(Wr(t)):o}function YC(e,n,t=yt){return i=>{Dg(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)Dg(n,()=>{let d=be(e[l],n),h=!1;d.subscribe(Y(i,g=>{o[l]=g,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Dg(e,n,t){e?wt(t,e,n):n()}function wg(e,n,t,i,r,o,s,a){let l=[],d=0,h=0,g=!1,y=()=>{g&&!l.length&&!d&&n.complete()},_=R=>d<i?I(R):l.push(R),I=R=>{o&&n.next(R),d++;let V=!1;he(t(R,h++)).subscribe(Y(n,ne=>{r?.(ne),o?_(ne):n.next(ne)},()=>{V=!0},void 0,()=>{if(V)try{for(d--;l.length&&d<i;){let ne=l.shift();s?wt(n,s,()=>I(ne)):I(ne)}y()}catch(ne){n.error(ne)}}))};return e.subscribe(Y(n,_,()=>{g=!0,y()})),()=>{a?.()}}function Te(e,n,t=1/0){return U(n)?Te((i,r)=>Q((o,s)=>n(i,o,r,s))(he(e(i,r))),t):(typeof n=="number"&&(t=n),se((i,r)=>wg(i,r,e,t)))}function wi(e=1/0){return Te(yt,e)}function Eg(){return wi(1)}function Ei(...e){return Eg()(be(e,Di(e)))}function Ka(e){return new W(n=>{he(e()).subscribe(n)})}function Wd(...e){let n=Ci(e),{args:t,keys:i}=Qa(e),r=new W(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let h=0;h<s;h++){let g=!1;he(t[h]).subscribe(Y(o,y=>{g||(g=!0,d--),a[h]=y},()=>l--,void 0,()=>{(!l||!g)&&(d||o.next(i?Za(i,a):a),o.complete())}))}});return n?r.pipe(Wr(n)):r}var QC=["addListener","removeListener"],ZC=["addEventListener","removeEventListener"],KC=["on","off"];function Kt(e,n,t,i){if(U(t)&&(i=t,t=void 0),i)return Kt(e,n,t).pipe(Wr(i));let[r,o]=eD(e)?ZC.map(s=>a=>e[s](n,a,t)):JC(e)?QC.map(Sg(e,n)):XC(e)?KC.map(Sg(e,n)):[];if(!r&&Gr(e))return Te(s=>Kt(s,n,t))(he(e));if(!r)throw new TypeError("Invalid event target");return new W(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Sg(e,n){return t=>i=>e[t](n,i)}function JC(e){return U(e.addListener)&&U(e.removeListener)}function XC(e){return U(e.on)&&U(e.off)}function eD(e){return U(e.addEventListener)&&U(e.removeEventListener)}function Yd(e=0,n,t=lg){let i=-1;return n!=null&&(La(n)?t=n:i=n),new W(r=>{let o=Cg(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}var{isArray:tD}=Array;function Ja(e){return e.length===1&&tD(e[0])?e[0]:e}function Ae(e,n){return se((t,i)=>{let r=0;t.subscribe(Y(i,o=>e.call(n,o,r++)&&i.next(o)))})}function Qd(...e){return e=Ja(e),e.length===1?he(e[0]):new W(nD(e))}function nD(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(he(e[i]).subscribe(Y(n,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}n.next(r)})))}}function ss(...e){let n=Ci(e),t=Ja(e);return t.length?new W(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)he(t[s]).subscribe(Y(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(d=>d.shift());i.next(n?n(...l):l),r.some((d,h)=>!d.length&&o[h])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):nt}function it(e){return se((n,t)=>{let i=null,r=!1,o;i=n.subscribe(Y(t,void 0,void 0,s=>{o=he(e(s,it(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Ig(e,n,t,i,r){return(o,s)=>{let a=t,l=n,d=0;o.subscribe(Y(s,h=>{let g=d++;l=a?e(l,h,g):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Sn(e,n){return U(n)?Te(e,n,1):Te(e,1)}function Si(e){return se((n,t)=>{let i=!1;n.subscribe(Y(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function Et(e){return e<=0?()=>nt:se((n,t)=>{let i=0;n.subscribe(Y(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function Xa(e=iD){return se((n,t)=>{let i=!1;n.subscribe(Y(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function iD(){return new Jn}function Zd(...e){return n=>Ei(n,F(...e))}function St(e){return se((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Xn(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Ae((r,o)=>e(r,o,i)):yt,Et(1),t?Si(n):Xa(()=>new Jn))}function Qr(e){return e<=0?()=>nt:se((n,t)=>{let i=[];n.subscribe(Y(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Kd(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Ae((r,o)=>e(r,o,i)):yt,Qr(1),t?Si(n):Xa(()=>new Jn))}function Jd(e,n){return se(Ig(e,n,arguments.length>=2,!0))}function el(...e){let n=Di(e);return se((t,i)=>{(n?Ei(e,t,n):Ei(e,t)).subscribe(i)})}function Fe(e,n){return se((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Y(i,l=>{r?.unsubscribe();let d=0,h=o++;he(e(l,h)).subscribe(r=Y(i,g=>i.next(n?n(l,g,h,d++):g),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function dt(e){return se((n,t)=>{he(e).subscribe(Y(t,()=>t.complete(),Zi)),!t.closed&&n.subscribe(t)})}function Le(e,n,t){let i=U(e)||n||t?{next:e,error:n,complete:t}:e;return i?se((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Y(o,l=>{var d;(d=i.next)===null||d===void 0||d.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,l),o.error(l)},()=>{var l,d;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):yt}function tl(...e){let n=Ci(e);return se((t,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)he(e[l]).subscribe(Y(i,d=>{o[l]=d,!a&&!s[l]&&(s[l]=!0,(a=s.every(yt))&&(s=null))},Zi));t.subscribe(Y(i,l=>{if(a){let d=[l,...o];i.next(n?n(...d):d)}}))})}var v0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",A=class extends Error{code;constructor(n,t){super(y0(n,t)),this.code=n}};function rD(e){return`NG0${Math.abs(e)}`}function y0(e,n){return`${rD(e)}${n?": "+n:""}`}var b0=Symbol("InputSignalNode#UNSET"),oD=H(S({},Ma),{transformFn:void 0,applyValueToInputSignal(e,n){is(e,n)}});function C0(e,n){let t=Object.create(oD);t.value=e,t.transformFn=n?.transform;function i(){if(ns(t),t.value===b0){let r=null;throw new A(-950,r)}return t.value}return i[Zt]=t,i}function vs(e){return{toString:e}.toString()}var nl="__parameters__";function sD(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function D0(e,n,t){return vs(()=>{let i=sD(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,h){let g=l.hasOwnProperty(nl)?l[nl]:Object.defineProperty(l,nl,{value:[]})[nl];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),l}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var ei=globalThis;function Ce(e){for(let n in e)if(e[n]===Ce)return n;throw Error("Could not find renamed property on target object.")}function aD(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function xt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(xt).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function mf(e,n){return e?n?`${e} ${n}`:e:n||""}var lD=Ce({__forward_ref__:Ce});function ht(e){return e.__forward_ref__=ht,e.toString=function(){return xt(this())},e}function bt(e){return w0(e)?e():e}function w0(e){return typeof e=="function"&&e.hasOwnProperty(lD)&&e.__forward_ref__===ht}function x(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ce(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bl(e){return Mg(e,S0)||Mg(e,I0)}function E0(e){return Bl(e)!==null}function Mg(e,n){return e.hasOwnProperty(n)?e[n]:null}function cD(e){let n=e&&(e[S0]||e[I0]);return n||null}function xg(e){return e&&(e.hasOwnProperty(Tg)||e.hasOwnProperty(uD))?e[Tg]:null}var S0=Ce({\u0275prov:Ce}),Tg=Ce({\u0275inj:Ce}),I0=Ce({ngInjectableDef:Ce}),uD=Ce({ngInjectorDef:Ce}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=x({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function M0(e){return e&&!!e.\u0275providers}var dD=Ce({\u0275cmp:Ce}),fD=Ce({\u0275dir:Ce}),pD=Ce({\u0275pipe:Ce}),hD=Ce({\u0275mod:Ce}),pl=Ce({\u0275fac:Ce}),us=Ce({__NG_ELEMENT_ID__:Ce}),Rg=Ce({__NG_ENV_ID__:Ce});function ir(e){return typeof e=="string"?e:e==null?"":String(e)}function mD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ir(e)}function x0(e,n){throw new A(-200,e)}function yp(e,n){throw new A(-201,!1)}var ie=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ie||{}),gf;function T0(){return gf}function It(e){let n=gf;return gf=e,n}function R0(e,n,t){let i=Bl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&ie.Optional)return null;if(n!==void 0)return n;yp(e,"Injector")}var gD={},tr=gD,_f="__NG_DI_FLAG__",hl=class{injector;constructor(n){this.injector=n}retrieve(n,t){let i=t;return this.injector.get(n,i.optional?xa:tr,i)}},ml="ngTempTokenPath",_D="ngTokenPath",vD=/\n/gm,yD="\u0275",Ng="__source";function bD(e,n=ie.Default){if(rs()===void 0)throw new A(-203,!1);if(rs()===null)return R0(e,void 0,n);{let t=rs(),i;return t instanceof hl?i=t.injector:i=t,i.get(e,n&ie.Optional?null:void 0,n)}}function k(e,n=ie.Default){return(T0()||bD)(bt(e),n)}function b(e,n=ie.Default){return k(e,Ul(n))}function Ul(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vf(e){let n=[];for(let t=0;t<e.length;t++){let i=bt(e[t]);if(Array.isArray(i)){if(i.length===0)throw new A(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){let a=i[s],l=CD(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(k(r,o))}else n.push(k(i))}return n}function N0(e,n){return e[_f]=n,e.prototype[_f]=n,e}function CD(e){return e[_f]}function DD(e,n,t,i){let r=e[ml];throw n[Ng]&&r.unshift(n[Ng]),e.message=wD(`
`+e.message,r,t,i),e[_D]=r,e[ml]=null,e}function wD(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==yD?e.slice(2):e;let r=xt(n);if(Array.isArray(n))r=n.map(xt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(vD,`
  `)}`}var ED=N0(D0("Optional"),8);var SD=N0(D0("SkipSelf"),4);function rr(e,n){let t=e.hasOwnProperty(pl);return t?e[pl]:null}function ID(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function MD(e){return e.flat(Number.POSITIVE_INFINITY)}function bp(e,n){e.forEach(t=>Array.isArray(t)?bp(t,n):n(t))}function O0(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function gl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function xD(e,n){let t=[];for(let i=0;i<e;i++)t.push(n);return t}function TD(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function Cp(e,n,t){let i=ys(e,n);return i>=0?e[i|1]=t:(i=~i,TD(e,i,n,t)),i}function Xd(e,n){let t=ys(e,n);if(t>=0)return e[t|1]}function ys(e,n){return RD(e,n,1)}function RD(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var or={},Mt=[],ds=new P(""),k0=new P("",-1),P0=new P(""),_l=class{get(n,t=tr){if(t===tr){let i=new Error(`NullInjectorError: No provider for ${xt(n)}!`);throw i.name="NullInjectorError",i}return t}};function A0(e,n){let t=e[hD]||null;if(!t&&n===!0)throw new Error(`Type ${xt(e)} does not have '\u0275mod' property.`);return t}function xi(e){return e[dD]||null}function ND(e){return e[fD]||null}function OD(e){return e[pD]||null}function po(e){return{\u0275providers:e}}function kD(...e){return{\u0275providers:F0(!0,e),\u0275fromNgModule:!0}}function F0(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return bp(n,s=>{let a=s;yf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&L0(r,o),t}function L0(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];Dp(r,o=>{n(o,i)})}}function yf(e,n,t,i){if(e=bt(e),!e)return!1;let r=null,o=xg(e),s=!o&&xi(e);if(!o&&!s){let l=e.ngModule;if(o=xg(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)yf(d,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{bp(o.imports,h=>{yf(h,n,t,i)&&(d||=[],d.push(h))})}finally{}d!==void 0&&L0(d,n)}if(!a){let d=rr(r)||(()=>new r);n({provide:r,useFactory:d,deps:Mt},r),n({provide:P0,useValue:r,multi:!0},r),n({provide:ds,useValue:()=>k(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=e;Dp(l,h=>{n(h,d)})}}else return!1;return r!==e&&e.providers!==void 0}function Dp(e,n){for(let t of e)M0(t)&&(t=t.\u0275providers),Array.isArray(t)?Dp(t,n):n(t)}var PD=Ce({provide:String,useValue:Ce});function V0(e){return e!==null&&typeof e=="object"&&PD in e}function AD(e){return!!(e&&e.useExisting)}function FD(e){return!!(e&&e.useFactory)}function no(e){return typeof e=="function"}function LD(e){return!!e.useClass}var Hl=new P(""),al={},Og={},ef;function $l(){return ef===void 0&&(ef=new _l),ef}var Je=class{},fs=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Cf(n,s=>this.processProvider(s)),this.records.set(k0,Zr(void 0,this)),r.has("environment")&&this.records.set(Je,Zr(void 0,this));let o=this.records.get(Hl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(P0,Mt,ie.Self))}retrieve(n,t){let i=t;return this.get(n,i.optional?xa:tr,i)}destroy(){ls(this),this._destroyed=!0;let n=ee(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(n)}}onDestroy(n){return ls(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ls(this);let t=Kn(this),i=It(void 0),r;try{return n()}finally{Kn(t),It(i)}}get(n,t=tr,i=ie.Default){if(ls(this),n.hasOwnProperty(Rg))return n[Rg](this);i=Ul(i);let r,o=Kn(this),s=It(void 0);try{if(!(i&ie.SkipSelf)){let l=this.records.get(n);if(l===void 0){let d=HD(n)&&Bl(n);d&&this.injectableDefInScope(d)?l=Zr(bf(n),al):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&ie.Self?$l():this.parent;return t=i&ie.Optional&&t===tr?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ml]=a[ml]||[]).unshift(xt(n)),o)throw a;return DD(a,n,"R3InjectorError",this.source)}else throw a}finally{It(s),Kn(o)}}resolveInjectorInitializers(){let n=ee(null),t=Kn(this),i=It(void 0),r;try{let o=this.get(ds,Mt,ie.Self);for(let s of o)s()}finally{Kn(t),It(i),ee(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(xt(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=bt(n);let t=no(n)?n:bt(n&&n.provide),i=jD(n);if(!no(n)&&n.multi===!0){let r=this.records.get(t);r||(r=Zr(void 0,al,!0),r.factory=()=>vf(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=ee(null);try{return t.value===Og?x0(xt(n)):t.value===al&&(t.value=Og,t.value=t.factory()),typeof t.value=="object"&&t.value&&UD(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ee(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=bt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function bf(e){let n=Bl(e),t=n!==null?n.factory:rr(e);if(t!==null)return t;if(e instanceof P)throw new A(204,!1);if(e instanceof Function)return VD(e);throw new A(204,!1)}function VD(e){if(e.length>0)throw new A(204,!1);let t=cD(e);return t!==null?()=>t.factory(e):()=>new e}function jD(e){if(V0(e))return Zr(void 0,e.useValue);{let n=j0(e);return Zr(n,al)}}function j0(e,n,t){let i;if(no(e)){let r=bt(e);return rr(r)||bf(r)}else if(V0(e))i=()=>bt(e.useValue);else if(FD(e))i=()=>e.useFactory(...vf(e.deps||[]));else if(AD(e))i=()=>k(bt(e.useExisting));else{let r=bt(e&&(e.useClass||e.provide));if(BD(e))i=()=>new r(...vf(e.deps));else return rr(r)||bf(r)}return i}function ls(e){if(e.destroyed)throw new A(205,!1)}function Zr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function BD(e){return!!e.deps}function UD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function HD(e){return typeof e=="function"||typeof e=="object"&&e instanceof P}function Cf(e,n){for(let t of e)Array.isArray(t)?Cf(t,n):t&&M0(t)?Cf(t.\u0275providers,n):n(t)}function Tt(e,n){let t;e instanceof fs?(ls(e),t=e):t=new hl(e);let i,r=Kn(t),o=It(void 0);try{return n()}finally{Kn(r),It(o)}}function B0(){return T0()!==void 0||rs()!=null}function $D(e){if(!B0())throw new A(-203,!1)}function qD(e){return typeof e=="function"}var si=0,Z=1,G=2,pt=3,hn=4,Rt=5,io=6,vl=7,Ke=8,sr=9,ti=10,Ve=11,ps=12,kg=13,ho=14,Lt=15,ar=16,Kr=17,ni=18,ql=19,U0=20,Ii=21,tf=22,yl=23,Jt=24,eo=25,Xe=26,H0=1;var lr=7,bl=8,ro=9,ft=10;function Mi(e){return Array.isArray(e)&&typeof e[H0]=="object"}function ai(e){return Array.isArray(e)&&e[H0]===!0}function wp(e){return(e.flags&4)!==0}function mo(e){return e.componentOffset>-1}function zl(e){return(e.flags&1)===1}function Mn(e){return!!e.template}function Cl(e){return(e[G]&512)!==0}function go(e){return(e[G]&256)===256}var Df=class{previousValue;currentValue;firstChange;constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function $0(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}var Ct=(()=>{let e=()=>q0;return e.ngInherit=!0,e})();function q0(e){return e.type.prototype.ngOnChanges&&(e.setInput=GD),zD}function zD(){let e=G0(this),n=e?.current;if(n){let t=e.previous;if(t===or)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function GD(e,n,t,i,r){let o=this.declaredInputs[i],s=G0(e)||WD(e,{previous:or,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Df(d&&d.currentValue,t,l===or),$0(e,n,r,t)}var z0="__ngSimpleChanges__";function G0(e){return e[z0]||null}function WD(e,n){return e[z0]=n}var Pg=null;var ge=function(e,n=null,t){Pg?.(e,n,t)},YD="svg",QD="math";function xn(e){for(;Array.isArray(e);)e=e[si];return e}function W0(e,n){return xn(n[e])}function On(e,n){return xn(n[e.index])}function Ep(e,n){return e.data[n]}function Sp(e,n){return e[n]}function Tn(e,n){let t=n[e];return Mi(t)?t:t[si]}function ZD(e){return(e[G]&4)===4}function Ip(e){return(e[G]&128)===128}function KD(e){return ai(e[pt])}function Ti(e,n){return n==null?null:e[n]}function Y0(e){e[Kr]=0}function Q0(e){e[G]&1024||(e[G]|=1024,Ip(e)&&bs(e))}function JD(e,n){for(;e>0;)n=n[ho],e--;return n}function Gl(e){return!!(e[G]&9216||e[Jt]?.dirty)}function wf(e){e[ti].changeDetectionScheduler?.notify(8),e[G]&64&&(e[G]|=1024),Gl(e)&&bs(e)}function bs(e){e[ti].changeDetectionScheduler?.notify(0);let n=cr(e);for(;n!==null&&!(n[G]&8192||(n[G]|=8192,!Ip(n)));)n=cr(n)}function Z0(e,n){if(go(e))throw new A(911,!1);e[Ii]===null&&(e[Ii]=[]),e[Ii].push(n)}function XD(e,n){if(e[Ii]===null)return;let t=e[Ii].indexOf(n);t!==-1&&e[Ii].splice(t,1)}function cr(e){let n=e[pt];return ai(n)?n[pt]:n}function Mp(e){return e[vl]??=[]}function xp(e){return e.cleanup??=[]}function ew(e,n,t,i){let r=Mp(n);r.push(t),e.firstCreatePass&&xp(e).push(i,r.length-1)}var te={lFrame:i_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ef=!1;function tw(){return te.lFrame.elementDepthCount}function nw(){te.lFrame.elementDepthCount++}function iw(){te.lFrame.elementDepthCount--}function Tp(){return te.bindingsEnabled}function K0(){return te.skipHydrationRootTNode!==null}function rw(e){return te.skipHydrationRootTNode===e}function ow(){te.skipHydrationRootTNode=null}function q(){return te.lFrame.lView}function je(){return te.lFrame.tView}function N(e){return te.lFrame.contextLView=e,e[Ke]}function O(e){return te.lFrame.contextLView=null,e}function mt(){let e=J0();for(;e!==null&&e.type===64;)e=e.parent;return e}function J0(){return te.lFrame.currentTNode}function sw(){let e=te.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function hr(e,n){let t=te.lFrame;t.currentTNode=e,t.isParent=n}function Rp(){return te.lFrame.isParent}function Np(){te.lFrame.isParent=!1}function aw(){return te.lFrame.contextLView}function X0(){return Ef}function Ag(e){let n=Ef;return Ef=e,n}function _o(){let e=te.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function lw(){return te.lFrame.bindingIndex}function cw(e){return te.lFrame.bindingIndex=e}function vo(){return te.lFrame.bindingIndex++}function Op(e){let n=te.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function uw(){return te.lFrame.inI18n}function dw(e,n){let t=te.lFrame;t.bindingIndex=t.bindingRootIndex=e,Sf(n)}function fw(){return te.lFrame.currentDirectiveIndex}function Sf(e){te.lFrame.currentDirectiveIndex=e}function pw(e){let n=te.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function e_(){return te.lFrame.currentQueryIndex}function kp(e){te.lFrame.currentQueryIndex=e}function hw(e){let n=e[Z];return n.type===2?n.declTNode:n.type===1?e[Rt]:null}function t_(e,n,t){if(t&ie.SkipSelf){let r=n,o=e;for(;r=r.parent,r===null&&!(t&ie.Host);)if(r=hw(o),r===null||(o=o[ho],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=te.lFrame=n_();return i.currentTNode=n,i.lView=e,!0}function Pp(e){let n=n_(),t=e[Z];te.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function n_(){let e=te.lFrame,n=e===null?null:e.child;return n===null?i_(e):n}function i_(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function r_(){let e=te.lFrame;return te.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var o_=r_;function Ap(){let e=r_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function mw(e){return(te.lFrame.contextLView=JD(e,te.lFrame.contextLView))[Ke]}function li(){return te.lFrame.selectedIndex}function ur(e){te.lFrame.selectedIndex=e}function Fp(){let e=te.lFrame;return Ep(e.tView,e.selectedIndex)}function gw(){return te.lFrame.currentNamespace}var s_=!0;function Wl(){return s_}function Yl(e){s_=e}function _w(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=q0(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Lp(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),h!=null&&(e.destroyHooks??=[]).push(t,h)}}function ll(e,n,t){a_(e,n,3,t)}function cl(e,n,t,i){(e[G]&3)===t&&a_(e,n,t,i)}function nf(e,n){let t=e[G];(t&3)===n&&(t&=16383,t+=1,e[G]=t)}function a_(e,n,t,i){let r=i!==void 0?e[Kr]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(e[Kr]+=65536),(a<o||o==-1)&&(vw(e,t,n,l),e[Kr]=(e[Kr]&4294901760)+l+2),l++}function Fg(e,n){ge(4,e,n);let t=ee(null);try{n.call(e)}finally{ee(t),ge(5,e,n)}}function vw(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[G]>>14<e[Kr]>>16&&(e[G]&3)===n&&(e[G]+=16384,Fg(a,o)):Fg(a,o)}var to=-1,dr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,i){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=i}};function yw(e){return(e.flags&8)!==0}function bw(e){return(e.flags&16)!==0}function Cw(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];Dw(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function l_(e){return e===3||e===4||e===6}function Dw(e){return e.charCodeAt(0)===64}function oo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Lg(e,t,r,null,n[++i]):Lg(e,t,r,null,null))}}return e}function Lg(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r)}function c_(e){return e!==to}function Dl(e){return e&32767}function ww(e){return e>>16}function wl(e,n){let t=ww(e),i=n;for(;t>0;)i=i[ho],t--;return i}var If=!0;function El(e){let n=If;return If=e,n}var Ew=256,u_=Ew-1,d_=5,Sw=0,In={};function Iw(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(us)&&(i=t[us]),i==null&&(i=t[us]=Sw++);let r=i&u_,o=1<<r;n.data[e+(r>>d_)]|=o}function Sl(e,n){let t=f_(e,n);if(t!==-1)return t;let i=n[Z];i.firstCreatePass&&(e.injectorIndex=n.length,rf(i.data,e),rf(n,null),rf(i.blueprint,null));let r=Vp(e,n),o=e.injectorIndex;if(c_(r)){let s=Dl(r),a=wl(r,n),l=a[Z].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|l[s+d]}return n[o+8]=r,o}function rf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function f_(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Vp(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=__(r),i===null)return to;if(t++,r=r[ho],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return to}function Mf(e,n,t){Iw(e,n,t)}function Mw(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(l_(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===n)return t[r+1];r=r+2}}}return null}function p_(e,n,t){if(t&ie.Optional||e!==void 0)return e;yp(n,"NodeInjector")}function h_(e,n,t,i){if(t&ie.Optional&&i===void 0&&(i=null),(t&(ie.Self|ie.Host))===0){let r=e[sr],o=It(void 0);try{return r?r.get(n,i,t&ie.Optional):R0(n,i,t&ie.Optional)}finally{It(o)}}return p_(i,n,t)}function m_(e,n,t,i=ie.Default,r){if(e!==null){if(n[G]&2048&&!(i&ie.Self)){let s=Nw(e,n,t,i,In);if(s!==In)return s}let o=g_(e,n,t,i,In);if(o!==In)return o}return h_(n,t,i,r)}function g_(e,n,t,i,r){let o=Tw(t);if(typeof o=="function"){if(!t_(n,e,i))return i&ie.Host?p_(r,t,i):h_(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&ie.Optional))yp(t);else return s}finally{o_()}}else if(typeof o=="number"){let s=null,a=f_(e,n),l=to,d=i&ie.Host?n[Lt][Rt]:null;for((a===-1||i&ie.SkipSelf)&&(l=a===-1?Vp(e,n):n[a+8],l===to||!jg(i,!1)?a=-1:(s=n[Z],a=Dl(l),n=wl(l,n)));a!==-1;){let h=n[Z];if(Vg(o,a,h.data)){let g=xw(a,n,t,s,i,d);if(g!==In)return g}l=n[a+8],l!==to&&jg(i,n[Z].data[a+8]===d)&&Vg(o,a,n)?(s=h,a=Dl(l),n=wl(l,n)):a=-1}}return r}function xw(e,n,t,i,r,o){let s=n[Z],a=s.data[e+8],l=i==null?mo(a)&&If:i!=s&&(a.type&3)!==0,d=r&ie.Host&&o===a,h=ul(a,s,t,l,d);return h!==null?hs(n,s,h,a):In}function ul(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,d=e.directiveEnd,h=o>>20,g=i?a:a+h,y=r?a+h:d;for(let _=g;_<y;_++){let I=s[_];if(_<l&&t===I||_>=l&&I.type===t)return _}if(r){let _=s[l];if(_&&Mn(_)&&_.type===t)return l}return null}function hs(e,n,t,i){let r=e[t],o=n.data;if(r instanceof dr){let s=r;s.resolving&&x0(mD(o[t]));let a=El(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?It(s.injectImpl):null,h=t_(e,i,ie.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&_w(t,o[t],n)}finally{d!==null&&It(d),El(a),s.resolving=!1,o_()}}return r}function Tw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(us)?e[us]:void 0;return typeof n=="number"?n>=0?n&u_:Rw:n}function Vg(e,n,t){let i=1<<e;return!!(t[n+(e>>d_)]&i)}function jg(e,n){return!(e&ie.Self)&&!(e&ie.Host&&n)}var nr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return m_(this._tNode,this._lView,n,Ul(i),t)}};function Rw(){return new nr(mt(),q())}function en(e){return vs(()=>{let n=e.prototype.constructor,t=n[pl]||xf(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[pl]||xf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function xf(e){return w0(e)?()=>{let n=xf(bt(e));return n&&n()}:rr(e)}function Nw(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[G]&2048&&!Cl(s);){let a=g_(o,s,t,i|ie.Self,In);if(a!==In)return a;let l=o.parent;if(!l){let d=s[U0];if(d){let h=d.get(t,In,i);if(h!==In)return h}l=__(s),s=s[ho]}o=l}return r}function __(e){let n=e[Z],t=n.type;return t===2?n.declTNode:t===1?e[Rt]:null}function Ql(e){return Mw(mt(),e)}function Bg(e,n=null,t=null,i){let r=v_(e,n,t,i);return r.resolveInjectorInitializers(),r}function v_(e,n=null,t=null,i,r=new Set){let o=[t||Mt,kD(e)];return i=i||(typeof e=="object"?void 0:xt(e)),new fs(o,n||$l(),i||null,r)}var rt=class e{static THROW_IF_NOT_FOUND=tr;static NULL=new _l;static create(n,t){if(Array.isArray(n))return Bg({name:""},t,n,"");{let i=n.name??"";return Bg({name:i},n.parent,n.providers,i)}}static \u0275prov=x({token:e,providedIn:"any",factory:()=>k(k0)});static __NG_ELEMENT_ID__=-1};var Ow=new P("");Ow.__NG_ELEMENT_ID__=e=>{let n=mt();if(n===null)throw new A(204,!1);if(n.type&2)return n.value;if(e&ie.Optional)return null;throw new A(204,!1)};var y_=!1,yo=(()=>{class e{static __NG_ELEMENT_ID__=kw;static __NG_ENV_ID__=t=>t}return e})(),Tf=class extends yo{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return go(t)?(n(),()=>{}):(Z0(t,n),()=>XD(t,n))}};function kw(){return new Tf(q())}var so=class{},jp=new P("",{providedIn:"root",factory:()=>!1});var b_=new P(""),C_=new P(""),ci=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new le(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})();var Rf=class extends ae{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,B0()&&(this.destroyRef=b(yo,{optional:!0})??void 0,this.pendingTasks=b(ci,{optional:!0})??void 0)}emit(n){let t=ee(null);try{super.next(n)}finally{ee(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof Pe&&n.add(a),a}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},me=Rf;function Il(...e){}function D_(e){let n,t;function i(){e=Il;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Ug(e){return queueMicrotask(()=>e()),()=>{e=Il}}var Bp="isAngularZone",Ml=Bp+"_ID",Pw=0,we=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new me(!1);onMicrotaskEmpty=new me(!1);onStable=new me(!1);onError=new me(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=y_}=n;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Lw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new A(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,Aw,Il,Il);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},Aw={};function Up(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){D_(()=>{e.callbackScheduled=!1,Nf(e),e.isCheckStableRunning=!0,Up(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Nf(e)}function Lw(e){let n=()=>{Fw(e)},t=Pw++;e._inner=e._inner.fork({name:"angular",properties:{[Bp]:!0,[Ml]:t,[Ml+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(Vw(l))return i.invokeTask(o,s,a,l);try{return Hg(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),$g(e)}},onInvoke:(i,r,o,s,a,l,d)=>{try{return Hg(e),i.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!jw(l)&&n(),$g(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Nf(e),Up(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Nf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Hg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $g(e){e._nesting--,Up(e)}var Of=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new me;onMicrotaskEmpty=new me;onStable=new me;onError=new me;run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function Vw(e){return w_(e,"__ignore_ng_zone__")}function jw(e){return w_(e,"__scheduler_tick__")}function w_(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Rn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Bw=new P("",{providedIn:"root",factory:()=>{let e=b(we),n=b(Rn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function qg(e,n){return C0(e,n)}function Uw(e){return C0(b0,e)}var E_=(qg.required=Uw,qg);function Hw(){return bo(mt(),q())}function bo(e,n){return new ze(On(e,n))}var ze=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Hw}return e})();function $w(e){return e instanceof ze?e.nativeElement:e}function qw(e){return typeof e=="function"&&e[Zt]!==void 0}function Co(e,n){let t=Od(e,n?.equal),i=t[Zt];return t.set=r=>is(i,r),t.update=r=>kd(i,r),t.asReadonly=zw.bind(t),t}function zw(){let e=this[Zt];if(e.readonlyFn===void 0){let n=()=>this();n[Zt]=e,e.readonlyFn=n}return e.readonlyFn}function S_(e){return qw(e)&&typeof e.set=="function"}function Gw(){return this._results[Symbol.iterator]()}var kf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ae}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=MD(n);(this._changesDetected=!ID(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Gw};function I_(e){return(e.flags&128)===128}var M_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(M_||{}),x_=new Map,Ww=0;function Yw(){return Ww++}function Qw(e){x_.set(e[ql],e)}function Pf(e){x_.delete(e[ql])}var zg="__ngContext__";function Do(e,n){Mi(n)?(e[zg]=n[ql],Qw(n)):e[zg]=n}function T_(e){return N_(e[ps])}function R_(e){return N_(e[hn])}function N_(e){for(;e!==null&&!ai(e);)e=e[hn];return e}var Af;function O_(e){Af=e}function k_(){if(Af!==void 0)return Af;if(typeof document<"u")return document;throw new A(210,!1)}var Zl=new P("",{providedIn:"root",factory:()=>Zw}),Zw="ng",Hp=new P(""),ui=new P("",{providedIn:"platform",factory:()=>"unknown"});var $p=new P("",{providedIn:"root",factory:()=>k_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Kw="h",Jw="b";var P_=!1,Xw=new P("",{providedIn:"root",factory:()=>P_});var qp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(qp||{}),wo=new P(""),Gg=new Set;function Ri(e){Gg.has(e)||(Gg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var A_=(()=>{class e{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=eE}return e})();function eE(){return new A_(q(),mt())}var Jr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Jr||{}),F_=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),tE=[Jr.EarlyRead,Jr.Write,Jr.MixedReadWrite,Jr.Read],nE=(()=>{class e{ngZone=b(we);scheduler=b(so);errorHandler=b(Rn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(wo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ge(16),this.executing=!0;for(let i of tE)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ge(17)}register(t){let{view:i}=t;i!==void 0?((i[eo]??=[]).push(t),bs(i),i[G]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(qp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ff=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,i,r,o,s=null){this.impl=n,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[eo];n&&(this.view[eo]=n.filter(t=>t!==this))}};function Eo(e,n){!n?.injector&&$D(Eo);let t=n?.injector??b(rt);return Ri("NgAfterNextRender"),rE(e,t,n,!0)}function iE(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function rE(e,n,t,i){let r=n.get(F_);r.impl??=n.get(nE);let o=n.get(wo,null,{optional:!0}),s=t?.phase??Jr.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(yo):null,l=n.get(A_,null,{optional:!0}),d=new Ff(r.impl,iE(e,s),l?.view,i,a,o?.snapshot(null));return r.impl.register(d),d}var oE=()=>null;function L_(e,n,t=!1){return oE(e,n,t)}function V_(e,n){let t=e.contentQueries;if(t!==null){let i=ee(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];kp(o),a.contentQueries(2,n[s],s)}}}finally{ee(i)}}}function Lf(e,n,t){kp(0);let i=ee(null);try{n(e,t)}finally{ee(i)}}function zp(e,n,t){if(wp(n)){let i=ee(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ee(i)}}}var Nn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Nn||{}),il;function sE(){if(il===void 0&&(il=null,ei.trustedTypes))try{il=ei.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return il}function Kl(e){return sE()?.createHTML(e)||e}var rl;function j_(){if(rl===void 0&&(rl=null,ei.trustedTypes))try{rl=ei.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return rl}function Wg(e){return j_()?.createHTML(e)||e}function Yg(e){return j_()?.createScriptURL(e)||e}var xl=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${v0})`}};function So(e){return e instanceof xl?e.changingThisBreaksApplicationSecurity:e}function Gp(e,n){let t=aE(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${v0})`)}return t===n}function aE(e){return e instanceof xl&&e.getTypeName()||null}function lE(e){let n=new jf(e);return cE()?new Vf(n):n}var Vf=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(Kl(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},jf=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=Kl(n),t}};function cE(){try{return!!new window.DOMParser().parseFromString(Kl(""),"text/html")}catch{return!1}}var uE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function B_(e){return e=String(e),e.match(uE)?e:"unsafe:"+e}function di(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function Cs(...e){let n={};for(let t of e)for(let i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}var U_=di("area,br,col,hr,img,wbr"),H_=di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$_=di("rp,rt"),dE=Cs($_,H_),fE=Cs(H_,di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pE=Cs($_,di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qg=Cs(U_,fE,pE,dE),q_=di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hE=di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mE=di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gE=Cs(q_,hE,mE),_E=di("script,style,template"),Bf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=bE(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=yE(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(n){let t=Zg(n).toLowerCase();if(!Qg.hasOwnProperty(t))return this.sanitizedSomething=!0,!_E.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!gE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;q_[a]&&(l=B_(l)),this.buf.push(" ",s,'="',Kg(l),'"')}return this.buf.push(">"),!0}endElement(n){let t=Zg(n).toLowerCase();Qg.hasOwnProperty(t)&&!U_.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Kg(n))}};function vE(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function yE(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw z_(n);return n}function bE(e){let n=e.firstChild;if(n&&vE(e,n))throw z_(n);return n}function Zg(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function z_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var CE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DE=/([^\#-~ |!])/g;function Kg(e){return e.replace(/&/g,"&amp;").replace(CE,function(n){let t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(DE,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ol;function wE(e,n){let t=null;try{ol=ol||lE(e);let i=n?String(n):"";t=ol.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=ol.getInertBodyElement(i)}while(i!==o);let a=new Bf().sanitizeChildren(Jg(t)||t);return Kl(a)}finally{if(t){let i=Jg(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function Jg(e){return"content"in e&&EE(e)?e.content:null}function EE(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Jl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Jl||{});function G_(e){let n=Wp();return n?Wg(n.sanitize(Jl.HTML,e)||""):Gp(e,"HTML")?Wg(So(e)):wE(k_(),ir(e))}function ut(e){let n=Wp();return n?n.sanitize(Jl.URL,e)||"":Gp(e,"URL")?So(e):B_(ir(e))}function SE(e){let n=Wp();if(n)return Yg(n.sanitize(Jl.RESOURCE_URL,e)||"");if(Gp(e,"ResourceURL"))return Yg(So(e));throw new A(904,!1)}function IE(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?SE:ut}function W_(e,n,t){return IE(n,t)(e)}function Wp(){let e=q();return e&&e[ti].sanitizer}var ME=/^>|^->|<!--|-->|--!>|<!-$/g,xE=/(<|>)/g,TE="\u200B$1\u200B";function RE(e){return e.replace(ME,n=>n.replace(xE,TE))}function Y_(e){return e.ownerDocument}function Q_(e){return e instanceof Function?e():e}function NE(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}var Z_="ng-template";function OE(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&NE(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Yp(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Yp(e){return e.type===4&&e.value!==Z_}function kE(e,n,t){let i=e.type===4&&!t?Z_:e.value;return n===i}function PE(e,n,t){let i=4,r=e.attrs,o=r!==null?LE(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!fn(i)&&!fn(l))return!1;if(s&&fn(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!kE(e,l,t)||l===""&&n.length===1){if(fn(i))return!1;s=!0}}else if(i&8){if(r===null||!OE(e,r,l,t)){if(fn(i))return!1;s=!0}}else{let d=n[++a],h=AE(l,r,Yp(e),t);if(h===-1){if(fn(i))return!1;s=!0;continue}if(d!==""){let g;if(h>o?g="":g=r[h+1].toLowerCase(),i&2&&d!==g){if(fn(i))return!1;s=!0}}}}return fn(i)||s}function fn(e){return(e&1)===0}function AE(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return VE(n,e)}function K_(e,n,t=!1){for(let i=0;i<n.length;i++)if(PE(e,n[i],t))return!0;return!1}function FE(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function LE(e){for(let n=0;n<e.length;n++){let t=e[n];if(l_(t))return n}return e.length}function VE(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function jE(e,n){e:for(let t=0;t<n.length;t++){let i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Xg(e,n){return e?":not("+n.trim()+")":n}function BE(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!fn(s)&&(n+=Xg(o,r),r=""),i=s,o=o||!fn(i);t++}return r!==""&&(n+=Xg(o,r)),n}function UE(e){return e.map(BE).join(",")}function HE(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!fn(r))break;r=o}i++}return t.length&&n.push(1,...t),n}var Vt={};function $E(e,n){return e.createText(n)}function qE(e,n,t){e.setValue(n,t)}function zE(e,n){return e.createComment(RE(n))}function J_(e,n,t){return e.createElement(n,t)}function Tl(e,n,t,i,r){e.insertBefore(n,t,i,r)}function X_(e,n,t){e.appendChild(n,t)}function e0(e,n,t,i,r){i!==null?Tl(e,n,t,i,r):X_(e,n,t)}function GE(e,n,t){e.removeChild(null,n,t)}function WE(e,n,t){e.setAttribute(n,"style",t)}function YE(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function ev(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Cw(e,n,i),r!==null&&YE(e,n,r),o!==null&&WE(e,n,o)}function Qp(e,n,t,i,r,o,s,a,l,d,h){let g=Xe+i,y=g+r,_=QE(g,y),I=typeof d=="function"?d():d;return _[Z]={type:e,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:n,data:_.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:I,incompleteFirstPass:!1,ssrId:h}}function QE(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:Vt);return t}function ZE(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Qp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Zp(e,n,t,i,r,o,s,a,l,d,h){let g=n.blueprint.slice();return g[si]=r,g[G]=i|4|128|8|64|1024,(d!==null||e&&e[G]&2048)&&(g[G]|=2048),Y0(g),g[pt]=g[ho]=e,g[Ke]=t,g[ti]=s||e&&e[ti],g[Ve]=a||e&&e[Ve],g[sr]=l||e&&e[sr]||null,g[Rt]=o,g[ql]=Yw(),g[io]=h,g[U0]=d,g[Lt]=n.type==2?e[Lt]:g,g}function KE(e,n,t){let i=On(n,e),r=ZE(t),o=e[ti].rendererFactory,s=Kp(e,Zp(e,r,null,tv(t),i,n,null,o.createRenderer(i,t),null,null,null));return e[n.index]=s}function tv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function nv(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function Kp(e,n){return e[ps]?e[kg][hn]=n:e[ps]=n,e[kg]=n,n}function p(e=1){iv(je(),q(),li()+e,!1)}function iv(e,n,t,i){if(!i)if((n[G]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ll(n,o,t)}else{let o=e.preOrderHooks;o!==null&&cl(n,o,0,t)}ur(t)}var Xl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Xl||{});function Uf(e,n,t,i){let r=ee(null);try{let[o,s,a]=e.inputs[t],l=null;(s&Xl.SignalBased)!==0&&(l=n[o][Zt]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(n,i)),e.setInput!==null?e.setInput(n,l,i,t,o):$0(n,l,o,i)}finally{ee(r)}}function rv(e,n,t,i,r){let o=li(),s=i&2;try{ur(-1),s&&n.length>Xe&&iv(e,n,Xe,!1),ge(s?2:0,r),t(i,r)}finally{ur(o),ge(s?3:1,r)}}function ec(e,n,t){iS(e,n,t),(t.flags&64)===64&&rS(e,n,t)}function Jp(e,n,t=On){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function JE(e,n,t,i){let o=i.get(Xw,P_)||t===Nn.ShadowDom,s=e.selectRootElement(n,o);return XE(s),s}function XE(e){eS(e)}var eS=()=>null;function tS(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ov(e,n,t,i,r,o,s,a){if(!a&&eh(n,e,t,i,r)){mo(n)&&nS(t,n.index);return}if(n.type&3){let l=On(n,t);i=tS(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)}else n.type&12}function nS(e,n){let t=Tn(n,e);t[G]&16||(t[G]|=64)}function iS(e,n,t){let i=t.directiveStart,r=t.directiveEnd;mo(t)&&KE(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Sl(t,n);let o=t.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=hs(n,e,s,t);if(Do(l,n),o!==null&&lS(n,s-i,l,a,t,o),Mn(a)){let d=Tn(t.index,n);d[Ke]=hs(n,e,s,t)}}}function rS(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=fw();try{ur(o);for(let a=i;a<r;a++){let l=e.data[a],d=n[a];Sf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&oS(l,d)}}finally{ur(-1),Sf(s)}}function oS(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Xp(e,n){let t=e.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];K_(n,o.selectors,!1)&&(i??=[],Mn(o)?i.unshift(o):i.push(o))}return i}function sS(e,n,t,i,r,o){let s=On(e,n);aS(n[Ve],s,o,e.value,t,i,r)}function aS(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?ir(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function lS(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];Uf(i,t,l,d)}}function cS(e,n){let t=e[sr],i=t?t.get(Rn,null):null;i&&i.handleError(n)}function eh(e,n,t,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],h=s[l+1],g=n.data[d];Uf(g,t[d],h,r),a=!0}if(o)for(let l of o){let d=t[l],h=n.data[l];Uf(h,d,i,r),a=!0}return a}function uS(e,n){let t=Tn(n,e),i=t[Z];dS(i,t);let r=t[si];r!==null&&t[io]===null&&(t[io]=L_(r,t[sr])),ge(18),th(i,t,t[Ke]),ge(19,t[Ke])}function dS(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function th(e,n,t){Pp(n);try{let i=e.viewQuery;i!==null&&Lf(1,i,t);let r=e.template;r!==null&&rv(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ni]?.finishViewCreation(e),e.staticContentQueries&&V_(e,n),e.staticViewQueries&&Lf(2,e.viewQuery,t);let o=e.components;o!==null&&fS(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[G]&=-5,Ap()}}function fS(e,n){for(let t=0;t<n.length;t++)uS(e,n[t])}function Ds(e,n,t,i){let r=ee(null);try{let o=n.tView,a=e[G]&4096?4096:16,l=Zp(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=e[n.index];l[ar]=d;let h=e[ni];return h!==null&&(l[ni]=h.createEmbeddedView(o)),th(o,l,t),l}finally{ee(r)}}function ao(e,n){return!n||n.firstChild===null||I_(e)}var pS;function nh(e,n){return pS(e,n)}var ii=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ii||{});function ih(e){return(e.flags&32)===32}function Xr(e,n,t,i,r){if(i!=null){let o,s=!1;ai(i)?o=i:Mi(i)&&(s=!0,i=i[si]);let a=xn(i);e===0&&t!==null?r==null?X_(n,t,a):Tl(n,t,a,r||null,!0):e===1&&t!==null?Tl(n,t,a,r||null,!0):e===2?GE(n,a,s):e===3&&n.destroyNode(a),o!=null&&wS(n,e,o,t,r)}}function hS(e,n){sv(e,n),n[si]=null,n[Rt]=null}function mS(e,n,t,i,r,o){i[si]=r,i[Rt]=n,ic(e,i,t,1,r,o)}function sv(e,n){n[ti].changeDetectionScheduler?.notify(9),ic(e,n,n[Ve],2,null,null)}function gS(e){let n=e[ps];if(!n)return of(e[Z],e);for(;n;){let t=null;if(Mi(n))t=n[ps];else{let i=n[ft];i&&(t=i)}if(!t){for(;n&&!n[hn]&&n!==e;)Mi(n)&&of(n[Z],n),n=n[pt];n===null&&(n=e),Mi(n)&&of(n[Z],n),t=n&&n[hn]}n=t}}function rh(e,n){let t=e[ro],i=t.indexOf(n);t.splice(i,1)}function tc(e,n){if(go(n))return;let t=n[Ve];t.destroyNode&&ic(e,n,t,3,null,null),gS(n)}function of(e,n){if(go(n))return;let t=ee(null);try{n[G]&=-129,n[G]|=256,n[Jt]&&Td(n[Jt]),vS(e,n),_S(e,n),n[Z].type===1&&n[Ve].destroy();let i=n[ar];if(i!==null&&ai(n[pt])){i!==n[pt]&&rh(i,n);let r=n[ni];r!==null&&r.detachView(e)}Pf(n)}finally{ee(t)}}function _S(e,n){let t=e.cleanup,i=n[vl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(n[vl]=null);let r=n[Ii];if(r!==null){n[Ii]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=n[yl];if(o!==null){n[yl]=null;for(let s of o)s.destroy()}}function vS(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof dr)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];ge(4,a,l);try{l.call(a)}finally{ge(5,a,l)}}else{ge(4,r,o);try{o.call(r)}finally{ge(5,r,o)}}}}}function av(e,n,t){return yS(e,n.parent,t)}function yS(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[si];if(mo(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===Nn.None||r===Nn.Emulated)return null}return On(i,t)}function lv(e,n,t){return CS(e,n,t)}function bS(e,n,t){return e.type&40?On(e,t):null}var CS=bS,t0;function nc(e,n,t,i){let r=av(e,i,n),o=n[Ve],s=i.parent||n[Rt],a=lv(s,i,n);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)e0(o,r,t[l],a,!1);else e0(o,r,t,a,!1);t0!==void 0&&t0(o,i,n,t,r)}function cs(e,n){if(n!==null){let t=n.type;if(t&3)return On(n,e);if(t&4)return Hf(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return cs(e,i);{let r=e[n.index];return ai(r)?Hf(-1,r):xn(r)}}else{if(t&128)return cs(e,n.next);if(t&32)return nh(n,e)()||xn(e[n.index]);{let i=cv(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=cr(e[Lt]);return cs(r,i)}else return cs(e,n.next)}}}return null}function cv(e,n){if(n!==null){let i=e[Lt][Rt],r=n.projection;return i.projection[r]}return null}function Hf(e,n){let t=ft+e+1;if(t<n.length){let i=n[t],r=i[Z].firstChild;if(r!==null)return cs(i,r)}return n[lr]}function oh(e,n,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&n===0&&(a&&Do(xn(a),i),t.flags|=2),!ih(t))if(l&8)oh(e,n,t.child,i,r,o,!1),Xr(n,e,r,a,o);else if(l&32){let d=nh(t,i),h;for(;h=d();)Xr(n,e,r,h,o);Xr(n,e,r,a,o)}else l&16?uv(e,n,i,t,r,o):Xr(n,e,r,a,o);t=s?t.projectionNext:t.next}}function ic(e,n,t,i,r,o){oh(t,i,e.firstChild,n,r,o,!1)}function DS(e,n,t){let i=n[Ve],r=av(e,t,n),o=t.parent||n[Rt],s=lv(o,t,n);uv(i,0,n,t,r,s)}function uv(e,n,t,i,r,o){let s=t[Lt],l=s[Rt].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let h=l[d];Xr(n,e,r,h,o)}else{let d=l,h=s[pt];I_(i)&&(d.flags|=128),oh(e,n,d,h,r,o,!0)}}function wS(e,n,t,i,r){let o=t[lr],s=xn(t);o!==s&&Xr(n,e,i,o,r);for(let a=ft;a<t.length;a++){let l=t[a];ic(l[Z],l,e,n,i,o)}}function ES(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ii.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ii.Important),e.setStyle(t,i,r,o))}}function Rl(e,n,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&i.push(xn(o)),ai(o)&&SS(o,i);let s=t.type;if(s&8)Rl(e,n,t.child,i);else if(s&32){let a=nh(t,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=cv(n,t);if(Array.isArray(a))i.push(...a);else{let l=cr(n[Lt]);Rl(l[Z],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function SS(e,n){for(let t=ft;t<e.length;t++){let i=e[t],r=i[Z].firstChild;r!==null&&Rl(i[Z],i,r,n)}e[lr]!==e[si]&&n.push(e[lr])}function dv(e){if(e[eo]!==null){for(let n of e[eo])n.impl.addSequence(n);e[eo].length=0}}var fv=[];function IS(e){return e[Jt]??MS(e)}function MS(e){let n=fv.pop()??Object.create(TS);return n.lView=e,n}function xS(e){e.lView[Jt]!==e&&(e.lView=null,fv.push(e))}var TS=H(S({},ts),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{bs(e.lView)},consumerOnSignalRead(){this.lView[Jt]=this}});function RS(e){let n=e[Jt]??Object.create(NS);return n.lView=e,n}var NS=H(S({},ts),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=cr(e.lView);for(;n&&!pv(n[Z]);)n=cr(n);n&&Q0(n)},consumerOnSignalRead(){this.lView[Jt]=this}});function pv(e){return e.type!==2}function hv(e){if(e[yl]===null)return;let n=!0;for(;n;){let t=!1;for(let i of e[yl])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=t&&!!(e[G]&8192)}}var OS=100;function mv(e,n=!0,t=0){let r=e[ti].rendererFactory,o=!1;o||r.begin?.();try{kS(e,t)}catch(s){throw n&&cS(e,s),s}finally{o||r.end?.()}}function kS(e,n){let t=X0();try{Ag(!0),$f(e,n);let i=0;for(;Gl(e);){if(i===OS)throw new A(103,!1);i++,$f(e,1)}}finally{Ag(t)}}function PS(e,n,t,i){if(go(n))return;let r=n[G],o=!1,s=!1;Pp(n);let a=!0,l=null,d=null;o||(pv(e)?(d=IS(n),l=Ea(d)):wd()===null?(a=!1,d=RS(n),l=Ea(d)):n[Jt]&&(Td(n[Jt]),n[Jt]=null));try{Y0(n),cw(e.bindingStartIndex),t!==null&&rv(e,n,t,2,i);let h=(r&3)===3;if(!o)if(h){let _=e.preOrderCheckHooks;_!==null&&ll(n,_,null)}else{let _=e.preOrderHooks;_!==null&&cl(n,_,0,null),nf(n,0)}if(s||AS(n),hv(n),gv(n,0),e.contentQueries!==null&&V_(e,n),!o)if(h){let _=e.contentCheckHooks;_!==null&&ll(n,_)}else{let _=e.contentHooks;_!==null&&cl(n,_,1),nf(n,1)}LS(e,n);let g=e.components;g!==null&&vv(n,g,0);let y=e.viewQuery;if(y!==null&&Lf(2,y,i),!o)if(h){let _=e.viewCheckHooks;_!==null&&ll(n,_)}else{let _=e.viewHooks;_!==null&&cl(n,_,2),nf(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[tf]){for(let _ of n[tf])_();n[tf]=null}o||(dv(n),n[G]&=-73)}catch(h){throw o||bs(n),h}finally{d!==null&&(Md(d,l),a&&xS(d)),Ap()}}function gv(e,n){for(let t=T_(e);t!==null;t=R_(t))for(let i=ft;i<t.length;i++){let r=t[i];_v(r,n)}}function AS(e){for(let n=T_(e);n!==null;n=R_(n)){if(!(n[G]&2))continue;let t=n[ro];for(let i=0;i<t.length;i++){let r=t[i];Q0(r)}}}function FS(e,n,t){ge(18);let i=Tn(n,e);_v(i,t),ge(19,i[Ke])}function _v(e,n){Ip(e)&&$f(e,n)}function $f(e,n){let i=e[Z],r=e[G],o=e[Jt],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&xd(o)),s||=!1,o&&(o.dirty=!1),e[G]&=-9217,s)PS(i,e,i.template,e[Ke]);else if(r&8192){hv(e),gv(e,1);let a=i.components;a!==null&&vv(e,a,1),dv(e)}}function vv(e,n,t){for(let i=0;i<n.length;i++)FS(e,n[i],t)}function LS(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)ur(~r);else{let o=r,s=t[++i],a=t[++i];dw(s,o);let l=n[o];ge(24,l),a(2,l),ge(25,l)}}}finally{ur(-1)}}function sh(e,n){let t=X0()?64:1088;for(e[ti].changeDetectionScheduler?.notify(n);e;){e[G]|=t;let i=cr(e);if(Cl(e)&&!i)return e;e=i}return null}function yv(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function bv(e,n){let t=ft+n;if(t<e.length)return e[t]}function ws(e,n,t,i=!0){let r=n[Z];if(VS(r,n,e,t),i){let s=Hf(t,e),a=n[Ve],l=a.parentNode(e[lr]);l!==null&&mS(r,e[Rt],a,n,l,s)}let o=n[io];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Cv(e,n){let t=ms(e,n);return t!==void 0&&tc(t[Z],t),t}function ms(e,n){if(e.length<=ft)return;let t=ft+n,i=e[t];if(i){let r=i[ar];r!==null&&r!==e&&rh(r,i),n>0&&(e[t-1][hn]=i[hn]);let o=gl(e,ft+n);hS(i[Z],i);let s=o[ni];s!==null&&s.detachView(o[Z]),i[pt]=null,i[hn]=null,i[G]&=-129}return i}function VS(e,n,t,i){let r=ft+i,o=t.length;i>0&&(t[r-1][hn]=n),i<o-ft?(n[hn]=t[r],O0(t,ft+i,n)):(t.push(n),n[hn]=null),n[pt]=t;let s=n[ar];s!==null&&t!==s&&Dv(s,n);let a=n[ni];a!==null&&a.insertView(e),wf(n),n[G]|=128}function Dv(e,n){let t=e[ro],i=n[pt];if(Mi(i))e[G]|=2;else{let r=i[pt][Lt];n[Lt]!==r&&(e[G]|=2)}t===null?e[ro]=[n]:t.push(n)}var gs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[Z];return Rl(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Ke]}set context(n){this._lView[Ke]=n}get destroyed(){return go(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[pt];if(ai(n)){let t=n[bl],i=t?t.indexOf(this):-1;i>-1&&(ms(n,i),gl(t,i))}this._attachedToViewContainer=!1}tc(this._lView[Z],this._lView)}onDestroy(n){Z0(this._lView,n)}markForCheck(){sh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){wf(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,mv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Cl(this._lView),t=this._lView[ar];t!==null&&!n&&rh(t,this._lView),sv(this._lView[Z],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=n;let t=Cl(this._lView),i=this._lView[ar];i!==null&&!t&&Dv(i,this._lView),wf(this._lView)}};var ri=(()=>{class e{static __NG_ELEMENT_ID__=US}return e})(),jS=ri,BS=class extends jS{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){let r=Ds(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new gs(r)}};function US(){return rc(mt(),q())}function rc(e,n){return e.type&4?new BS(n,e,bo(e,n)):null}function Es(e,n,t,i,r){let o=e.data[n];if(o===null)o=HS(e,n,t,i,r),uw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=sw();o.injectorIndex=s===null?-1:s.injectorIndex}return hr(o,!0),o}function HS(e,n,t,i,r){let o=J0(),s=Rp(),a=s?o:o&&o.parent,l=e.data[n]=qS(e,a,t,n,i,r);return $S(e,l,o,s),l}function $S(e,n,t,i){e.firstChild===null&&(e.firstChild=n),t!==null&&(i?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function qS(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return K0()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cU=new RegExp(`^(\\d+)*(${Jw}|${Kw})*(.*)`);var zS=()=>null;function lo(e,n){return zS(e,n)}var GS=class{},wv=class{},qf=class{resolveComponentFactory(n){throw Error(`No component factory found for ${xt(n)}.`)}},oc=class{static NULL=new qf},co=class{},mn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>WS()}return e})();function WS(){let e=q(),n=mt(),t=Tn(n.index,e);return(Mi(t)?t:e)[Ve]}var YS=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>null})}return e})();var sf={},zf=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=Ul(i);let r=this.injector.get(n,sf,i);return r!==sf||t===sf?r:this.parentInjector.get(n,t,i)}};function Gf(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=mf(r,a);else if(o==2){let l=a,d=n[++s];i=mf(i,l+": "+d+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function D(e,n=ie.Default){let t=q();if(t===null)return k(e,n);let i=mt();return m_(i,t,bt(e),n)}function Ev(){let e="invalid";throw new Error(e)}function ah(e,n,t,i,r){let o=i===null?null:{"":-1},s=r(e,t);if(s!==null){let a,l=null,d=null,h=ZS(s);h===null?a=s:[a,l,d]=h,XS(e,n,t,a,o,l,d)}o!==null&&i!==null&&QS(t,i,o)}function QS(e,n,t){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new A(-301,!1);i.push(n[r],o)}}function ZS(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Mn(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,KS(s,i,o,r)),s===n&&(i??=[],i.push(s));return i!==null?(i.push(...n===null?e:e.slice(1)),[i,r,o]):null}function KS(e,n,t,i){let r=n.length;e.findHostDirectiveDefs(e,n,i),t.set(e,[r,n.length-1])}function JS(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function XS(e,n,t,i,r,o,s){let a=i.length,l=!1;for(let y=0;y<a;y++){let _=i[y];!l&&Mn(_)&&(l=!0,JS(e,t,y)),Mf(Sl(t,n),e,_.type)}oI(t,e.data.length,a);for(let y=0;y<a;y++){let _=i[y];_.providersResolver&&_.providersResolver(_)}let d=!1,h=!1,g=nv(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let _=i[y];if(t.mergedAttrs=oo(t.mergedAttrs,_.hostAttrs),tI(e,t,n,g,_),rI(g,_,r),s!==null&&s.has(_)){let[R,V]=s.get(_);t.directiveToIndex.set(_.type,[g,R+t.directiveStart,V+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,g);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let I=_.type.prototype;!d&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),d=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),h=!0),g++}eI(e,t,o)}function eI(e,n,t){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=e.data[i];if(t===null||!t.has(r))n0(0,n,r,i),n0(1,n,r,i),r0(n,i,!1);else{let o=t.get(r);i0(0,n,o,i),i0(1,n,o,i),r0(n,i,!0)}}}function n0(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(i),Sv(n,o)}}function i0(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),Sv(n,s)}}function Sv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function r0(e,n,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!t&&r===null||t&&o===null||Yp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let d=r[l];for(let h of d)if(h===n){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let d=o[l];for(let h=0;h<d.length;h+=2)if(d[h]===n){s??=[],s.push(d[h+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function tI(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=rr(r.type,!0)),s=new dr(o,Mn(r),D);e.blueprint[i]=s,t[i]=s,nI(e,n,i,nv(e,t,r.hostVars,Vt),r)}function nI(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;iI(s)!=a&&s.push(a),s.push(t,i,o)}}function iI(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function rI(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Mn(n)&&(t[""]=e)}}function oI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Iv(e,n,t,i,r,o,s,a){let l=n.consts,d=Ti(l,s),h=Es(n,e,2,i,d);return o&&ah(n,t,h,Ti(l,a),r),h.mergedAttrs=oo(h.mergedAttrs,h.attrs),h.attrs!==null&&Gf(h,h.attrs,!1),h.mergedAttrs!==null&&Gf(h,h.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,h),h}function Mv(e,n){Lp(e,n),wp(n)&&e.queries.elementEnd(n)}var Nl=class extends oc{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=xi(n);return new fr(t,this.ngModule)}};function sI(e){return Object.keys(e).map(n=>{let[t,i,r]=e[n],o={propName:t,templateName:n,isSignal:(i&Xl.SignalBased)!==0};return r&&(o.transform=r),o})}function aI(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function lI(e,n,t){let i=n instanceof Je?n:n?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new zf(t,i):t}function cI(e){let n=e.get(co,null);if(n===null)throw new A(407,!1);let t=e.get(YS,null),i=e.get(so,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:i}}function uI(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return J_(n,t,t==="svg"?YD:t==="math"?QD:null)}var fr=class extends wv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aI(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=UE(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,i,r){ge(22);let o=ee(null);try{let s=this.componentDef,a=i?["ng-version","19.2.9"]:HE(this.componentDef.selectors[0]),l=Qp(0,null,null,1,0,null,null,null,null,[a],null),d=lI(s,r||this.ngModule,n),h=cI(d),g=h.rendererFactory.createRenderer(null,s),y=i?JE(g,i,s.encapsulation,d):uI(s,g),_=Zp(null,l,null,512|tv(s),null,null,h,g,d,null,L_(y,d,!0));_[Xe]=y,Pp(_);let I=null;try{let R=Iv(Xe,l,_,"#host",()=>[this.componentDef],!0,0);y&&(ev(g,y,R),Do(y,_)),ec(l,_,R),zp(l,R,_),Mv(l,R),t!==void 0&&dI(R,this.ngContentSelectors,t),I=Tn(R.index,_),_[Ke]=I[Ke],th(l,_,null)}catch(R){throw I!==null&&Pf(I),Pf(_),R}finally{ge(23),Ap()}return new Wf(this.componentType,_)}finally{ee(o)}}},Wf=class extends GS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Ep(t[Z],Xe),this.location=bo(this._tNode,t),this.instance=Tn(this._tNode.index,t)[Ke],this.hostView=this.changeDetectorRef=new gs(t,void 0,!1),this.componentType=n}setInput(n,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let r=this._rootLView,o=eh(i,r[Z],r,n,t);this.previousInputValues.set(n,t);let s=Tn(i.index,r);sh(s,1)}get injector(){return new nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function dI(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var fi=(()=>{class e{static __NG_ELEMENT_ID__=fI}return e})();function fI(){let e=mt();return Tv(e,q())}var pI=fi,xv=class extends pI{_lContainer;_hostTNode;_hostLView;constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return bo(this._hostTNode,this._hostLView)}get injector(){return new nr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Vp(this._hostTNode,this._hostLView);if(c_(n)){let t=wl(n,this._hostLView),i=Dl(n),r=t[Z].data[i+8];return new nr(r,t)}else return new nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=o0(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=lo(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,ao(this._hostTNode,s)),a}createComponent(n,t,i,r,o){let s=n&&!qD(n),a;if(s)a=t;else{let I=t||{};a=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let l=s?n:new fr(xi(n)),d=i||this.parentInjector;if(!o&&l.ngModule==null){let R=(s?d:this.parentInjector).get(Je,null);R&&(o=R)}let h=xi(l.componentType??{}),g=lo(this._lContainer,h?.id??null),y=g?.firstChild??null,_=l.create(d,r,y,o);return this.insertImpl(_.hostView,a,ao(this._hostTNode,g)),_}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(KD(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[pt],d=new xv(l,l[Rt],l[pt]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return ws(s,r,o,i),n.attachToViewContainerRef(),O0(af(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=o0(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=ms(this._lContainer,t);i&&(gl(af(this._lContainer),t),tc(i[Z],i))}detach(n){let t=this._adjustIndex(n,-1),i=ms(this._lContainer,t);return i&&gl(af(this._lContainer),t)!=null?new gs(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function o0(e){return e[bl]}function af(e){return e[bl]||(e[bl]=[])}function Tv(e,n){let t,i=n[e.index];return ai(i)?t=i:(t=yv(i,n,null,e),n[e.index]=t,Kp(n,t)),mI(t,n,e,i),new xv(t,e,n)}function hI(e,n){let t=e[Ve],i=t.createComment(""),r=On(n,e),o=t.parentNode(r);return Tl(t,o,i,t.nextSibling(r),!1),i}var mI=vI,gI=()=>!1;function _I(e,n,t){return gI(e,n,t)}function vI(e,n,t,i){if(e[lr])return;let r;t.type&8?r=xn(i):r=hI(n,t),e[lr]=r}var Yf=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Qf=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)lh(n,t).matches!==null&&this.queries[t].setDirty()}},Ol=class{flags;read;predicate;constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=II(n):this.predicate=n}},Zf=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Kf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,yI(t,o)),this.matchTNodeWithReadOption(n,t,ul(t,n,o,!1,!1))}else i===ri?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,ul(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ze||r===fi||r===ri&&t.type&4)this.addMatch(t.index,-2);else{let o=ul(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function yI(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function bI(e,n){return e.type&11?bo(e,n):e.type&4?rc(e,n):null}function CI(e,n,t,i){return t===-1?bI(n,e):t===-2?DI(e,n,i):hs(e,e[Z],t,n)}function DI(e,n,t){if(t===ze)return bo(n,e);if(t===ri)return rc(n,e);if(t===fi)return Tv(n,e)}function Rv(e,n,t,i){let r=n[ni].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let h=o[d];a.push(CI(n,h,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function Jf(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=Rv(e,n,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let d=o[a+1],h=n[-l];for(let g=ft;g<h.length;g++){let y=h[g];y[ar]===y[pt]&&Jf(y[Z],y,d,i)}if(h[ro]!==null){let g=h[ro];for(let y=0;y<g.length;y++){let _=g[y];Jf(_[Z],_,d,i)}}}}}return i}function wI(e,n){return e[ni].queries[n].queryList}function Nv(e,n,t){let i=new kf((t&4)===4);return ew(e,n,i,i.destroy),(n[ni]??=new Qf).queries.push(new Yf(i))-1}function EI(e,n,t){let i=je();return i.firstCreatePass&&(Ov(i,new Ol(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),Nv(i,q(),n)}function SI(e,n,t,i){let r=je();if(r.firstCreatePass){let o=mt();Ov(r,new Ol(n,t,i),o.index),MI(r,e),(t&2)===2&&(r.staticContentQueries=!0)}return Nv(r,q(),t)}function II(e){return e.split(",").map(n=>n.trim())}function Ov(e,n,t){e.queries===null&&(e.queries=new Zf),e.queries.track(new Kf(n,t))}function MI(e,n){let t=e.contentQueries||(e.contentQueries=[]),i=t.length?t[t.length-1]:-1;n!==i&&t.push(e.queries.length-1,n)}function lh(e,n){return e.queries.getByIndex(n)}function xI(e,n){let t=e[Z],i=lh(t,n);return i.crossesNgTemplate?Jf(t,e,n,[]):Rv(t,e,i,n)}var uo=class{},ch=class{};var Xf=class extends uo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Nl(this);constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t;let o=A0(n);this._bootstrapComponents=Q_(o.bootstrap),this._r3Injector=v_(n,t,[{provide:uo,useValue:this},{provide:oc,useValue:this.componentFactoryResolver},...i],xt(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},ep=class extends ch{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Xf(this.moduleType,n,[])}};var kl=class extends uo{injector;componentFactoryResolver=new Nl(this);instance=null;constructor(n){super();let t=new fs([...n.providers,{provide:uo,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],n.parent||$l(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ss(e,n,t=null){return new kl({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var TI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=F0(!1,t.type),r=i.length>0?Ss([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(k(Je))})}return e})();function L(e){return vs(()=>{let n=kv(e),t=H(S({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===M_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(TI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Nn.Emulated,styles:e.styles||Mt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Ri("NgStandalone"),Pv(t);let i=e.dependencies;return t.directiveDefs=s0(i,!1),t.pipeDefs=s0(i,!0),t.id=PI(t),t})}function RI(e){return xi(e)||ND(e)}function NI(e){return e!==null}function ue(e){return vs(()=>({type:e.type,bootstrap:e.bootstrap||Mt,declarations:e.declarations||Mt,imports:e.imports||Mt,exports:e.exports||Mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function OI(e,n){if(e==null)return or;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=Xl.None,l=null),t[o]=[i,a,l],n[o]=s}return t}function kI(e){if(e==null)return or;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function de(e){return vs(()=>{let n=kv(e);return Pv(n),n})}function uh(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function kv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||or,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OI(e.inputs,n),outputs:kI(e.outputs),debugInfo:null}}function Pv(e){e.features?.forEach(n=>n(e))}function s0(e,n){if(!e)return null;let t=n?OD:RI;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(NI)}function PI(e){let n=0,t=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function AI(e){return Object.getPrototypeOf(e.prototype).constructor}function ot(e){let n=AI(e.type),t=!0,i=[e];for(;n;){let r;if(Mn(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new A(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let s=e;s.inputs=lf(e.inputs),s.declaredInputs=lf(e.declaredInputs),s.outputs=lf(e.outputs);let a=r.hostBindings;a&&BI(e,a);let l=r.viewQuery,d=r.contentQueries;if(l&&VI(e,l),d&&jI(e,d),FI(e,r),aD(e.outputs,r.outputs),Mn(r)&&r.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ot&&(t=!1)}}n=Object.getPrototypeOf(n)}LI(i)}function FI(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t])}}function LI(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=oo(r.hostAttrs,t=oo(t,r.hostAttrs))}}function lf(e){return e===or?{}:e===Mt?[]:e}function VI(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function jI(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function BI(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}function Av(e){return HI(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function UI(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),i;for(;!(i=t.next()).done;)n(i.value)}}function HI(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function sc(e,n,t){return e[n]=t}function $I(e,n){return e[n]}function Xt(e,n,t){let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function dh(e,n,t,i){let r=Xt(e,n,t);return Xt(e,n+1,i)||r}function qI(e,n,t,i,r){let o=dh(e,n,t,i);return Xt(e,n+2,r)||o}function zI(e,n,t,i,r,o,s,a,l){let d=n.consts,h=Es(n,e,4,s||null,a||null);Tp()&&ah(n,t,h,Ti(d,l),Xp),h.mergedAttrs=oo(h.mergedAttrs,h.attrs),Lp(n,h);let g=h.tView=Qp(2,h,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return n.queries!==null&&(n.queries.template(n,h),g.queries=n.queries.embeddedTView(h)),h}function Pl(e,n,t,i,r,o,s,a,l,d){let h=t+Xe,g=n.firstCreatePass?zI(h,n,e,i,r,o,s,a,l):n.data[h];hr(g,!1);let y=GI(n,e,g,t);Wl()&&nc(n,e,y,g),Do(y,e);let _=yv(y,e,y,g);return e[h]=_,Kp(e,_),_I(_,g,e),zl(g)&&ec(n,e,g),l!=null&&Jp(e,g,d),g}function C(e,n,t,i,r,o,s,a){let l=q(),d=je(),h=Ti(d.consts,o);return Pl(l,d,e,n,t,i,r,h,s,a),C}var GI=WI;function WI(e,n,t,i){return Yl(!0),n[Ve].createComment("")}var Fv=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Lv=new P("");var YI=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new tp})}return e})(),tp=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,i=this.queues.get(t);i.has(n)&&(i.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function mr(e){return!!e&&typeof e.then=="function"}function Vv(e){return!!e&&typeof e.subscribe=="function"}var jv=new P("");function fh(e){return po([{provide:jv,multi:!0,useValue:e}])}var Bv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=b(jv,{optional:!0})??[];injector=b(rt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=Tt(this.injector,r);if(mr(o))t.push(o);else if(Vv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ac=new P("");function QI(){Nd(()=>{throw new A(600,!1)})}function ZI(e){return e.isBoundToModule}var KI=10;var oi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(Bw);afterRenderManager=b(F_);zonelessEnabled=b(jp);rootEffectScheduler=b(YI);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ae;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(ci).hasPendingTasks.pipe(Q(t=>!t));constructor(){b(wo,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=b(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=rt.NULL){ge(10);let o=t instanceof wv;if(!this._injector.get(Bv).done){let _="";throw new A(405,_)}let a;o?a=t:a=this._injector.get(oc).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=ZI(a)?void 0:this._injector.get(uo),d=i||a.selector,h=a.create(r,[],d,l),g=h.location.nativeElement,y=h.injector.get(Lv,null);return y?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),dl(this.components,h),y?.unregisterApplication(g)}),this._loadComponent(h),ge(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new A(101,!1);let t=ee(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(co,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<KI;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)JI(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Gl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;dl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ac,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>dl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new A(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dl(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function JI(e,n,t,i){if(!t&&!Gl(e))return;mv(e,n,t&&!i?0:1)}function Ni(e,n,t,i){let r=q(),o=vo();if(Xt(r,o,n)){let s=je(),a=Fp();sS(a,r,e,n,t,i)}return Ni}function XI(e,n,t,i){return Xt(e,vo(),t)?n+ir(t)+i:Vt}function eM(e,n,t,i,r,o){let s=lw(),a=dh(e,s,t,r);return Op(2),a?n+ir(t)+i+ir(r)+o:Vt}function sl(e,n){return e<<17|n<<2}function pr(e){return e>>17&32767}function tM(e){return(e&2)==2}function nM(e,n){return e&131071|n<<17}function np(e){return e|2}function fo(e){return(e&131068)>>2}function cf(e,n){return e&-131069|n<<2}function iM(e){return(e&1)===1}function ip(e){return e|1}function rM(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=pr(s),l=fo(s);e[i]=t;let d=!1,h;if(Array.isArray(t)){let g=t;h=g[1],(h===null||ys(g,h)>0)&&(d=!0)}else h=t;if(r)if(l!==0){let y=pr(e[a+1]);e[i+1]=sl(y,a),y!==0&&(e[y+1]=cf(e[y+1],i)),e[a+1]=nM(e[a+1],i)}else e[i+1]=sl(a,0),a!==0&&(e[a+1]=cf(e[a+1],i)),a=i;else e[i+1]=sl(l,0),a===0?a=i:e[l+1]=cf(e[l+1],i),l=i;d&&(e[i+1]=np(e[i+1])),a0(e,h,i,!0),a0(e,h,i,!1),oM(n,h,e,i,o),s=sl(a,l),o?n.classBindings=s:n.styleBindings=s}function oM(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&ys(o,n)>=0&&(t[i+1]=ip(t[i+1]))}function a0(e,n,t,i){let r=e[t+1],o=n===null,s=i?pr(r):fo(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],d=e[s+1];sM(l,n)&&(a=!0,e[s+1]=i?ip(d):np(d)),s=i?pr(d):fo(d)}a&&(e[t+1]=i?np(r):ip(r))}function sM(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?ys(e,n)>=0:!1}var pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aM(e){return e.substring(pn.key,pn.keyEnd)}function lM(e){return cM(e),Uv(e,Hv(e,0,pn.textEnd))}function Uv(e,n){let t=pn.textEnd;return t===n?-1:(n=pn.keyEnd=uM(e,pn.key=n,t),Hv(e,n,t))}function cM(e){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=e.length}function Hv(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function uM(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function m(e,n,t){let i=q(),r=vo();if(Xt(i,r,n)){let o=je(),s=Fp();ov(o,s,i,e,n,i[Ve],t,!1)}return m}function rp(e,n,t,i,r){eh(n,e,t,r?"class":"style",i)}function gt(e,n){return fM(e,n,null,!0),gt}function lc(e){pM(yM,dM,e,!0)}function dM(e,n){for(let t=lM(n);t>=0;t=Uv(n,t))Cp(e,aM(n),!0)}function fM(e,n,t,i){let r=q(),o=je(),s=Op(2);if(o.firstUpdatePass&&qv(o,e,s,i),n!==Vt&&Xt(r,s,n)){let a=o.data[li()];zv(o,a,r,r[Ve],e,r[s+1]=CM(n,t),i,s)}}function pM(e,n,t,i){let r=je(),o=Op(2);r.firstUpdatePass&&qv(r,null,o,i);let s=q();if(t!==Vt&&Xt(s,o,t)){let a=r.data[li()];if(Gv(a,i)&&!$v(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=mf(l,t||"")),rp(r,a,s,t,i)}else bM(r,a,s,s[Ve],s[o+1],s[o+1]=vM(e,n,t),i,o)}}function $v(e,n){return n>=e.expandoStartIndex}function qv(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[li()],s=$v(e,t);Gv(o,i)&&n===null&&!s&&(n=!1),n=hM(r,o,n,i),rM(r,o,n,t,s,i)}}function hM(e,n,t,i){let r=pw(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=uf(null,e,n,t,i),t=_s(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=uf(r,e,n,t,i),o===null){let l=mM(e,n,i);l!==void 0&&Array.isArray(l)&&(l=uf(null,e,n,l[1],i),l=_s(l,n.attrs,i),gM(e,n,i,l))}else o=_M(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function mM(e,n,t){let i=t?n.classBindings:n.styleBindings;if(fo(i)!==0)return e[pr(i)]}function gM(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[pr(r)]=i}function _M(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=_s(i,s,t)}return _s(i,n.attrs,t)}function uf(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=_s(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function _s(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Cp(e,s,t?!0:n[++o]))}return e===void 0?null:e}function vM(e,n,t){if(t==null||t==="")return Mt;let i=[],r=So(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function yM(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&Cp(e,i,t)}function bM(e,n,t,i,r,o,s,a){r===Vt&&(r=Mt);let l=0,d=0,h=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;h!==null||g!==null;){let y=l<r.length?r[l+1]:void 0,_=d<o.length?o[d+1]:void 0,I=null,R;h===g?(l+=2,d+=2,y!==_&&(I=g,R=_)):g===null||h!==null&&h<g?(l+=2,I=h):(d+=2,I=g,R=_),I!==null&&zv(e,n,t,i,I,R,s,a),h=l<r.length?r[l]:null,g=d<o.length?o[d]:null}}function zv(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let l=e.data,d=l[a+1],h=iM(d)?l0(l,n,t,r,fo(d),s):void 0;if(!Al(h)){Al(o)||tM(d)&&(o=l0(l,null,t,r,a,s));let g=W0(li(),t);ES(i,s,g,r,o)}}function l0(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let l=e[r],d=Array.isArray(l),h=d?l[1]:l,g=h===null,y=t[r+1];y===Vt&&(y=g?Mt:void 0);let _=g?Xd(y,i):h===i?y:void 0;if(d&&!Al(_)&&(_=Xd(l,i)),Al(_)&&(a=_,s))return a;let I=e[r+1];r=s?pr(I):fo(I)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Xd(l,i))}return a}function Al(e){return e!==void 0}function CM(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=xt(So(e)))),e}function Gv(e,n){return(e.flags&(n?8:16))!==0}var op=class{destroy(n){}updateValue(n,t){}swap(n,t){let i=Math.min(n,t),r=Math.max(n,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,t){this.attach(t,this.detach(n))}};function df(e,n,t,i,r){return e===t&&Object.is(n,i)?1:Object.is(r(e,n),r(t,i))?-1:0}function DM(e,n,t){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=s&&o<=l;){let d=e.at(o),h=n[o],g=df(o,d,o,h,t);if(g!==0){g<0&&e.updateValue(o,h),o++;continue}let y=e.at(s),_=n[l],I=df(s,y,l,_,t);if(I!==0){I<0&&e.updateValue(s,_),s--,l--;continue}let R=t(o,d),V=t(s,y),ne=t(o,h);if(Object.is(ne,V)){let un=t(l,_);Object.is(un,R)?(e.swap(o,s),e.updateValue(s,_),l--,s--):e.move(s,o),e.updateValue(o,h),o++;continue}if(i??=new Fl,r??=u0(e,o,s,t),sp(e,i,o,ne))e.updateValue(o,h),o++,s++;else if(r.has(ne))i.set(R,e.detach(o)),s--;else{let un=e.create(o,n[o]);e.attach(o,un),o++,s++}}for(;o<=l;)c0(e,i,t,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),d=l.next();for(;!d.done&&o<=s;){let h=e.at(o),g=d.value,y=df(o,h,o,g,t);if(y!==0)y<0&&e.updateValue(o,g),o++,d=l.next();else{i??=new Fl,r??=u0(e,o,s,t);let _=t(o,g);if(sp(e,i,o,_))e.updateValue(o,g),o++,s++,d=l.next();else if(!r.has(_))e.attach(o,e.create(o,g)),o++,s++,d=l.next();else{let I=t(o,h);i.set(I,e.detach(o)),s--}}}for(;!d.done;)c0(e,i,t,e.length,d.value),d=l.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(l=>{e.destroy(l)})}function sp(e,n,t,i){return n!==void 0&&n.has(i)?(e.attach(t,n.get(i)),n.delete(i),!0):!1}function c0(e,n,t,i,r){if(sp(e,n,i,t(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function u0(e,n,t,i){let r=new Set;for(let o=n;o<=t;o++)r.add(i(o,e.at(o)));return r}var Fl=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,i]of this.kvMap)if(n(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,t)}}};function fe(e,n){Ri("NgControlFlow");let t=q(),i=vo(),r=t[i]!==Vt?t[i]:-1,o=r!==-1?Ll(t,Xe+r):void 0,s=0;if(Xt(t,i,e)){let a=ee(null);try{if(o!==void 0&&Cv(o,s),e!==-1){let l=Xe+e,d=Ll(t,l),h=up(t[Z],l),g=lo(d,h.tView.ssrId),y=Ds(t,h,n,{dehydratedView:g});ws(d,y,s,ao(h,g))}}finally{ee(a)}}else if(o!==void 0){let a=bv(o,s);a!==void 0&&(a[Ke]=n)}}var ap=class{lContainer;$implicit;$index;constructor(n,t,i){this.lContainer=n,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-ft}};function Is(e,n){return n}var lp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,i){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=i}};function gr(e,n,t,i,r,o,s,a,l,d,h,g,y){Ri("NgControlFlow");let _=q(),I=je(),R=l!==void 0,V=q(),ne=a?s.bind(V[Lt][Ke]):s,un=new lp(R,ne);V[Xe+e]=un,Pl(_,I,e+1,n,t,i,r,Ti(I.consts,o)),R&&Pl(_,I,e+2,l,d,h,g,Ti(I.consts,y))}var cp=class extends op{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,i){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-ft}at(n){return this.getLView(n)[Ke].$implicit}attach(n,t){let i=t[io];this.needsIndexUpdate||=n!==this.length,ws(this.lContainer,t,n,ao(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,wM(this.lContainer,n)}create(n,t){let i=lo(this.lContainer,this.templateTNode.tView.ssrId),r=Ds(this.hostLView,this.templateTNode,new ap(this.lContainer,t,n),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(n){tc(n[Z],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[Ke].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Ke].$index=n}getLView(n){return EM(this.lContainer,n)}};function _r(e){let n=ee(null),t=li();try{let i=q(),r=i[Z],o=i[t],s=t+1,a=Ll(i,s);if(o.liveCollection===void 0){let d=up(r,s);o.liveCollection=new cp(a,i,d)}else o.liveCollection.reset();let l=o.liveCollection;if(DM(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let d=vo(),h=l.length===0;if(Xt(i,d,h)){let g=t+2,y=Ll(i,g);if(h){let _=up(r,g),I=lo(y,_.tView.ssrId),R=Ds(i,_,void 0,{dehydratedView:I});ws(y,R,0,ao(_,I))}else Cv(y,0)}}}finally{ee(n)}}function Ll(e,n){return e[n]}function wM(e,n){return ms(e,n)}function EM(e,n){return bv(e,n)}function up(e,n){return Ep(e,n)}function u(e,n,t,i){let r=q(),o=je(),s=Xe+e,a=r[Ve],l=o.firstCreatePass?Iv(s,o,r,n,Xp,Tp(),t,i):o.data[s],d=SM(o,r,l,a,n,e);r[s]=d;let h=zl(l);return hr(l,!0),ev(a,d,l),!ih(l)&&Wl()&&nc(o,r,d,l),(tw()===0||h)&&Do(d,r),nw(),h&&(ec(o,r,l),zp(o,l,r)),i!==null&&Jp(r,l),u}function c(){let e=mt();Rp()?Np():(e=e.parent,hr(e,!1));let n=e;rw(n)&&ow(),iw();let t=je();return t.firstCreatePass&&Mv(t,n),n.classesWithoutHost!=null&&yw(n)&&rp(t,n,q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&bw(n)&&rp(t,n,q(),n.stylesWithoutHost,!1),c}function E(e,n,t,i){return u(e,n,t,i),c(),E}var SM=(e,n,t,i,r,o)=>(Yl(!0),J_(i,r,gw()));function IM(e,n,t,i,r){let o=n.consts,s=Ti(o,i),a=Es(n,e,8,"ng-container",s);s!==null&&Gf(a,s,!0);let l=Ti(o,r);return Tp()&&ah(n,t,a,l,Xp),a.mergedAttrs=oo(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function kn(e,n,t){let i=q(),r=je(),o=e+Xe,s=r.firstCreatePass?IM(o,r,i,n,t):r.data[o];hr(s,!0);let a=MM(r,i,s,e);return i[o]=a,Wl()&&nc(r,i,a,s),Do(a,i),zl(s)&&(ec(r,i,s),zp(r,s,i)),t!=null&&Jp(i,s),kn}function Pn(){let e=mt(),n=je();return Rp()?Np():(e=e.parent,hr(e,!1)),n.firstCreatePass&&(Lp(n,e),wp(e)&&n.queries.elementEnd(e)),Pn}var MM=(e,n,t,i)=>(Yl(!0),zE(n[Ve],""));function re(){return q()}var er=void 0;function xM(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var TM=["en",[["a","p"],["AM","PM"],er],[["AM","PM"],er,er],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],er,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],er,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",er,"{1} 'at' {0}",er],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xM],ff={};function tn(e){let n=RM(e),t=d0(n);if(t)return t;let i=n.split("-")[0];if(t=d0(i),t)return t;if(i==="en")return TM;throw new A(701,!1)}function d0(e){return e in ff||(ff[e]=ei.ng&&ei.ng.common&&ei.ng.common.locales&&ei.ng.common.locales[e]),ff[e]}var qe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(qe||{});function RM(e){return e.toLowerCase().replace(/_/g,"-")}var Vl="en-US";var NM=Vl;function OM(e){typeof e=="string"&&(NM=e.toLowerCase().replace(/_/g,"-"))}function f0(e,n,t){return function i(r){if(r===Function)return t;let o=mo(e)?Tn(e.index,n):n;sh(o,5);let s=n[Ke],a=p0(n,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=p0(n,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function p0(e,n,t,i){let r=ee(null);try{return ge(6,n,t),t(i)!==!1}catch(o){return kM(e,o),!1}finally{ge(7,n,t),ee(r)}}function kM(e,n){let t=e[sr],i=t?t.get(Rn,null):null;i&&i.handleError(n)}function h0(e,n,t,i,r,o){let s=n[t],a=n[Z],d=a.data[t].outputs[i],h=s[d],g=a.firstCreatePass?xp(a):null,y=Mp(n),_=h.subscribe(o),I=y.length;y.push(o,_),g&&g.push(r,e.index,I,-(I+1))}var PM=new Map;function M(e,n,t,i){let r=q(),o=je(),s=mt();return Wv(o,r,r[Ve],s,e,n,i),M}function AM(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[vl],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Wv(e,n,t,i,r,o,s){let a=zl(i),d=e.firstCreatePass?xp(e):null,h=Mp(n),g=!0;if(i.type&3||s){let y=On(i,n),_=s?s(y):y,I=h.length,R=s?ne=>s(xn(ne[i.index])):i.index,V=null;if(!s&&a&&(V=AM(e,n,r,i.index)),V!==null){let ne=V.__ngLastListenerFn__||V;ne.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,g=!1}else{o=f0(i,n,o);let ne=n[sr].get(Zl);PM.get(ne)?.(_,r,o);let $e=t.listen(_,r,o);h.push(o,$e),d&&d.push(r,R,I,I+1)}}else o=f0(i,n,o);if(g){let y=i.outputs?.[r],_=i.hostDirectiveOutputs?.[r];if(_&&_.length)for(let I=0;I<_.length;I+=2){let R=_[I],V=_[I+1];h0(i,n,R,V,r,o)}if(y&&y.length)for(let I of y)h0(i,n,I,r,r,o)}}function v(e=1){return mw(e)}function FM(e,n){let t=null,i=FE(e);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){t=r;continue}if(i===null?K_(e,o,!0):jE(i,o))return r}return t}function Yv(e){let n=q()[Lt][Rt];if(!n.projection){let t=e?e.length:1,i=n.projection=xD(t,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=e?FM(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Qv(e,n=0,t,i,r,o){let s=q(),a=je(),l=i?e+1:null;l!==null&&Pl(s,a,l,i,r,o,null,t);let d=Es(a,Xe+e,16,null,t||null);d.projection===null&&(d.projection=n),Np();let g=!s[io]||K0();s[Lt][Rt].projection[d.projection]===null&&l!==null?LM(s,a,l):g&&!ih(d)&&DS(a,s,d)}function LM(e,n,t){let i=Xe+t,r=n.data[i],o=e[i],s=lo(o,r.tView.ssrId),a=Ds(e,r,void 0,{dehydratedView:s});ws(o,a,0,ao(r,s))}function ph(e,n,t,i){SI(e,n,t,i)}function pi(e,n,t){EI(e,n,t)}function gn(e){let n=q(),t=je(),i=e_();kp(i+1);let r=lh(t,i);if(e.dirty&&ZD(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=xI(n,i);e.reset(o,$w),e.notifyOnChanges()}return!0}return!1}function _n(){return wI(q(),e_())}function VM(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function hh(e){let n=aw();return Sp(n,Xe+e)}function f(e,n=""){let t=q(),i=je(),r=e+Xe,o=i.firstCreatePass?Es(i,r,1,n,null):i.data[r],s=jM(i,t,o,n,e);t[r]=s,Wl()&&nc(i,t,s,o),hr(o,!1)}var jM=(e,n,t,i,r)=>(Yl(!0),$E(n[Ve],i));function T(e){return j("",e,""),T}function j(e,n,t){let i=q(),r=XI(i,e,n,t);return r!==Vt&&Zv(i,li(),r),j}function mh(e,n,t,i,r){let o=q(),s=eM(o,e,n,t,i,r);return s!==Vt&&Zv(o,li(),s),mh}function Zv(e,n,t){let i=W0(n,e);qE(e[Ve],i,t)}function Ee(e,n,t){S_(n)&&(n=n());let i=q(),r=vo();if(Xt(i,r,n)){let o=je(),s=Fp();ov(o,s,i,e,n,i[Ve],t,!1)}return Ee}function xe(e,n){let t=S_(e);return t&&e.set(n),t}function Se(e,n){let t=q(),i=je(),r=mt();return Wv(i,t,t[Ve],r,e,n),Se}function BM(e,n,t){let i=je();if(i.firstCreatePass){let r=Mn(e);dp(t,i.data,i.blueprint,r,!0),dp(n,i.data,i.blueprint,r,!1)}}function dp(e,n,t,i,r){if(e=bt(e),Array.isArray(e))for(let o=0;o<e.length;o++)dp(e[o],n,t,i,r);else{let o=je(),s=q(),a=mt(),l=no(e)?e:bt(e.provide),d=j0(e),h=a.providerIndexes&1048575,g=a.directiveStart,y=a.providerIndexes>>20;if(no(e)||!e.multi){let _=new dr(d,r,D),I=hf(l,n,r?h:h+y,g);I===-1?(Mf(Sl(a,s),o,l),pf(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[I]=_,s[I]=_)}else{let _=hf(l,n,h+y,g),I=hf(l,n,h,h+y),R=_>=0&&t[_],V=I>=0&&t[I];if(r&&!V||!r&&!R){Mf(Sl(a,s),o,l);let ne=$M(r?HM:UM,t.length,r,i,d);!r&&V&&(t[I].providerFactory=ne),pf(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(ne),s.push(ne)}else{let ne=Kv(t[r?I:_],d,!r&&i);pf(o,e,_>-1?_:I,ne)}!r&&i&&V&&t[I].componentProviders++}}}function pf(e,n,t,i){let r=no(n),o=LD(n);if(r||o){let l=(o?bt(n.useClass):n).prototype.ngOnDestroy;if(l){let d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let h=d.indexOf(t);h===-1?d.push(t,[i,l]):d[h+1].push(i,l)}else d.push(t,l)}}}function Kv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function hf(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function UM(e,n,t,i){return fp(this.multi,[])}function HM(e,n,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=hs(t,t[Z],this.providerFactory.index,i);o=a.slice(0,s),fp(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fp(r,o);return o}function fp(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function $M(e,n,t,i,r){let o=new dr(e,t,D);return o.multi=[],o.index=n,o.componentProviders=0,Kv(o,r,i&&!t),o}function Nt(e,n=[]){return t=>{t.providersResolver=(i,r)=>BM(i,r?r(e):e,n)}}function jt(e,n,t){let i=_o()+e,r=q();return r[i]===Vt?sc(r,i,t?n.call(t):n()):$I(r,i)}function Ot(e,n,t,i){return qM(q(),_o(),e,n,t,i)}function gh(e,n,t,i,r){return Jv(q(),_o(),e,n,t,i,r)}function Ms(e,n,t,i,r,o){return Xv(q(),_o(),e,n,t,i,r,o)}function _h(e,n){let t=e[n];return t===Vt?void 0:t}function qM(e,n,t,i,r,o){let s=n+t;return Xt(e,s,r)?sc(e,s+1,o?i.call(o,r):i(r)):_h(e,s+1)}function Jv(e,n,t,i,r,o,s){let a=n+t;return dh(e,a,r,o)?sc(e,a+2,s?i.call(s,r,o):i(r,o)):_h(e,a+2)}function Xv(e,n,t,i,r,o,s,a){let l=n+t;return qI(e,l,r,o,s)?sc(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):_h(e,l+3)}function kt(e,n){let t=je(),i,r=e+Xe;t.firstCreatePass?(i=zM(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=rr(i.type,!0)),s,a=It(D);try{let l=El(!1),d=o();return El(l),VM(t,q(),r,d),d}finally{It(a)}}function zM(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function nn(e,n,t,i){let r=e+Xe,o=q(),s=Sp(o,r);return ty(o,r)?Jv(o,_o(),n,s.transform,t,i,s):s.transform(t,i)}function ey(e,n,t,i,r){let o=e+Xe,s=q(),a=Sp(s,o);return ty(s,o)?Xv(s,_o(),n,a.transform,t,i,r,a):a.transform(t,i,r)}function ty(e,n){return e[Z].data[n].pure}function vh(e,n){return rc(e,n)}var pp=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},ny=(()=>{class e{compileModuleSync(t){return new ep(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=A0(t),o=Q_(r.declarations).reduce((s,a)=>{let l=xi(a);return l&&s.push(new fr(l)),s},[]);return new pp(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var GM=(()=>{class e{zone=b(we);changeDetectionScheduler=b(so);applicationRef=b(oi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),WM=new P("",{factory:()=>!1});function iy({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new we(H(S({},oy()),{scheduleInRootZone:t})),[{provide:we,useFactory:e},{provide:ds,multi:!0,useFactory:()=>{let i=b(GM,{optional:!0});return()=>i.initialize()}},{provide:ds,multi:!0,useFactory:()=>{let i=b(YM);return()=>{i.initialize()}}},n===!0?{provide:b_,useValue:!0}:[],{provide:C_,useValue:t??y_}]}function ry(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,i=iy({ngZoneFactory:()=>{let r=oy(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Ri("NgZone_CoalesceEvent"),new we(r)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return po([{provide:WM,useValue:!0},{provide:jp,useValue:!1},i])}function oy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var YM=(()=>{class e{subscription=new Pe;initialized=!1;zone=b(we);pendingTasks=b(ci);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var QM=(()=>{class e{appRef=b(oi);taskService=b(ci);ngZone=b(we);zonelessEnabled=b(jp);tracing=b(wo,{optional:!0});disableScheduling=b(b_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ml):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(C_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Of||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Ug:D_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ml+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ug(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZM(){return typeof $localize<"u"&&$localize.locale||Vl}var xs=new P("",{providedIn:"root",factory:()=>b(xs,ie.Optional|ie.SkipSelf)||ZM()});var hp=new P(""),KM=new P("");function as(e){return!e.moduleRef}function JM(e){let n=as(e)?e.r3Injector:e.moduleRef.injector,t=n.get(we);return t.run(()=>{as(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(Rn,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),as(e)){let o=()=>n.destroy(),s=e.platformInjector.get(hp);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(hp);s.add(o),e.moduleRef.onDestroy(()=>{dl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return ex(i,t,()=>{let o=n.get(Bv);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(xs,Vl);if(OM(s||Vl),!n.get(KM,!0))return as(e)?n.get(oi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(as(e)){let l=n.get(oi);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return XM(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function XM(e,n){let t=e.injector.get(oi);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new A(-403,!1);n.push(e)}function ex(e,n,t){try{let i=t();return mr(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}var fl=null;function tx(e=[],n){return rt.create({name:n,providers:[{provide:Hl,useValue:"platform"},{provide:hp,useValue:new Set([()=>fl=null])},...e]})}function nx(e=[]){if(fl)return fl;let n=tx(e);return fl=n,QI(),ix(n),n}function ix(e){let n=e.get(Hp,null);Tt(e,()=>{n?.forEach(t=>t())})}var An=(()=>{class e{static __NG_ELEMENT_ID__=rx}return e})();function rx(e){return ox(mt(),q(),(e&16)===16)}function ox(e,n,t){if(mo(e)&&!t){let i=Tn(e.index,n);return new gs(i,i)}else if(e.type&175){let i=n[Lt];return new gs(i,n)}return null}var mp=class{constructor(){}supports(n){return Av(n)}create(n){return new gp(n)}},sx=(e,n)=>n,gp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||sx}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<m0(i,r,o)?t:i,a=m0(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,h=l-r;if(d!=h){for(let y=0;y<d;y++){let _=y<o.length?o[y]:o[y]=0,I=_+y;h<=I&&I<d&&(o[y]=_+1)}let g=s.previousIndex;o[g]=h-d}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!Av(n))throw new A(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,UI(n,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new _p(t,i),o,r)),n}_verifyReinsertion(n,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){let r=t===null?this._itHead:t._next;return n._next=r,n._prev=t,r===null?this._itTail=n:r._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new jl),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,i=n._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},_p=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},vp=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let t=n._prevDup,i=n._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},jl=class{map=new Map;put(n){let t=n.trackById,i=this.map.get(t);i||(i=new vp,this.map.set(t,i)),i.add(n)}get(n,t){let i=n,r=this.map.get(i);return r?r.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function m0(e,n,t){let i=e.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function g0(){return new yh([new mp])}var yh=(()=>{class e{factories;static \u0275prov=x({token:e,providedIn:"root",factory:g0});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||g0()),deps:[[e,new SD,new ED]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new A(901,!1)}}return e})();function sy(e){ge(8);try{let{rootComponent:n,appProviders:t,platformProviders:i}=e,r=nx(i),o=[iy({}),{provide:so,useExisting:QM},...t||[]],s=new kl({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return JM({r3Injector:s.injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}finally{ge(9)}}function Oi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Fn(e){return Pd(e)}function Io(e,n){return Rd(e,n?.equal)}var _0=class{[Zt];constructor(n){this[Zt]=n}destroy(){this[Zt].destroy()}};function cc(e,n){let t=xi(e),i=n.elementInjector||$l();return new fr(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function ay(e){let n=xi(e);if(!n)return null;let t=new fr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Re=new P("");var uy=null;function rn(){return uy}function bh(e){uy??=e}var Ts=class{},Rs=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(dy),providedIn:"platform"})}return e})(),Ch=new P(""),dy=(()=>{class e extends Rs{_location;_history;_doc=b(Re);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rn().getBaseHref(this._doc)}onPopState(t){let i=rn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=rn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function uc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function ly(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function vn(e){return e&&e[0]!=="?"?`?${e}`:e}var on=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(fc),providedIn:"root"})}return e})(),dc=new P(""),fc=(()=>{class e extends on{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uc(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+vn(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(k(Rs),k(dc,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ki=(()=>{class e{_subject=new ae;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=cx(ly(cy(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+vn(i))}normalize(t){return e.stripTrailingSlash(lx(this._basePath,cy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vn(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=vn;static joinWithSlash=uc;static stripTrailingSlash=ly;static \u0275fac=function(i){return new(i||e)(k(on))};static \u0275prov=x({token:e,factory:()=>ax(),providedIn:"root"})}return e})();function ax(){return new ki(k(on))}function lx(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function cy(e){return e.replace(/\/index.html$/,"")}function cx(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Cc=(()=>{class e extends on{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=uc(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+vn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+vn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(k(Rs),k(dc,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var _t=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(_t||{}),_e=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(_e||{}),Pt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Pt||{}),mi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gy(e){return tn(e)[qe.LocaleId]}function _y(e,n,t){let i=tn(e),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],o=sn(r,n);return sn(o,t)}function vy(e,n,t){let i=tn(e),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],o=sn(r,n);return sn(o,t)}function yy(e,n,t){let i=tn(e),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],o=sn(r,n);return sn(o,t)}function by(e,n){let i=tn(e)[qe.Eras];return sn(i,n)}function Ns(e,n){let t=tn(e);return sn(t[qe.DateFormat],n)}function Os(e,n){let t=tn(e);return sn(t[qe.TimeFormat],n)}function ks(e,n){let i=tn(e)[qe.DateTimeFormat];return sn(i,n)}function Ps(e,n){let t=tn(e),i=t[qe.NumberSymbols][n];if(typeof i>"u"){if(n===mi.CurrencyDecimal)return t[qe.NumberSymbols][mi.Decimal];if(n===mi.CurrencyGroup)return t[qe.NumberSymbols][mi.Group]}return i}function Cy(e){if(!e[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dy(e){let n=tn(e);return Cy(n),(n[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?Dh(i):[Dh(i[0]),Dh(i[1])])}function wy(e,n,t){let i=tn(e);Cy(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],o=sn(r,n)||[];return sn(o,t)||[]}function sn(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Dh(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var ux=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pc={},dx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ih(e,n,t,i){let r=bx(e);n=hi(t,n)||n;let s=[],a;for(;n;)if(a=dx.exec(n),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;n=h}else{s.push(n);break}let l=r.getTimezoneOffset();i&&(l=Sy(i,l),r=yx(r,i));let d="";return s.forEach(h=>{let g=_x(h);d+=g?g(r,t,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function vc(e,n,t){let i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function hi(e,n){let t=gy(e);if(pc[t]??={},pc[t][n])return pc[t][n];let i="";switch(n){case"shortDate":i=Ns(e,Pt.Short);break;case"mediumDate":i=Ns(e,Pt.Medium);break;case"longDate":i=Ns(e,Pt.Long);break;case"fullDate":i=Ns(e,Pt.Full);break;case"shortTime":i=Os(e,Pt.Short);break;case"mediumTime":i=Os(e,Pt.Medium);break;case"longTime":i=Os(e,Pt.Long);break;case"fullTime":i=Os(e,Pt.Full);break;case"short":let r=hi(e,"shortTime"),o=hi(e,"shortDate");i=hc(ks(e,Pt.Short),[r,o]);break;case"medium":let s=hi(e,"mediumTime"),a=hi(e,"mediumDate");i=hc(ks(e,Pt.Medium),[s,a]);break;case"long":let l=hi(e,"longTime"),d=hi(e,"longDate");i=hc(ks(e,Pt.Long),[l,d]);break;case"full":let h=hi(e,"fullTime"),g=hi(e,"fullDate");i=hc(ks(e,Pt.Full),[h,g]);break}return i&&(pc[t][n]=i),i}function hc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return n!=null&&i in n?n[i]:t})),e}function yn(e,n,t="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function fx(e,n){return yn(e,3).substring(0,n)}function Ge(e,n,t=0,i=!1,r=!1){return function(o,s){let a=px(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return fx(a,n);let l=Ps(s,mi.MinusSign);return yn(a,n,l,i,r)}}function px(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Ie(e,n,t=_t.Format,i=!1){return function(r,o){return hx(r,o,e,n,t,i)}}function hx(e,n,t,i,r,o){switch(t){case 2:return yy(n,r,i)[e.getMonth()];case 1:return vy(n,r,i)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let d=Dy(n),h=wy(n,r,i),g=d.findIndex(y=>{if(Array.isArray(y)){let[_,I]=y,R=s>=_.hours&&a>=_.minutes,V=s<I.hours||s===I.hours&&a<I.minutes;if(_.hours<I.hours){if(R&&V)return!0}else if(R||V)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(g!==-1)return h[g]}return _y(n,r,i)[s<12?0:1];case 3:return by(n,i)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function mc(e){return function(n,t,i){let r=-1*i,o=Ps(t,mi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case 0:return(r>=0?"+":"")+yn(s,2,o)+yn(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+yn(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var mx=0,_c=4;function gx(e){let n=vc(e,mx,1).getDay();return vc(e,0,1+(n<=_c?_c:_c+7)-n)}function Ey(e){let n=e.getDay(),t=n===0?-3:_c-n;return vc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function wh(e,n=!1){return function(t,i){let r;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=Ey(t),s=gx(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return yn(r,e,Ps(i,mi.MinusSign))}}function gc(e,n=!1){return function(t,i){let o=Ey(t).getFullYear();return yn(o,e,Ps(i,mi.MinusSign),n)}}var Eh={};function _x(e){if(Eh[e])return Eh[e];let n;switch(e){case"G":case"GG":case"GGG":n=Ie(3,_e.Abbreviated);break;case"GGGG":n=Ie(3,_e.Wide);break;case"GGGGG":n=Ie(3,_e.Narrow);break;case"y":n=Ge(0,1,0,!1,!0);break;case"yy":n=Ge(0,2,0,!0,!0);break;case"yyy":n=Ge(0,3,0,!1,!0);break;case"yyyy":n=Ge(0,4,0,!1,!0);break;case"Y":n=gc(1);break;case"YY":n=gc(2,!0);break;case"YYY":n=gc(3);break;case"YYYY":n=gc(4);break;case"M":case"L":n=Ge(1,1,1);break;case"MM":case"LL":n=Ge(1,2,1);break;case"MMM":n=Ie(2,_e.Abbreviated);break;case"MMMM":n=Ie(2,_e.Wide);break;case"MMMMM":n=Ie(2,_e.Narrow);break;case"LLL":n=Ie(2,_e.Abbreviated,_t.Standalone);break;case"LLLL":n=Ie(2,_e.Wide,_t.Standalone);break;case"LLLLL":n=Ie(2,_e.Narrow,_t.Standalone);break;case"w":n=wh(1);break;case"ww":n=wh(2);break;case"W":n=wh(1,!0);break;case"d":n=Ge(2,1);break;case"dd":n=Ge(2,2);break;case"c":case"cc":n=Ge(7,1);break;case"ccc":n=Ie(1,_e.Abbreviated,_t.Standalone);break;case"cccc":n=Ie(1,_e.Wide,_t.Standalone);break;case"ccccc":n=Ie(1,_e.Narrow,_t.Standalone);break;case"cccccc":n=Ie(1,_e.Short,_t.Standalone);break;case"E":case"EE":case"EEE":n=Ie(1,_e.Abbreviated);break;case"EEEE":n=Ie(1,_e.Wide);break;case"EEEEE":n=Ie(1,_e.Narrow);break;case"EEEEEE":n=Ie(1,_e.Short);break;case"a":case"aa":case"aaa":n=Ie(0,_e.Abbreviated);break;case"aaaa":n=Ie(0,_e.Wide);break;case"aaaaa":n=Ie(0,_e.Narrow);break;case"b":case"bb":case"bbb":n=Ie(0,_e.Abbreviated,_t.Standalone,!0);break;case"bbbb":n=Ie(0,_e.Wide,_t.Standalone,!0);break;case"bbbbb":n=Ie(0,_e.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ie(0,_e.Abbreviated,_t.Format,!0);break;case"BBBB":n=Ie(0,_e.Wide,_t.Format,!0);break;case"BBBBB":n=Ie(0,_e.Narrow,_t.Format,!0);break;case"h":n=Ge(3,1,-12);break;case"hh":n=Ge(3,2,-12);break;case"H":n=Ge(3,1);break;case"HH":n=Ge(3,2);break;case"m":n=Ge(4,1);break;case"mm":n=Ge(4,2);break;case"s":n=Ge(5,1);break;case"ss":n=Ge(5,2);break;case"S":n=Ge(6,1);break;case"SS":n=Ge(6,2);break;case"SSS":n=Ge(6,3);break;case"Z":case"ZZ":case"ZZZ":n=mc(0);break;case"ZZZZZ":n=mc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=mc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=mc(2);break;default:return null}return Eh[e]=n,n}function Sy(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function vx(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function yx(e,n,t){let r=e.getTimezoneOffset(),o=Sy(n,r);return vx(e,-1*(o-r))}function bx(e){if(fy(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,o=1,s=1]=e.split("-").map(a=>+a);return vc(r,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(ux))return Cx(i)}let n=new Date(e);if(!fy(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function Cx(e){let n=new Date(0),t=0,i=0,r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-i,l=Number(e[6]||0),d=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,d),n}function fy(e){return e instanceof Date&&!isNaN(e.valueOf())}var Sh=/\s+/,py=[],bn=(()=>{class e{_ngEl;_renderer;initialClasses=py;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Sh):py}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Sh):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Sh).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(D(ze),D(mn))};static \u0275dir=de({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var yc=class{$implicit;ngForOf;index;count;constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Be=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new yc(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),hy(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);hy(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||e)(D(fi),D(ri),D(yh))};static \u0275dir=de({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function hy(e,n){e.context.$implicit=n.item}var J=(()=>{class e{_viewContainer;_context=new bc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){my(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){my(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||e)(D(fi),D(ri))};static \u0275dir=de({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),bc=class{$implicit=null;ngIf=null};function my(e,n){if(e&&!e.createEmbeddedView)throw new A(2020,!1)}var Mh=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=t===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})();function Iy(e,n){return new A(2100,!1)}var Dx="mediumDate",My=new P(""),xy=new P(""),Bt=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??Dx,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ih(t,s,o||this.locale,a)}catch(s){throw Iy(e,s.message)}}static \u0275fac=function(i){return new(i||e)(D(xs,16),D(My,24),D(xy,24))};static \u0275pipe=uh({name:"date",type:e,pure:!0})}return e})();var xh=(()=>{class e{transform(t,i,r){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw Iy(e,t);return t.slice(i,r)}static \u0275fac=function(i){return new(i||e)};static \u0275pipe=uh({name:"slice",type:e,pure:!1})}return e})();var ve=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})();function As(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Th="browser",Ty="server";function Dc(e){return e===Ty}var vr=class{};var Ry=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new Rh(b(Re),window)})}return e})(),Rh=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=Ix(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function Ix(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var Sc=new P(""),Ph=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||e)(k(Sc),k(we))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Fs=class{_doc;constructor(n){this._doc=n}manager},wc="ng-app-id";function Ny(e){for(let n of e)n.remove()}function Oy(e,n){let t=n.createElement("style");return t.textContent=e,t}function Mx(e,n,t,i){let r=e.head?.querySelectorAll(`style[${wc}="${n}"],link[${wc}="${n}"]`);if(r)for(let o of r)o.removeAttribute(wc),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Oh(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Ah=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Dc(o),Mx(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,Oy);i?.forEach(r=>this.addUsage(r,this.external,Oh))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(Ny(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Ny(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,Oy(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Oh(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(wc,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||e)(k(Re),k(Zl),k($p,8),k(ui))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Nh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fh=/%COMP%/g;var Py="%COMP%",xx=`_nghost-${Py}`,Tx=`_ngcontent-${Py}`,Rx=!0,Nx=new P("",{providedIn:"root",factory:()=>Rx});function Ox(e){return Tx.replace(Fh,e)}function kx(e){return xx.replace(Fh,e)}function Ay(e,n){return n.map(t=>t.replace(Fh,e))}var Lh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l,d=null,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=h,this.platformIsServer=Dc(a),this.defaultRenderer=new Ls(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Nn.ShadowDom&&(i=H(S({},i),{encapsulation:Nn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Ec?r.applyToHost(t):r instanceof Vs&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer,y=this.tracingService;switch(i.encapsulation){case Nn.Emulated:o=new Ec(l,d,i,this.appId,h,s,a,g,y);break;case Nn.ShadowDom:return new kh(l,d,t,i,s,a,this.nonce,g,y);default:o=new Vs(l,d,i,h,s,a,g,y);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||e)(k(Ph),k(Ah),k(Zl),k(Nx),k(Re),k(ui),k(we),k($p),k(wo,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Ls=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,i,r,o){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Nh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(ky(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(ky(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new A(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=Nh[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=Nh[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(ii.DashCase|ii.Important)?n.style.setProperty(t,i,r&ii.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&ii.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i,r){if(typeof n=="string"&&(n=rn().getGlobalEventTarget(this.doc,n),!n))throw new A(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,r)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function ky(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var kh=class extends Ls{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,i,r,o,s,a,l,d){super(n,o,s,l,d),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=Ay(r.id,h);for(let y of h){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=y,this.shadowRoot.appendChild(_)}let g=r.getExternalStyles?.();if(g)for(let y of g){let _=Oh(y,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Vs=class extends Ls{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,i,r,o,s,a,l,d){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let h=i.styles;this.styles=d?Ay(d,h):h,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ec=class extends Vs{contentAttr;hostAttr;constructor(n,t,i,r,o,s,a,l,d){let h=r+"-"+i.id;super(n,t,i,o,s,a,l,d,h),this.contentAttr=Ox(h),this.hostAttr=kx(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}};var Ic=class e extends Ts{supportsDOMEvents=!0;static makeCurrent(){bh(new e)}onAndCancel(n,t,i,r){return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=Px();return t==null?null:Ax(t)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return As(document.cookie,n)}},js=null;function Px(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}function Ax(e){return new URL(e,document.baseURI).pathname}var Fx=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Ly=(()=>{class e extends Fs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(k(Re))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Fy=["alt","control","meta","shift"],Lx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vx={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Vy=(()=>{class e extends Fs{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Fy.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=Lx[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Fy.forEach(s=>{if(s!==r){let a=Vx[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||e)(k(Re))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function Vh(e,n){return sy(S({rootComponent:e},jx(n)))}function jx(e){return{appProviders:[...qx,...e?.providers??[]],platformProviders:$x}}function Bx(){Ic.makeCurrent()}function Ux(){return new Rn}function Hx(){return O_(document),document}var $x=[{provide:ui,useValue:Th},{provide:Hp,useValue:Bx,multi:!0},{provide:Re,useFactory:Hx}];var qx=[{provide:Hl,useValue:"root"},{provide:Rn,useFactory:Ux},{provide:Sc,useClass:Ly,multi:!0,deps:[Re]},{provide:Sc,useClass:Vy,multi:!0,deps:[Re]},Lh,Ah,Ph,{provide:co,useExisting:Lh},{provide:vr,useClass:Fx},[]];var xo=class{},Bs=class{},st=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,t);let r=(n.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(n,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var xc=class{encodeKey(n){return jy(n)}encodeValue(n){return jy(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function zx(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var Gx=/%(\d[a-f0-9])/gi,Wx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jy(e){return encodeURIComponent(e).replace(Gx,(n,t)=>Wx[t]??n)}function Mc(e){return`${e}`}var At=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new xc,n.fromString){if(n.fromObject)throw new A(2805,!1);this.map=zx(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let i=n.fromObject[t],r=Array.isArray(i)?i.map(Mc):[Mc(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Mc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Mc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Tc=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Yx(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function By(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Uy(e){return typeof Blob<"u"&&e instanceof Blob}function Hy(e){return typeof FormData<"u"&&e instanceof FormData}function Qx(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var $y="Content-Type",qy="Accept",Gy="X-Request-URL",Wy="text/plain",Yy="application/json",Zx=`${Yy}, ${Wy}, */*`,Mo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,i,r){this.url=t,this.method=n.toUpperCase();let o;if(Yx(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new st,this.context??=new Tc,!this.params)this.params=new At,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||By(this.body)||Uy(this.body)||Hy(this.body)||Qx(this.body)?this.body:this.body instanceof At?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Hy(this.body)?null:Uy(this.body)?this.body.type||null:By(this.body)?null:typeof this.body=="string"?Wy:this.body instanceof At?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Yy:null}clone(n={}){let t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,d=n.headers||this.headers,h=n.params||this.params,g=n.context??this.context;return n.setHeaders!==void 0&&(d=Object.keys(n.setHeaders).reduce((y,_)=>y.set(_,n.setHeaders[_]),d)),n.setParams&&(h=Object.keys(n.setParams).reduce((y,_)=>y.set(_,n.setParams[_]),h)),new e(t,i,s,{params:h,headers:d,context:g,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},yr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(yr||{}),To=class{headers;status;statusText;url;ok;type;constructor(n,t=200,i="OK"){this.headers=n.headers||new st,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Rc=class e extends To{constructor(n={}){super(n)}type=yr.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Us=class e extends To{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=yr.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Pi=class extends To{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Kx=200,Jx=204;function jh(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var vt=(()=>{class e{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Mo)o=t;else{let l;r.headers instanceof st?l=r.headers:l=new st(r.headers);let d;r.params&&(r.params instanceof At?d=r.params:d=new At({fromObject:r.params})),o=new Mo(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=F(o).pipe(Sn(l=>this.handler.handle(l)));if(t instanceof Mo||r.observe==="events")return s;let a=s.pipe(Ae(l=>l instanceof Us));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Q(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new A(2806,!1);return l.body}));case"blob":return a.pipe(Q(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new A(2807,!1);return l.body}));case"text":return a.pipe(Q(l=>{if(l.body!==null&&typeof l.body!="string")throw new A(2808,!1);return l.body}));case"json":default:return a.pipe(Q(l=>l.body))}case"response":return a;default:throw new A(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new At().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,jh(r,i))}post(t,i,r={}){return this.request("POST",t,jh(r,i))}put(t,i,r={}){return this.request("PUT",t,jh(r,i))}static \u0275fac=function(i){return new(i||e)(k(xo))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var Xx=new P("");function Qy(e,n){return n(e)}function eT(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}function tT(e,n,t){return(i,r)=>Tt(t,()=>n(i,o=>e(o,r)))}var Zy=new P(""),Oc=new P(""),Ky=new P(""),Uh=new P("",{providedIn:"root",factory:()=>!0});function nT(){let e=null;return(n,t)=>{e===null&&(e=(b(Zy,{optional:!0})??[]).reduceRight(eT,Qy));let i=b(ci);if(b(Uh)){let o=i.add();return e(n,t).pipe(St(()=>i.remove(o)))}else return e(n,t)}}var Nc=(()=>{class e extends xo{backend;injector;chain=null;pendingTasks=b(ci);contributeToStability=b(Uh);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Oc),...this.injector.get(Ky,[])]));this.chain=i.reduceRight((r,o)=>tT(r,o,this.injector),Qy)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(St(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(k(Bs),k(Je))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var iT=/^\)\]\}',?\n/,rT=RegExp(`^${Gy}:`,"m");function oT(e){return"responseURL"in e&&e.responseURL?e.responseURL:rT.test(e.getAllResponseHeaders())?e.getResponseHeader(Gy):null}var Bh=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new A(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?be(i.\u0275loadImpl()):F(null)).pipe(Fe(()=>new W(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((R,V)=>s.setRequestHeader(R,V.join(","))),t.headers.has(qy)||s.setRequestHeader(qy,Zx),!t.headers.has($y)){let R=t.detectContentTypeHeader();R!==null&&s.setRequestHeader($y,R)}if(t.responseType){let R=t.responseType.toLowerCase();s.responseType=R!=="json"?R:"text"}let a=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let R=s.statusText||"OK",V=new st(s.getAllResponseHeaders()),ne=oT(s)||t.url;return l=new Rc({headers:V,status:s.status,statusText:R,url:ne}),l},h=()=>{let{headers:R,status:V,statusText:ne,url:un}=d(),$e=null;V!==Jx&&($e=typeof s.response>"u"?s.responseText:s.response),V===0&&(V=$e?Kx:0);let _d=V>=200&&V<300;if(t.responseType==="json"&&typeof $e=="string"){let pC=$e;$e=$e.replace(iT,"");try{$e=$e!==""?JSON.parse($e):null}catch(hC){$e=pC,_d&&(_d=!1,$e={error:hC,text:$e})}}_d?(o.next(new Us({body:$e,headers:R,status:V,statusText:ne,url:un||void 0})),o.complete()):o.error(new Pi({error:$e,headers:R,status:V,statusText:ne,url:un||void 0}))},g=R=>{let{url:V}=d(),ne=new Pi({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:V||void 0});o.error(ne)},y=!1,_=R=>{y||(o.next(d()),y=!0);let V={type:yr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(V.total=R.total),t.responseType==="text"&&s.responseText&&(V.partialText=s.responseText),o.next(V)},I=R=>{let V={type:yr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(V.total=R.total),o.next(V)};return s.addEventListener("load",h),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",I)),s.send(a),o.next({type:yr.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",h),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",I)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(k(vr))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Jy=new P(""),sT="XSRF-TOKEN",aT=new P("",{providedIn:"root",factory:()=>sT}),lT="X-XSRF-TOKEN",cT=new P("",{providedIn:"root",factory:()=>lT}),Hs=class{},uT=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=As(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||e)(k(Re),k(ui),k(aT))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function dT(e,n){let t=e.url.toLowerCase();if(!b(Jy)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let i=b(Hs).getToken(),r=b(cT);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var kc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(kc||{});function Xy(e,n){return{\u0275kind:e,\u0275providers:n}}function Pc(...e){let n=[vt,Bh,Nc,{provide:xo,useExisting:Nc},{provide:Bs,useFactory:()=>b(Xx,{optional:!0})??b(Bh)},{provide:Oc,useValue:dT,multi:!0},{provide:Jy,useValue:!0},{provide:Hs,useClass:uT}];for(let t of e)n.push(...t.\u0275providers);return po(n)}function Hh(e){return Xy(kc.Interceptors,e.map(n=>({provide:Oc,useValue:n,multi:!0})))}var zy=new P("");function eb(){return Xy(kc.LegacyInterceptors,[{provide:zy,useFactory:nT},{provide:Oc,useExisting:zy,multi:!0}])}var $h=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({providers:[Pc(eb())]})}return e})();var tb=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||e)(k(Re))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var K="primary",ta=Symbol("RouteTitle"),Yh=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function wr(e){return new Yh(e)}function cb(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function pT(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ln(e[t],n[t]))return!1;return!0}function Ln(e,n){let t=e?Qh(e):void 0,i=n?Qh(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!ub(e[r],n[r]))return!1;return!0}function Qh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function ub(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function db(e){return e.length>0?e[e.length-1]:null}function ji(e){return Gd(e)?e:mr(e)?be(Promise.resolve(e)):F(e)}var hT={exact:pb,subset:hb},fb={exact:mT,subset:gT,ignored:()=>!0};function nb(e,n,t){return hT[t.paths](e.root,n.root,t.matrixParams)&&fb[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function mT(e,n){return Ln(e,n)}function pb(e,n,t){if(!Cr(e.segments,n.segments)||!Lc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!pb(e.children[i],n.children[i],t))return!1;return!0}function gT(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>ub(e[t],n[t]))}function hb(e,n,t){return mb(e,n,n.segments,t)}function mb(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!Cr(r,t)||n.hasChildren()||!Lc(r,t,i))}else if(e.segments.length===t.length){if(!Cr(e.segments,t)||!Lc(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!hb(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Cr(e.segments,r)||!Lc(e.segments,r,i)||!e.children[K]?!1:mb(e.children[K],n,o,i)}}function Lc(e,n,t){return n.every((i,r)=>fb[t](e[r].parameters,i.parameters))}var jn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new pe([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=wr(this.queryParams),this._queryParamMap}toString(){return yT.serialize(this)}},pe=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vc(this)}},Ai=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=wr(this.parameters),this._parameterMap}toString(){return _b(this)}};function _T(e,n){return Cr(e,n)&&e.every((t,i)=>Ln(t.parameters,n[i].parameters))}function Cr(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function vT(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===K&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==K&&(t=t.concat(n(r,i)))}),t}var Er=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>new Fi,providedIn:"root"})}return e})(),Fi=class{parse(n){let t=new Kh(n);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${$s(n.root,!0)}`,i=DT(n.queryParams),r=typeof n.fragment=="string"?`#${bT(n.fragment)}`:"";return`${t}${i}${r}`}},yT=new Fi;function Vc(e){return e.segments.map(n=>_b(n)).join("/")}function $s(e,n){if(!e.hasChildren())return Vc(e);if(n){let t=e.children[K]?$s(e.children[K],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==K&&i.push(`${r}:${$s(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=vT(e,(i,r)=>r===K?[$s(e.children[K],!1)]:[`${r}:${$s(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[K]!=null?`${Vc(e)}/${t[0]}`:`${Vc(e)}/(${t.join("//")})`}}function gb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ac(e){return gb(e).replace(/%3B/gi,";")}function bT(e){return encodeURI(e)}function Zh(e){return gb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jc(e){return decodeURIComponent(e)}function ib(e){return jc(e.replace(/\+/g,"%20"))}function _b(e){return`${Zh(e.path)}${CT(e.parameters)}`}function CT(e){return Object.entries(e).map(([n,t])=>`;${Zh(n)}=${Zh(t)}`).join("")}function DT(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Ac(t)}=${Ac(r)}`).join("&"):`${Ac(t)}=${Ac(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var wT=/^[^\/()?;#]+/;function qh(e){let n=e.match(wT);return n?n[0]:""}var ET=/^[^\/()?;=#]+/;function ST(e){let n=e.match(ET);return n?n[0]:""}var IT=/^[^=?&#]+/;function MT(e){let n=e.match(IT);return n?n[0]:""}var xT=/^[^&#]+/;function TT(e){let n=e.match(xT);return n?n[0]:""}var Kh=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[K]=new pe(n,t)),i}parseSegment(){let n=qh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(n),new Ai(jc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=ST(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=qh(this.remaining);r&&(i=r,this.capture(i))}n[jc(t)]=jc(i)}parseQueryParam(n){let t=MT(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=TT(this.remaining);s&&(i=s,this.capture(i))}let r=ib(t),o=ib(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=qh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new A(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=K);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[K]:new pe([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new A(4011,!1)}};function vb(e){return e.segments.length>0?new pe([],{[K]:e}):e}function yb(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=yb(r);if(i===K&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new pe(e.segments,n);return RT(t)}function RT(e){if(e.numberOfChildren===1&&e.children[K]){let n=e.children[K];return new pe(e.segments.concat(n.segments),n.children)}return e}function Li(e){return e instanceof jn}function bb(e,n,t=null,i=null){let r=Cb(e);return Db(r,n,t,i)}function Cb(e){let n;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new pe(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=vb(i);return n??r}function Db(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return zh(r,r,r,t,i);let o=NT(n);if(o.toRoot())return zh(r,r,new pe([],{}),t,i);let s=OT(o,r,e),a=s.processChildren?zs(s.segmentGroup,s.index,o.commands):Eb(s.segmentGroup,s.index,o.commands);return zh(r,s.segmentGroup,a,t,i)}function Uc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ws(e){return typeof e=="object"&&e!=null&&e.outlets}function zh(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;e===n?s=t:s=wb(e,n,t);let a=vb(yb(s));return new jn(a,o,r)}function wb(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=wb(o,n,t)}),new pe(e.segments,i)}var Hc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Uc(i[0]))throw new A(4003,!1);let r=i.find(Ws);if(r&&r!==db(i))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Hc(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Hc(t,n,i)}var Oo=class{segmentGroup;processChildren;index;constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function OT(e,n,t){if(e.isAbsolute)return new Oo(n,!0,0);if(!t)return new Oo(n,!1,NaN);if(t.parent===null)return new Oo(t,!0,0);let i=Uc(e.commands[0])?0:1,r=t.segments.length-1+i;return kT(t,r,e.numberOfDoubleDots)}function kT(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new A(4005,!1);r=i.segments.length}return new Oo(i,!1,r-o)}function PT(e){return Ws(e[0])?e[0].outlets:{[K]:e}}function Eb(e,n,t){if(e??=new pe([],{}),e.segments.length===0&&e.hasChildren())return zs(e,n,t);let i=AT(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new pe(e.segments.slice(0,i.pathIndex),{});return o.children[K]=new pe(e.segments.slice(i.pathIndex),e.children),zs(o,0,r)}else return i.match&&r.length===0?new pe(e.segments,{}):i.match&&!e.hasChildren()?Jh(e,n,t):i.match?zs(e,0,r):Jh(e,n,t)}function zs(e,n,t){if(t.length===0)return new pe(e.segments,{});{let i=PT(t),r={};if(Object.keys(i).some(o=>o!==K)&&e.children[K]&&e.numberOfChildren===1&&e.children[K].segments.length===0){let o=zs(e.children[K],n,t);return new pe(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Eb(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new pe(e.segments,r)}}function AT(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(Ws(a))break;let l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!ob(l,d,s))return o;i+=2}else{if(!ob(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Jh(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(Ws(o)){let l=FT(o.outlets);return new pe(i,l)}if(r===0&&Uc(t[0])){let l=e.segments[n];i.push(new Ai(l.path,rb(t[0]))),r++;continue}let s=Ws(o)?o.outlets[K]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Uc(a)?(i.push(new Ai(s,rb(a))),r+=2):(i.push(new Ai(s,{})),r++)}return new pe(i,{})}function FT(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=Jh(new pe([],{}),0,i))}),n}function rb(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function ob(e,n,t){return e==t.path&&Ln(n,t.parameters)}var Bc="imperative",et=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(et||{}),$t=class{id;url;constructor(n,t){this.id=n,this.url=t}},Vi=class extends $t{type=et.NavigationStart;navigationTrigger;restoredState;constructor(n,t,i="imperative",r=null){super(n,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dt=class extends $t{urlAfterRedirects;type=et.NavigationEnd;constructor(n,t,i){super(n,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ft=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ft||{}),Po=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Po||{}),Vn=class extends $t{reason;code;type=et.NavigationCancel;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bn=class extends $t{reason;code;type=et.NavigationSkipped;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}},Ao=class extends $t{error;target;type=et.NavigationError;constructor(n,t,i,r){super(n,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ys=class extends $t{urlAfterRedirects;state;type=et.RoutesRecognized;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$c=class extends $t{urlAfterRedirects;state;type=et.GuardsCheckStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qc=class extends $t{urlAfterRedirects;state;shouldActivate;type=et.GuardsCheckEnd;constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zc=class extends $t{urlAfterRedirects;state;type=et.ResolveStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gc=class extends $t{urlAfterRedirects;state;type=et.ResolveEnd;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wc=class{route;type=et.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yc=class{route;type=et.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qc=class{snapshot;type=et.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zc=class{snapshot;type=et.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kc=class{snapshot;type=et.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jc=class{snapshot;type=et.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fo=class{routerEvent;position;anchor;type=et.Scroll;constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Qs=class{},Lo=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function LT(e,n){return e.providers&&!e._injector&&(e._injector=Ss(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Cn(e){return e.outlet||K}function VT(e,n){let t=e.filter(i=>Cn(i)===n);return t.push(...e.filter(i=>Cn(i)!==n)),t}function na(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Xc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return na(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Sr(this.rootInjector)}},Sr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Xc(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||e)(k(Je))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eu=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Xh(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=Xh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=em(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return em(n,this._root).map(t=>t.value)}};function Xh(e,n){if(e===n.value)return n;for(let t of n.children){let i=Xh(e,t);if(i)return i}return null}function em(e,n){if(e===n.value)return[n];for(let t of n.children){let i=em(e,t);if(i.length)return i.unshift(n),i}return[]}var Ht=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function No(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Zs=class extends eu{snapshot;constructor(n,t){super(n),this.snapshot=t,lm(this,n)}toString(){return this.snapshot.toString()}};function Sb(e){let n=jT(e),t=new le([new Ai("",{})]),i=new le({}),r=new le({}),o=new le({}),s=new le(""),a=new at(t,i,o,s,r,K,e,n.root);return a.snapshot=n.root,new Zs(new Ht(a,[]),n)}function jT(e){let n={},t={},i={},r="",o=new Dr([],n,i,r,t,K,e,null,{});return new Ks("",new Ht(o,[]))}var at=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Q(d=>d[ta]))??F(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(n=>wr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(n=>wr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function tu(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:S(S({},n.params),e.params),data:S(S({},n.data),e.data),resolve:S(S(S(S({},e.data),n.data),r?.data),e._resolvedData)}:i={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},r&&Mb(r)&&(i.resolve[ta]=r.title),i}var Dr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ta]}constructor(n,t,i,r,o,s,a,l,d){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Ks=class extends eu{url;constructor(n,t){super(t),this.url=n,lm(this,t)}toString(){return Ib(this._root)}};function lm(e,n){n.value._routerState=e,n.children.forEach(t=>lm(e,t))}function Ib(e){let n=e.children.length>0?` { ${e.children.map(Ib).join(", ")} } `:"";return`${e.value}${n}`}function Gh(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ln(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ln(n.params,t.params)||e.paramsSubject.next(t.params),pT(n.url,t.url)||e.urlSubject.next(t.url),Ln(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function tm(e,n){let t=Ln(e.params,n.params)&&_T(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||tm(e.parent,n.parent))}function Mb(e){return typeof e.title=="string"||e.title===null}var xb=new P(""),ia=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new me;deactivateEvents=new me;attachEvents=new me;detachEvents=new me;routerOutletData=E_(void 0);parentContexts=b(Sr);location=b(fi);changeDetector=b(An);inputBinder=b(ra,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new nm(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ct]})}return e})(),nm=class{route;childContexts;parent;outletData;constructor(n,t,i,r){this.route=n,this.childContexts=t,this.parent=i,this.outletData=r}get(n,t){return n===at?this.route:n===Sr?this.childContexts:n===xb?this.outletData:this.parent.get(n,t)}},ra=new P(""),cm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Yr([i.queryParams,i.params,i.data]).pipe(Fe(([o,s,a],l)=>(a=S(S(S({},o),s),a),l===0?F(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=ay(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function BT(e,n,t){let i=Js(e,n._root,t?t._root:void 0);return new Zs(i,n)}function Js(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=UT(e,n,t);return new Ht(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Js(e,a)),s}}let i=HT(n.value),r=n.children.map(o=>Js(e,o));return new Ht(i,r)}}function UT(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Js(e,i,r);return Js(e,i)})}function HT(e){return new at(new le(e.url),new le(e.params),new le(e.queryParams),new le(e.fragment),new le(e.data),e.outlet,e.component,e)}var Vo=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Tb="ngNavigationCancelingError";function nu(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=Li(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=Rb(!1,Ft.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Rb(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Tb]=!0,t.cancellationCode=n,t}function $T(e){return Nb(e)&&Li(e.url)}function Nb(e){return!!e&&e[Tb]}var qT=(e,n,t,i)=>Q(r=>(new im(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),im=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Gh(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=No(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=No(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=No(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=No(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Jc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Zc(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(Gh(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Gh(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},iu=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ko=class{component;route;constructor(n,t){this.component=n,this.route=t}};function zT(e,n,t){let i=e._root,r=n?n._root:null;return qs(i,r,t,[i.value])}function GT(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Bo(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!E0(e)?e:n.get(e):i}function qs(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=No(n);return e.children.forEach(s=>{WT(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Gs(a,t.getContext(s),r)),r}function WT(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=YT(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new iu(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qs(e,n,a?a.children:null,i,r):qs(e,n,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ko(a.outlet.component,s))}else s&&Gs(n,a,r),r.canActivateChecks.push(new iu(i)),o.component?qs(e,null,a?a.children:null,i,r):qs(e,null,t,i,r);return r}function YT(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Cr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Cr(e.url,n.url)||!Ln(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tm(e,n)||!Ln(e.queryParams,n.queryParams);case"paramsChange":default:return!tm(e,n)}}function Gs(e,n,t){let i=No(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?Gs(s,n.children.getContext(o),t):Gs(s,null,t):Gs(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new ko(n.outlet.component,r)):t.canDeactivateChecks.push(new ko(null,r)):t.canDeactivateChecks.push(new ko(null,r))}function oa(e){return typeof e=="function"}function QT(e){return typeof e=="boolean"}function ZT(e){return e&&oa(e.canLoad)}function KT(e){return e&&oa(e.canActivate)}function JT(e){return e&&oa(e.canActivateChild)}function XT(e){return e&&oa(e.canDeactivate)}function eR(e){return e&&oa(e.canMatch)}function Ob(e){return e instanceof Jn||e?.name==="EmptyError"}var Fc=Symbol("INITIAL_VALUE");function jo(){return Fe(e=>Yr(e.map(n=>n.pipe(Et(1),el(Fc)))).pipe(Q(n=>{for(let t of n)if(t!==!0){if(t===Fc)return Fc;if(t===!1||tR(t))return t}return!0}),Ae(n=>n!==Fc),Et(1)))}function tR(e){return Li(e)||e instanceof Vo}function nR(e,n){return Te(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F(H(S({},t),{guardsResult:!0})):iR(s,i,r,e).pipe(Te(a=>a&&QT(a)?rR(i,o,e,n):F(a)),Q(a=>H(S({},t),{guardsResult:a})))})}function iR(e,n,t,i){return be(e).pipe(Te(r=>cR(r.component,r.route,t,n,i)),Xn(r=>r!==!0,!0))}function rR(e,n,t,i){return be(n).pipe(Sn(r=>Ei(sR(r.route.parent,i),oR(r.route,i),lR(e,r.path,t),aR(e,r.route,t))),Xn(r=>r!==!0,!0))}function oR(e,n){return e!==null&&n&&n(new Kc(e)),F(!0)}function sR(e,n){return e!==null&&n&&n(new Qc(e)),F(!0)}function aR(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return F(!0);let r=i.map(o=>Ka(()=>{let s=na(n)??t,a=Bo(o,s),l=KT(a)?a.canActivate(n,e):Tt(s,()=>a(n,e));return ji(l).pipe(Xn())}));return F(r).pipe(jo())}function lR(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>GT(s)).filter(s=>s!==null).map(s=>Ka(()=>{let a=s.guards.map(l=>{let d=na(s.node)??t,h=Bo(l,d),g=JT(h)?h.canActivateChild(i,e):Tt(d,()=>h(i,e));return ji(g).pipe(Xn())});return F(a).pipe(jo())}));return F(o).pipe(jo())}function cR(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let l=na(n)??r,d=Bo(a,l),h=XT(d)?d.canDeactivate(e,n,t,i):Tt(l,()=>d(e,n,t,i));return ji(h).pipe(Xn())});return F(s).pipe(jo())}function uR(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return F(!0);let o=r.map(s=>{let a=Bo(s,e),l=ZT(a)?a.canLoad(n,t):Tt(e,()=>a(n,t));return ji(l)});return F(o).pipe(jo(),kb(i))}function kb(e){return Ud(Le(n=>{if(typeof n!="boolean")throw nu(e,n)}),Q(n=>n===!0))}function dR(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return F(!0);let o=r.map(s=>{let a=Bo(s,e),l=eR(a)?a.canMatch(n,t):Tt(e,()=>a(n,t));return ji(l)});return F(o).pipe(jo(),kb(i))}var Xs=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},ea=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Ro(e){return Oe(new Xs(e))}function fR(e){return Oe(new A(4e3,!1))}function pR(e){return Oe(Rb(!1,Ft.GuardRejected))}var rm=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return F(i);if(r.numberOfChildren>1||!r.children[K])return fR(`${n.redirectTo}`);r=r.children[K]}}applyRedirectCommands(n,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:h,url:g,outlet:y,params:_,data:I,title:R}=r,V=Tt(o,()=>a({params:_,data:I,queryParams:l,fragment:d,routeConfig:h,url:g,outlet:y,title:R}));if(V instanceof jn)throw new ea(V);t=V}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t[0]==="/")throw new ea(s);return s}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new jn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new pe(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new A(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}},om={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hR(e,n,t,i,r){let o=Pb(e,n,t);return o.matched?(i=LT(n,i),dR(i,n,t,r).pipe(Q(s=>s===!0?o:S({},om)))):F(o)}function Pb(e,n,t){if(n.path==="**")return mR(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?S({},om):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||cb)(t,e,n);if(!r)return S({},om);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?S(S({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function mR(e){return{matched:!0,parameters:e.length>0?db(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function sb(e,n,t,i){return t.length>0&&vR(e,t,i)?{segmentGroup:new pe(n,_R(i,new pe(t,e.children))),slicedSegments:[]}:t.length===0&&yR(e,t,i)?{segmentGroup:new pe(e.segments,gR(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new pe(e.segments,e.children),slicedSegments:t}}function gR(e,n,t,i){let r={};for(let o of t)if(ou(e,n,o)&&!i[Cn(o)]){let s=new pe([],{});r[Cn(o)]=s}return S(S({},i),r)}function _R(e,n){let t={};t[K]=n;for(let i of e)if(i.path===""&&Cn(i)!==K){let r=new pe([],{});t[Cn(i)]=r}return t}function vR(e,n,t){return t.some(i=>ou(e,n,i)&&Cn(i)!==K)}function yR(e,n,t){return t.some(i=>ou(e,n,i))}function ou(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function bR(e,n,t){return n.length===0&&!e.children[t]}var sm=class{};function CR(e,n,t,i,r,o,s="emptyOnly"){return new am(e,n,t,i,r,s,o).recognize()}var DR=31,am=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rm(this.urlSerializer,this.urlTree)}noMatchError(n){return new A(4002,`'${n.segmentGroup}'`)}recognize(){let n=sb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Q(({children:t,rootSnapshot:i})=>{let r=new Ht(i,t),o=new Ks("",r),s=bb(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Dr([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,K,t).pipe(Q(i=>({children:i,rootSnapshot:t})),it(i=>{if(i instanceof ea)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Xs?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe(Q(s=>s instanceof Ht?[s]:[]))}processChildren(n,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return be(o).pipe(Sn(s=>{let a=i.children[s],l=VT(t,s);return this.processSegmentGroup(n,l,a,s,r)}),Jd((s,a)=>(s.push(...a),s)),Si(null),Kd(),Te(s=>{if(s===null)return Ro(i);let a=Ab(s);return wR(a),F(a)}))}processSegment(n,t,i,r,o,s,a){return be(t).pipe(Sn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,i,r,o,s,a).pipe(it(d=>{if(d instanceof Xs)return F(null);throw d}))),Xn(l=>!!l),it(l=>{if(Ob(l))return bR(i,r,o)?F(new sm):Ro(i);throw l}))}processSegmentAgainstRoute(n,t,i,r,o,s,a,l){return Cn(i)!==s&&(s===K||!ou(r,o,i))?Ro(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s,l):Ro(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s,a){let{matched:l,parameters:d,consumedSegments:h,positionalParamSegments:g,remainingSegments:y}=Pb(t,r,o);if(!l)return Ro(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>DR&&(this.allowRedirects=!1));let _=new Dr(o,d,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,ab(r),Cn(r),r.component??r._loadedComponent??null,r,lb(r)),I=tu(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(I.params),_.data=Object.freeze(I.data);let R=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,g,_,n);return this.applyRedirects.lineralizeSegments(r,R).pipe(Te(V=>this.processSegment(n,i,t,V.concat(y),s,!1,a)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let a=hR(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Fe(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Fe(({routes:d})=>{let h=i._loadedInjector??n,{parameters:g,consumedSegments:y,remainingSegments:_}=l,I=new Dr(y,g,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,ab(i),Cn(i),i.component??i._loadedComponent??null,i,lb(i)),R=tu(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(R.params),I.data=Object.freeze(R.data);let{segmentGroup:V,slicedSegments:ne}=sb(t,y,_,d);if(ne.length===0&&V.hasChildren())return this.processChildren(h,d,V,I).pipe(Q($e=>new Ht(I,$e)));if(d.length===0&&ne.length===0)return F(new Ht(I,[]));let un=Cn(i)===o;return this.processSegment(h,d,V,ne,un?K:o,!0,I).pipe(Q($e=>new Ht(I,$e instanceof Ht?[$e]:[])))}))):Ro(t)))}getChildConfig(n,t,i){return t.children?F({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):uR(n,t,i,this.urlSerializer).pipe(Te(r=>r?this.configLoader.loadChildren(n,t).pipe(Le(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):pR(t))):F({routes:[],injector:n})}};function wR(e){e.sort((n,t)=>n.value.outlet===K?-1:t.value.outlet===K?1:n.value.outlet.localeCompare(t.value.outlet))}function ER(e){let n=e.value.routeConfig;return n&&n.path===""}function Ab(e){let n=[],t=new Set;for(let i of e){if(!ER(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=Ab(i.children);n.push(new Ht(i.value,r))}return n.filter(i=>!t.has(i))}function ab(e){return e.data||{}}function lb(e){return e.resolve||{}}function SR(e,n,t,i,r,o){return Te(s=>CR(e,n,t,i,s.extractedUrl,r,o).pipe(Q(({state:a,tree:l})=>H(S({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function IR(e,n){return Te(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return F(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of Fb(l))s.add(d);let a=0;return be(s).pipe(Sn(l=>o.has(l)?MR(l,i,e,n):(l.data=tu(l,l.parent,e).resolve,F(void 0))),Le(()=>a++),Qr(1),Te(l=>a===s.size?F(t):nt))})}function Fb(e){let n=e.children.map(t=>Fb(t)).flat();return[e,...n]}function MR(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Mb(r)&&(o[ta]=r.title),xR(o,e,n,i).pipe(Q(s=>(e._resolvedData=s,e.data=tu(e,e.parent,t).resolve,null)))}function xR(e,n,t,i){let r=Qh(e);if(r.length===0)return F({});let o={};return be(r).pipe(Te(s=>TR(e[s],n,t,i).pipe(Xn(),Le(a=>{if(a instanceof Vo)throw nu(new Fi,a);o[s]=a}))),Qr(1),Q(()=>o),it(s=>Ob(s)?nt:Oe(s)))}function TR(e,n,t,i){let r=na(n)??i,o=Bo(e,r),s=o.resolve?o.resolve(n,t):Tt(r,()=>o(n,t));return ji(s)}function Wh(e){return Fe(n=>{let t=e(n);return t?be(t).pipe(Q(()=>n)):F(n)})}var um=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(t){return t.data[ta]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(Lb),providedIn:"root"})}return e})(),Lb=(()=>{class e extends um{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(k(tb))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ir=new P("",{providedIn:"root",factory:()=>({})}),dm=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=L({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&E(0,"router-outlet")},dependencies:[ia],encapsulation:2})}return e})();function fm(e){let n=e.children&&e.children.map(fm),t=n?H(S({},e),{children:n}):S({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==K&&(t.component=dm),t}var Mr=new P(""),su=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(ny);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=ji(t.loadComponent()).pipe(Q(jb),Le(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),St(()=>{this.componentLoaders.delete(t)})),r=new qr(i,()=>new ae).pipe($r());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return F({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Vb(i,this.compiler,t,this.onLoadEndListener).pipe(St(()=>{this.childrenLoaders.delete(i)})),s=new qr(o,()=>new ae).pipe($r());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vb(e,n,t,i){return ji(e.loadChildren()).pipe(Q(jb),Te(r=>r instanceof ch||Array.isArray(r)?F(r):be(n.compileModuleAsync(r))),Q(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Mr,[],{optional:!0,self:!0}).flat()),{routes:s.map(fm),injector:o}}))}function RR(e){return e&&typeof e=="object"&&"default"in e}function jb(e){return RR(e)?e.default:e}var au=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(NR),providedIn:"root"})}return e})(),NR=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pm=new P(""),hm=new P("");function Bb(e,n,t){let i=e.get(hm),r=e.get(Re);return e.get(we).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),OR(e))),{onViewTransitionCreated:l}=i;return l&&Tt(e,()=>l({transition:a,from:n,to:t})),s})}function OR(e){return new Promise(n=>{Eo({read:()=>setTimeout(n)},{injector:e})})}var mm=new P(""),lu=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ae;transitionAbortSubject=new ae;configLoader=b(su);environmentInjector=b(Je);destroyRef=b(yo);urlSerializer=b(Er);rootContexts=b(Sr);location=b(ki);inputBindingEnabled=b(ra,{optional:!0})!==null;titleStrategy=b(um);options=b(Ir,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(au);createViewTransition=b(pm,{optional:!0});navigationErrorHandler=b(mm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>F(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Wc(r)),i=r=>this.events.next(new Yc(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(H(S({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new le(null),this.transitions.pipe(Ae(i=>i!==null),Fe(i=>{let r=!1,o=!1;return F(i).pipe(Fe(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ft.SupersededByNewNavigation),nt;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?H(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let d="";return this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.rawUrl),d,Po.IgnoredSameUrlNavigation)),s.resolve(!1),nt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return F(s).pipe(Fe(d=>(this.events.next(new Vi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?nt:Promise.resolve(d))),SR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=H(S({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Ys(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:h,source:g,restoredState:y,extras:_}=s,I=new Vi(d,this.urlSerializer.serialize(h),g,y);this.events.next(I);let R=Sb(this.rootComponentType).snapshot;return this.currentTransition=i=H(S({},s),{targetSnapshot:R,urlAfterRedirects:h,extras:H(S({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,F(i)}else{let d="";return this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),d,Po.IgnoredByUrlHandlingStrategy)),s.resolve(!1),nt}}),Le(s=>{let a=new $c(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Q(s=>(this.currentTransition=i=H(S({},s),{guards:zT(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),nR(this.environmentInjector,s=>this.events.next(s)),Le(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw nu(this.urlSerializer,s.guardsResult);let a=new qc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ae(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ft.GuardRejected),!1)),Wh(s=>{if(s.guards.canActivateChecks.length!==0)return F(s).pipe(Le(a=>{let l=new zc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Fe(a=>{let l=!1;return F(a).pipe(IR(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Ft.NoDataFromResolver)}}))}),Le(a=>{let l=new Gc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Wh(s=>{let a=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Le(h=>{l.component=h}),Q(()=>{})));for(let h of l.children)d.push(...a(h));return d};return Yr(a(s.targetSnapshot.root)).pipe(Si(null),Et(1))}),Wh(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?be(l).pipe(Q(()=>i)):F(i)}),Q(s=>{let a=BT(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=H(S({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),Le(()=>{this.events.next(new Qs)}),qT(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Et(1),Le({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),dt(this.transitionAbortSubject.pipe(Le(s=>{throw s}))),St(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Ft.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),it(s=>{if(this.destroyed)return i.resolve(!1),nt;if(o=!0,Nb(s))this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),$T(s)?this.events.next(new Lo(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Ao(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Vo){let{message:d,cancellationCode:h}=nu(this.urlSerializer,l);this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.extractedUrl),d,h)),this.events.next(new Lo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return nt}))}))}cancelNavigationTransition(t,i,r){let o=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kR(e){return e!==Bc}var Ub=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(PR),providedIn:"root"})}return e})(),ru=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},PR=(()=>{class e extends ru{static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hb=(()=>{class e{urlSerializer=b(Er);options=b(Ir,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(ki);urlHandlingStrategy=b(au);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof jn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=Sb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(AR),providedIn:"root"})}return e})(),AR=(()=>{class e extends Hb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Vi?this.updateStateMemento():t instanceof Bn?this.commitTransition(i):t instanceof Ys?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Qs?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Vn&&(t.code===Ft.GuardRejected||t.code===Ft.NoDataFromResolver)?this.restoreHistory(i):t instanceof Ao?this.restoreHistory(i,!0):t instanceof Dt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=S(S({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",l)}else{let a=S(S({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cu(e,n){e.events.pipe(Ae(t=>t instanceof Dt||t instanceof Vn||t instanceof Ao||t instanceof Bn),Q(t=>t instanceof Dt||t instanceof Bn?0:(t instanceof Vn?t.code===Ft.Redirect||t.code===Ft.SupersededByNewNavigation:!1)?2:1),Ae(t=>t!==2),Et(1)).subscribe(()=>{n()})}var FR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},oe=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(Fv);stateManager=b(Hb);options=b(Ir,{optional:!0})||{};pendingTasks=b(ci);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(lu);urlSerializer=b(Er);location=b(ki);urlHandlingStrategy=b(au);_events=new ae;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(Ub);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Mr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(ra,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vn&&i.code!==Ft.Redirect&&i.code!==Ft.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Dt)this.navigated=!0;else if(i instanceof Lo){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=S({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kR(r.source)},s);this.scheduleNavigation(a,Bc,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}jR(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=S({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(fm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let y=r?r.snapshot:this.routerState.snapshot.root;g=Cb(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return Db(g,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Li(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Bc,null,i)}navigate(t,i={skipLocationChange:!1}){return VR(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=S({},FR):i===!1?r=S({},LR):r=i,Li(t))return nb(this.currentUrlTree,t,r);let o=this.parseUrl(t);return nb(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((g,y)=>{a=g,l=y});let h=this.pendingTasks.add();return cu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function VR(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new A(4008,!1)}function jR(e){return!(e instanceof Qs)&&!(e instanceof Lo)}var We=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ae;constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Dt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Li(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:W_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||e)(D(oe),D(at),Ql("tabindex"),D(mn),D(ze),D(on))};static \u0275dir=de({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&M("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Ni("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oi],replaceUrl:[2,"replaceUrl","replaceUrl",Oi],routerLink:"routerLink"},features:[Ct]})}return e})(),aa=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new me;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Dt&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(wi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=be(t).pipe(wi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=BR(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||e)(D(oe),D(ze),D(mn),D(An),D(We,8))};static \u0275dir=de({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&ph(o,We,5),i&2){let s;gn(s=_n())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ct]})}return e})();function BR(e){return!!e.paths}var sa=class{};var $b=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ae(t=>t instanceof Dt),Sn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Ss(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return be(r).pipe(wi())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=F(null);let o=r.pipe(Te(s=>s===null?F(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return be([o,s]).pipe(wi())}else return o})}static \u0275fac=function(i){return new(i||e)(k(oe),k(Je),k(sa),k(su))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qb=new P(""),UR=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bn&&t.code===Po.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fo&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Ev()};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function _m(e,...n){return po([{provide:Mr,multi:!0,useValue:e},[],{provide:at,useFactory:zb,deps:[oe]},{provide:ac,multi:!0,useFactory:Gb},n.map(t=>t.\u0275providers)])}function zb(e){return e.routerState.root}function Uo(e,n){return{\u0275kind:e,\u0275providers:n}}function Gb(){let e=b(rt);return n=>{let t=e.get(oi);if(n!==t.components[0])return;let i=e.get(oe),r=e.get(Wb);e.get(vm)===1&&i.initialNavigation(),e.get(Zb,null,ie.Optional)?.setUpPreloading(),e.get(qb,null,ie.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Wb=new P("",{factory:()=>new ae}),vm=new P("",{providedIn:"root",factory:()=>1});function Yb(){let e=[{provide:vm,useValue:0},fh(()=>{let n=b(rt);return n.get(Ch,Promise.resolve()).then(()=>new Promise(i=>{let r=n.get(oe),o=n.get(Wb);cu(r,()=>{i(!0)}),n.get(lu).afterPreactivation=()=>(i(!0),o.closed?F(void 0):o),r.initialNavigation()}))})];return Uo(2,e)}function Qb(){let e=[fh(()=>{b(oe).setUpLocationChangeListener()}),{provide:vm,useValue:2}];return Uo(3,e)}var Zb=new P("");function Kb(e){return Uo(0,[{provide:Zb,useExisting:$b},{provide:sa,useExisting:e}])}function ym(){return Uo(6,[{provide:on,useClass:Cc}])}function Jb(){return Uo(8,[cm,{provide:ra,useExisting:cm}])}function Xb(e){Ri("NgRouterViewTransitions");let n=[{provide:pm,useValue:Bb},{provide:hm,useValue:S({skipNextTransition:!!e?.skipInitialTransition},e)}];return Uo(9,n)}var e1=[ki,{provide:Er,useClass:Fi},oe,Sr,{provide:at,useFactory:zb,deps:[oe]},su,[]],xr=(()=>{class e{constructor(){}static forRoot(t,i){return{ngModule:e,providers:[e1,[],{provide:Mr,multi:!0,useValue:t},[],i?.errorHandler?{provide:mm,useValue:i.errorHandler}:[],{provide:Ir,useValue:i||{}},i?.useHash?$R():qR(),HR(),i?.preloadingStrategy?Kb(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?zR(i):[],i?.bindToComponentInputs?Jb().\u0275providers:[],i?.enableViewTransitions?Xb().\u0275providers:[],GR()]}}static forChild(t){return{ngModule:e,providers:[{provide:Mr,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})();function HR(){return{provide:qb,useFactory:()=>{let e=b(Ry),n=b(we),t=b(Ir),i=b(lu),r=b(Er);return t.scrollOffset&&e.setOffset(t.scrollOffset),new UR(r,i,e,n,t)}}}function $R(){return{provide:on,useClass:Cc}}function qR(){return{provide:on,useClass:fc}}function zR(e){return[e.initialNavigation==="disabled"?Qb().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Yb().\u0275providers:[]]}var gm=new P("");function GR(){return[{provide:gm,useFactory:Gb},{provide:ac,multi:!0,useExisting:gm}]}var c1=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(D(mn),D(ze))};static \u0275dir=de({type:e})}return e})(),ha=(()=>{class e extends c1{static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275dir=de({type:e,features:[ot]})}return e})(),Ui=new P(""),WR={provide:Ui,useExisting:ht(()=>wm),multi:!0},wm=(()=>{class e extends ha{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Nt([WR]),ot]})}return e})(),YR={provide:Ui,useExisting:ht(()=>Ne),multi:!0};function QR(){let e=rn()?rn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var ZR=new P(""),Ne=(()=>{class e extends c1{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!QR())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(D(mn),D(ze),D(ZR,8))};static \u0275dir=de({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&M("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Nt([YR]),ot]})}return e})();function Em(e){return e==null||Sm(e)===0}function Sm(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Rr=new P(""),ma=new P(""),KR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,B=class{static min(n){return u1(n)}static max(n){return JR(n)}static required(n){return d1(n)}static requiredTrue(n){return XR(n)}static email(n){return eN(n)}static minLength(n){return tN(n)}static maxLength(n){return nN(n)}static pattern(n){return iN(n)}static nullValidator(n){return du()}static compose(n){return _1(n)}static composeAsync(n){return v1(n)}};function u1(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function JR(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function d1(e){return Em(e.value)?{required:!0}:null}function XR(e){return e.value===!0?null:{required:!0}}function eN(e){return Em(e.value)||KR.test(e.value)?null:{email:!0}}function tN(e){return n=>{let t=n.value?.length??Sm(n.value);return t===null||t===0?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}function nN(e){return n=>{let t=n.value?.length??Sm(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function iN(e){if(!e)return du;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(Em(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function du(e){return null}function f1(e){return e!=null}function p1(e){return mr(e)?be(e):e}function h1(e){let n={};return e.forEach(t=>{n=t!=null?S(S({},n),t):n}),Object.keys(n).length===0?null:n}function m1(e,n){return n.map(t=>t(e))}function rN(e){return!e.validate}function g1(e){return e.map(n=>rN(n)?n:t=>n.validate(t))}function _1(e){if(!e)return null;let n=e.filter(f1);return n.length==0?null:function(t){return h1(m1(t,n))}}function Im(e){return e!=null?_1(g1(e)):null}function v1(e){if(!e)return null;let n=e.filter(f1);return n.length==0?null:function(t){let i=m1(t,n).map(p1);return Wd(i).pipe(Q(h1))}}function Mm(e){return e!=null?v1(g1(e)):null}function t1(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function y1(e){return e._rawValidators}function b1(e){return e._rawAsyncValidators}function bm(e){return e?Array.isArray(e)?e:[e]:[]}function fu(e,n){return Array.isArray(e)?e.includes(n):e===n}function n1(e,n){let t=bm(n);return bm(e).forEach(r=>{fu(t,r)||t.push(r)}),t}function i1(e,n){return bm(n).filter(t=>!fu(e,t))}var pu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Im(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Mm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},gi=class extends pu{name;get formDirective(){return null}get path(){return null}},_i=class extends pu{_parent=null;name=null;valueAccessor=null},hu=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},W4=H(S({},oN),{"[class.ng-submitted]":"isSubmitted"}),Ue=(()=>{class e extends hu{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(D(_i,2))};static \u0275dir=de({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&gt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ot]})}return e})(),an=(()=>{class e extends hu{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(D(gi,10))};static \u0275dir=de({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&gt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ot]})}return e})();var la="VALID",uu="INVALID",Ho="PENDING",ca="DISABLED",Bi=class{},mu=class extends Bi{value;source;constructor(n,t){super(),this.value=n,this.source=t}},da=class extends Bi{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},fa=class extends Bi{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},$o=class extends Bi{status;source;constructor(n,t){super(),this.status=n,this.source=t}},gu=class extends Bi{source;constructor(n){super(),this.source=n}},_u=class extends Bi{source;constructor(n){super(),this.source=n}};function xm(e){return(Cu(e)?e.validators:e)||null}function sN(e){return Array.isArray(e)?Im(e):e||null}function Tm(e,n){return(Cu(n)?n.asyncValidators:e)||null}function aN(e){return Array.isArray(e)?Mm(e):e||null}function Cu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function C1(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new A(1e3,"");if(!i[t])throw new A(1001,"")}function D1(e,n,t){e._forEachChild((i,r)=>{if(t[r]===void 0)throw new A(1002,"")})}var qo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Fn(this.statusReactive)}set status(n){Fn(()=>this.statusReactive.set(n))}_status=Io(()=>this.statusReactive());statusReactive=Co(void 0);get valid(){return this.status===la}get invalid(){return this.status===uu}get pending(){return this.status==Ho}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}errors;get pristine(){return Fn(this.pristineReactive)}set pristine(n){Fn(()=>this.pristineReactive.set(n))}_pristine=Io(()=>this.pristineReactive());pristineReactive=Co(!0);get dirty(){return!this.pristine}get touched(){return Fn(this.touchedReactive)}set touched(n){Fn(()=>this.touchedReactive.set(n))}_touched=Io(()=>this.touchedReactive());touchedReactive=Co(!1);get untouched(){return!this.touched}_events=new ae;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(n1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(n1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(i1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(i1(n,this._rawAsyncValidators))}hasValidator(n){return fu(this._rawValidators,n)}hasAsyncValidator(n){return fu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(H(S({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new fa(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new fa(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(H(S({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new da(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new da(!0,i))}markAsPending(n={}){this.status=Ho;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new $o(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(H(S({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ca,this.errors=null,this._forEachChild(r=>{r.disable(H(S({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new mu(this.value,i)),this._events.next(new $o(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=la,this._forEachChild(i=>{i.enable(H(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(H(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===Ho)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new mu(this.value,t)),this._events.next(new $o(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(H(S({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Ho,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=p1(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new $o(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?uu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ho)?Ho:this._anyControlsHaveStatus(uu)?uu:la}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new da(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new fa(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Cu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=sN(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=aN(this._rawAsyncValidators)}},zo=class extends qo{constructor(n,t,i){super(xm(t),Tm(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){D1(this,!0,n),Object.keys(n).forEach(i=>{C1(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Cm=class extends zo{};var Go=new P("",{providedIn:"root",factory:()=>Du}),Du="always";function w1(e,n){return[...n.path,e]}function pa(e,n,t=Du){Rm(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),cN(e,n),dN(e,n),uN(e,n),lN(e,n)}function vu(e,n,t=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),bu(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function yu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function lN(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Rm(e,n){let t=y1(e);n.validator!==null?e.setValidators(t1(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=b1(e);n.asyncValidator!==null?e.setAsyncValidators(t1(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();yu(n._rawValidators,r),yu(n._rawAsyncValidators,r)}function bu(e,n){let t=!1;if(e!==null){if(n.validator!==null){let r=y1(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let r=b1(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(t=!0,e.setAsyncValidators(o))}}}let i=()=>{};return yu(n._rawValidators,i),yu(n._rawAsyncValidators,i),t}function cN(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&E1(e,n)})}function uN(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&E1(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function E1(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dN(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function S1(e,n){e==null,Rm(e,n)}function fN(e,n){return bu(e,n)}function Nm(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function pN(e){return Object.getPrototypeOf(e.constructor)===ha}function I1(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Om(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===Ne?t=o:pN(o)?i=o:r=o}),r||i||t||null}function hN(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var mN={provide:gi,useExisting:ht(()=>ga)},ua=Promise.resolve(),ga=(()=>{class e extends gi{callSetDisabledState;get submitted(){return Fn(this.submittedReactive)}_submitted=Io(()=>this.submittedReactive());submittedReactive=Co(!1);_directives=new Set;form;ngSubmit=new me;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new zo({},Im(t),Mm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ua.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),pa(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ua.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ua.then(()=>{let i=this._findContainer(t.path),r=new zo({});S1(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ua.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ua.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),I1(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new gu(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new _u(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||e)(D(Rr,10),D(ma,10),D(Go,8))};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&M("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Nt([mN]),ot]})}return e})();function r1(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function o1(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Tr=class extends qo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(xm(t),Tm(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(o1(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){r1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){r1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){o1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var gN=e=>e instanceof Tr;var _N={provide:_i,useExisting:ht(()=>zt)},s1=Promise.resolve(),zt=(()=>{class e extends _i{_changeDetectorRef;callSetDisabledState;control=new Tr;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new me;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Om(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Nm(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pa(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){s1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Oi(i);s1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?w1(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(D(gi,9),D(Rr,10),D(ma,10),D(Ui,10),D(An,8),D(Go,8))};static \u0275dir=de({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Nt([_N]),ot,Ct]})}return e})();var ln=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),vN={provide:Ui,useExisting:ht(()=>Dn),multi:!0},Dn=(()=>{class e extends ha{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&M("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Nt([vN]),ot]})}return e})();var km=new P(""),yN={provide:_i,useExisting:ht(()=>Pm)},Pm=(()=>{class e extends _i{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Om(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&vu(i,this,!1),pa(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Nm(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||e)(D(Rr,10),D(ma,10),D(Ui,10),D(km,8),D(Go,8))};static \u0275dir=de({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Nt([yN]),ot,Ct]})}return e})(),bN={provide:gi,useExisting:ht(()=>vi)},vi=(()=>{class e extends gi{callSetDisabledState;get submitted(){return Fn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Io(()=>this._submittedReactive());_submittedReactive=Co(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new me;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return pa(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){vu(t.control||null,t,!1),hN(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),I1(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new gu(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new _u(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(vu(i||null,t),gN(r)&&(pa(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);S1(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&fN(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rm(this.form,this),this._oldForm&&bu(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(D(Rr,10),D(ma,10),D(Go,8))};static \u0275dir=de({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&M("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Nt([bN]),ot,Ct]})}return e})();var CN={provide:_i,useExisting:ht(()=>yi)},yi=(()=>{class e extends _i{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Om(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Nm(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return w1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||e)(D(gi,13),D(Rr,10),D(ma,10),D(Ui,10),D(km,8))};static \u0275dir=de({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Nt([CN]),ot,Ct]})}return e})();var DN={provide:Ui,useExisting:ht(()=>cn),multi:!0};function M1(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function wN(e){return e.split(":")[0]}var cn=(()=>{class e extends ha{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),r=M1(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=wN(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Nt([DN]),ot]})}return e})(),Un=(()=>{class e{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(M1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(D(ze),D(mn),D(cn,9))};static \u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),EN={provide:Ui,useExisting:ht(()=>x1),multi:!0};function a1(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function SN(e){return e.split(":")[0]}var x1=(()=>{class e extends ha{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);r.push(d)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=SN(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Nt([EN]),ot]})}return e})(),Hn=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(a1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(a1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(D(ze),D(mn),D(x1,9))};static \u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function IN(e){return typeof e=="number"?e:parseFloat(e)}var T1=(()=>{class e{_validator=du;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):du,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,features:[Ct]})}return e})();var MN={provide:Rr,useExisting:ht(()=>_a),multi:!0},_a=(()=>{class e extends T1{min;inputName="min";normalizeInput=t=>IN(t);createValidator=t=>u1(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ni("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Nt([MN]),ot]})}return e})(),xN={provide:Rr,useExisting:ht(()=>Am),multi:!0};var Am=(()=>{class e extends T1{required;inputName="required";normalizeInput=Oi;createValidator=t=>d1;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=en(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ni("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Nt([xN]),ot]})}return e})();var R1=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})(),Dm=class extends qo{constructor(n,t,i){super(xm(t),Tm(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){D1(this,!1,n),n.forEach((i,r)=>{C1(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function l1(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Hi=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return l1(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new zo(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Cm(r,i)}control(t,i,r){let o={};return this.useNonNullable?(l1(i)?o=i:(o.validators=i,o.asyncValidators=r),new Tr(t,H(S({},o),{nonNullable:!0}))):new Tr(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Dm(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Tr)return t;if(t instanceof qo)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ye=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Go,useValue:t.callSetDisabledState??Du}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({imports:[R1]})}return e})(),$n=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:km,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Go,useValue:t.callSetDisabledState??Du}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({imports:[R1]})}return e})();var Wo=class{static priceRangeValidator(n,t){return i=>{let r=i.get(n)?.value,o=i.get(t)?.value;return r!==null&&o!==null&&r>o?{priceRange:!0}:null}}};var qn=["Cairo","Giza","Alexandria","Qalyubia","Port Said","Suez","Dakahlia","Sharqia","Kafr El Sheikh","Gharbia","Monufia","Beheira","Ismailia","Fayoum","Beni Suef","Minya","Asyut","Sohag","Qena","Luxor","Aswan","Red Sea","New Valley","Matrouh","North Sinai","South Sinai","Damietta"];var lt={production:!0,apiBaseUrl:"http://p2pdelivery.runasp.net/",chatHubUrl:"http://p2pdelivery.runasp.net/hub/chat",imageBaseUrl:"http://p2pdelivery.runasp.net",notificationHubUrl:"http://p2pdelivery.runasp.net/hub/notification",enableDebug:!1,secure:!1};var Gt=class e{constructor(n){this.http=n}endpoint="api/deliveryrequest";endpoint2="api/DRApplication";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getAuthHeaders(){let n=this.getAuthToken();if(!n)throw console.error("No token found"),new Error("No token");return new st({Authorization:`Bearer ${n}`})}create(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(!t)return console.error("No token found"),Oe(()=>new Error("No token"));let i=new st({Authorization:`Bearer ${t}`});return this.http.post(`${this.endpoint}`,n,{headers:i})}getallDRs(n,t){let i=new At;return n&&(n.title&&(i=i.set("title",n.title)),n.status?.length&&n.status.forEach(r=>{i=i.append("Status",r.toString())}),n.pickupLocation&&(i=i.set("PickupLocation",n.pickupLocation)),n.dropoffLocation&&(i=i.set("DropOffLocation",n.dropoffLocation)),n.pickupDate&&(i=i.set("StartPickUpDate",n.pickupDate)),n.minPrice!=null&&(i=i.set("StartPrice",n.minPrice.toString()))),t>0&&(i=i.set("pageNumber",t)),this.http.get(`${this.endpoint}`,{params:i})}getMyDeliveryRequests(){let n=this.getAuthHeaders();return this.http.get(`${this.endpoint}/my`,{headers:n})}update(n,t){return this.http.put(`${this.endpoint}/${n}`,t)}delete(n){return this.http.delete(`${this.endpoint}/${n}`)}getRequestDetails(n){return this.http.get(`${this.endpoint}/details/${n}`)}changeStatus(n){let t=this.getAuthHeaders();return this.http.put(`${this.endpoint2}/updatestatus`,n,{headers:t})}static \u0275fac=function(t){return new(t||e)(k(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function TN(e,n){e&1&&(u(0,"small"),f(1,"Title is required"),c())}function RN(e,n){e&1&&(u(0,"small"),f(1,"Title must be less than 100 characters"),c())}function NN(e,n){if(e&1&&(u(0,"div",5),C(1,TN,2,0,"small")(2,RN,2,0,"small"),c()),e&2){let t,i,r=v();p(),fe(!((t=r.updateForm.get("title"))==null||t.errors==null)&&t.errors.required?1:-1),p(),fe(!((i=r.updateForm.get("title"))==null||i.errors==null)&&i.errors.maxlength?2:-1)}}function ON(e,n){e&1&&(u(0,"small"),f(1,"Description is required"),c())}function kN(e,n){e&1&&(u(0,"small"),f(1,"Description must be less than 500 characters"),c())}function PN(e,n){if(e&1&&(u(0,"div",5),C(1,ON,2,0,"small")(2,kN,2,0,"small"),c()),e&2){let t,i,r=v();p(),fe(!((t=r.updateForm.get("description"))==null||t.errors==null)&&t.errors.required?1:-1),p(),fe(!((i=r.updateForm.get("description"))==null||i.errors==null)&&i.errors.maxlength?2:-1)}}function AN(e,n){if(e&1&&(u(0,"option",34),f(1),c()),e&2){let t=n.$implicit;m("value",t),p(),j(" ",t," ")}}function FN(e,n){e&1&&(u(0,"small"),f(1,"Pickup location is required"),c())}function LN(e,n){if(e&1&&(u(0,"div",5),C(1,FN,2,0,"small"),c()),e&2){let t,i=v();p(),fe(!((t=i.updateForm.get("pickUpLocation"))==null||t.errors==null)&&t.errors.required?1:-1)}}function VN(e,n){if(e&1&&(u(0,"option",34),f(1),c()),e&2){let t=n.$implicit;m("value",t),p(),j(" ",t," ")}}function jN(e,n){e&1&&(u(0,"small"),f(1,"Dropoff location is required"),c())}function BN(e,n){if(e&1&&(u(0,"div",5),C(1,jN,2,0,"small"),c()),e&2){let t,i=v();p(),fe(!((t=i.updateForm.get("dropOffLocation"))==null||t.errors==null)&&t.errors.required?1:-1)}}function UN(e,n){e&1&&(u(0,"small"),f(1,"Pickup date is required"),c())}function HN(e,n){if(e&1&&(u(0,"div",5),C(1,UN,2,0,"small"),c()),e&2){let t,i=v();p(),fe(!((t=i.updateForm.get("pickUpDate"))==null||t.errors==null)&&t.errors.required?1:-1)}}function $N(e,n){e&1&&(u(0,"small"),f(1,"Weight is required"),c())}function qN(e,n){e&1&&(u(0,"small"),f(1,"Weight must be greater than 0"),c())}function zN(e,n){if(e&1&&(u(0,"div",5),C(1,$N,2,0,"small",35)(2,qN,2,0,"small",35),c()),e&2){let t,i,r=v();p(),m("ngIf",(t=r.updateForm.get("weight"))==null||t.errors==null?null:t.errors.required),p(),m("ngIf",(i=r.updateForm.get("weight"))==null||i.errors==null?null:i.errors.min)}}function GN(e,n){e&1&&(u(0,"small"),f(1,"Minimum price is required"),c())}function WN(e,n){e&1&&(u(0,"small"),f(1,"Price must be 0 or more"),c())}function YN(e,n){if(e&1&&(u(0,"div",5),C(1,GN,2,0,"small")(2,WN,2,0,"small"),c()),e&2){let t,i,r=v();p(),fe(!((t=r.updateForm.get("minPrice"))==null||t.errors==null)&&t.errors.required?1:-1),p(),fe(!((i=r.updateForm.get("minPrice"))==null||i.errors==null)&&i.errors.min?2:-1)}}function QN(e,n){e&1&&(u(0,"small"),f(1,"Maximum price is required"),c())}function ZN(e,n){e&1&&(u(0,"small"),f(1,"Price must be 0 or more"),c())}function KN(e,n){if(e&1&&(u(0,"div",5),C(1,QN,2,0,"small")(2,ZN,2,0,"small"),c()),e&2){let t,i,r=v();p(),fe(!((t=r.updateForm.get("maxPrice"))==null||t.errors==null)&&t.errors.required?1:-1),p(),fe(!((i=r.updateForm.get("maxPrice"))==null||i.errors==null)&&i.errors.min?2:-1)}}function JN(e,n){if(e&1&&(u(0,"div",36)(1,"label",37),f(2,"Current Image:"),c(),u(3,"div",38),E(4,"img",39),c()()),e&2){let t=v();p(4),m("src",t.imageBaseUrl+t.currentImageUrl,ut)}}function XN(e,n){e&1&&(u(0,"div",31),f(1," Maximum price must be greater than minimum price "),c())}var wu=class e{constructor(n,t,i,r){this.deliveryRequestService=n;this.fb=t;this.route=i;this.router=r}updateForm;deliveryRequestId;egyptGovernorates=qn;currentImageUrl=null;imageBaseUrl=lt.imageBaseUrl;ngOnInit(){this.deliveryRequestId=this.route.snapshot.params.id,this.initForm(),this.loadDeliveryRequest()}initForm(){this.updateForm=this.fb.group({title:["",[B.required,B.maxLength(50)]],description:["",[B.required,B.maxLength(500)]],pickUpLocation:["",[B.required]],dropOffLocation:["",[B.required]],pickUpDate:["",[B.required]],minPrice:[0,[B.required,B.min(0)]],maxPrice:[0,[B.required,B.min(0)]],weight:[0,[B.required,B.min(0)]]},{validators:[Wo.priceRangeValidator("minPrice","maxPrice")]})}onFileChange(n){let t=n.target.files[0];t&&this.updateForm.patchValue({DRimage:t})}loadDeliveryRequest(){this.deliveryRequestService.getRequestDetails(this.deliveryRequestId).subscribe({next:n=>{if(n.isSuccess){let t=n.data;this.currentImageUrl=t.drImageUrl,this.updateForm.patchValue({title:t.title,description:t.description,pickUpLocation:t.pickUpLocation,dropOffLocation:t.dropOffLocation,pickUpDate:t.pickUpDate.split("T")[0],minPrice:t.minPrice,maxPrice:t.maxPrice,weight:t.totalWeight})}else console.error("Error loading delivery request:",n.message)},error:n=>{console.error("Failed to load delivery request:",n)}})}onSubmit(){if(this.updateForm.valid){let n={title:this.updateForm.value.title,description:this.updateForm.value.description,pickUpLocation:this.updateForm.value.pickUpLocation,dropOffLocation:this.updateForm.value.dropOffLocation,pickUpDate:new Date(this.updateForm.value.pickUpDate),minPrice:this.updateForm.value.minPrice,maxPrice:this.updateForm.value.maxPrice,totalWeight:this.updateForm.value.weight,DRimage:null};this.deliveryRequestService.update(this.deliveryRequestId,n).subscribe({next:t=>{t?this.router.navigate(["/deliveryrequests/getMyDeliveryRequests"]):console.error("Update failed:",t)},error:t=>{console.error("Failed to update delivery request:",t)}})}}static \u0275fac=function(t){return new(t||e)(D(Gt),D(Hi),D(at),D(oe))};static \u0275cmp=L({type:e,selectors:[["app-delivery-request-update"]],decls:65,vars:14,consts:[[1,"container","mt-4"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control"],[1,"text-danger"],["for","description",1,"form-label"],["id","description","rows","3","formControlName","description",1,"form-control"],["for","pickUpLocation",1,"form-label"],["id","pickUpLocation","formControlName","pickUpLocation",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","dropOffLocation",1,"form-label"],["id","dropOffLocation","formControlName","dropOffLocation",1,"form-select"],["for","pickUpDate",1,"form-label"],["type","date","id","pickUpDate","formControlName","pickUpDate",1,"form-control"],["for","weight",1,"form-label"],["type","number","id","weight","formControlName","weight","min","0","step","0.1",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"row","mb-3"],[1,"col-md-6"],["for","minPrice",1,"form-label"],["type","number","id","minPrice","formControlName","minPrice",1,"form-control"],["for","maxPrice",1,"form-label"],["type","number","id","maxPrice","formControlName","maxPrice",1,"form-control"],[1,"mb-4"],["class","current-image mb-3",4,"ngIf"],[1,"new-image"],["for","DRimage",1,"form-label"],["type","file","id","DRimage","accept","image/*",1,"form-control",3,"change"],[1,"text-muted"],[1,"alert","alert-danger","mb-3"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"],[4,"ngIf"],[1,"current-image","mb-3"],[1,"form-label"],[1,"image-container"],["alt","Current Request Image",1,"img-fluid","rounded",3,"src"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"form",1),M("ngSubmit",function(){return i.onSubmit()}),u(2,"div",2)(3,"label",3),f(4,"Title"),c(),E(5,"input",4),C(6,NN,3,2,"div",5),c(),u(7,"div",2)(8,"label",6),f(9,"Description"),c(),E(10,"textarea",7),C(11,PN,3,2,"div",5),c(),u(12,"div",2)(13,"label",8),f(14,"Pickup Location"),c(),u(15,"select",9)(16,"option",10),f(17,"Select pickup location"),c(),C(18,AN,2,2,"option",11),c(),C(19,LN,2,1,"div",5),c(),u(20,"div",2)(21,"label",12),f(22,"Dropoff Location"),c(),u(23,"select",13)(24,"option",10),f(25,"Select dropoff location"),c(),C(26,VN,2,2,"option",11),c(),C(27,BN,2,1,"div",5),c(),u(28,"div",2)(29,"label",14),f(30,"Pickup Date"),c(),E(31,"input",15),C(32,HN,2,1,"div",5),c(),u(33,"div",2)(34,"label",16),f(35,"Package Weight (kg)"),c(),E(36,"input",17),C(37,zN,3,2,"div",18),c(),u(38,"div",19)(39,"div",20)(40,"label",21),f(41,"Minimum Price ($)"),c(),E(42,"input",22),C(43,YN,3,2,"div",5),c(),u(44,"div",20)(45,"label",23),f(46,"Maximum Price ($)"),c(),E(47,"input",24),C(48,KN,3,2,"div",5),c()(),u(49,"div",25)(50,"h5",2),f(51,"Request Image"),c(),C(52,JN,5,1,"div",26),u(53,"div",27)(54,"label",28),f(55,"Upload New Image:"),c(),u(56,"input",29),M("change",function(o){return i.onFileChange(o)}),c(),u(57,"small",30),f(58,"Leave empty to keep current image"),c()()(),C(59,XN,2,0,"div",31),u(60,"div",32)(61,"button",33),f(62," Update Delivery Request "),c()()(),E(63,"br")(64,"br"),c()),t&2){let r,o,s,a,l,d,h,g;p(),m("formGroup",i.updateForm),p(5),fe((r=i.updateForm.get("title"))!=null&&r.invalid&&((r=i.updateForm.get("title"))!=null&&r.dirty||(r=i.updateForm.get("title"))!=null&&r.touched)?6:-1),p(5),fe((o=i.updateForm.get("description"))!=null&&o.invalid&&((o=i.updateForm.get("description"))!=null&&o.dirty||(o=i.updateForm.get("description"))!=null&&o.touched)?11:-1),p(7),m("ngForOf",i.egyptGovernorates),p(),fe((s=i.updateForm.get("pickUpLocation"))!=null&&s.invalid&&((s=i.updateForm.get("pickUpLocation"))!=null&&s.dirty||(s=i.updateForm.get("pickUpLocation"))!=null&&s.touched)?19:-1),p(7),m("ngForOf",i.egyptGovernorates),p(),fe((a=i.updateForm.get("dropOffLocation"))!=null&&a.invalid&&((a=i.updateForm.get("dropOffLocation"))!=null&&a.dirty||(a=i.updateForm.get("dropOffLocation"))!=null&&a.touched)?27:-1),p(5),fe((l=i.updateForm.get("pickUpDate"))!=null&&l.invalid&&((l=i.updateForm.get("pickUpDate"))!=null&&l.dirty||(l=i.updateForm.get("pickUpDate"))!=null&&l.touched)?32:-1),p(5),m("ngIf",((d=i.updateForm.get("weight"))==null?null:d.invalid)&&((d=i.updateForm.get("weight"))==null?null:d.touched)),p(6),fe((h=i.updateForm.get("minPrice"))!=null&&h.invalid&&((h=i.updateForm.get("minPrice"))!=null&&h.dirty||(h=i.updateForm.get("minPrice"))!=null&&h.touched)?43:-1),p(5),fe((g=i.updateForm.get("maxPrice"))!=null&&g.invalid&&((g=i.updateForm.get("maxPrice"))!=null&&g.dirty||(g=i.updateForm.get("maxPrice"))!=null&&g.touched)?48:-1),p(4),m("ngIf",i.currentImageUrl),p(7),fe(i.updateForm.errors!=null&&i.updateForm.errors.priceRange?59:-1),p(2),m("disabled",i.updateForm.invalid)}},dependencies:[$n,ln,Un,Hn,Ne,Dn,cn,Ue,an,_a,vi,yi,ve,Be,J],styles:[".image-container[_ngcontent-%COMP%]{max-width:300px;margin-bottom:1rem}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border:1px solid #ddd}.current-image[_ngcontent-%COMP%], .new-image[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1rem;border-radius:.25rem}"]})};var He=class e{constructor(n,t){this.router=n;this.http=t}isLoggedInSubject=new le(this.hasToken());isLoggedIn$=this.isLoggedInSubject.asObservable();response="";apiUrl="api/user";refreshTokenTimeout;isAuthRoute=!1;_confirmPassword="";login(n){return this._confirmPassword=n.password,localStorage.setItem("password",this._confirmPassword),this.http.post(`${this.apiUrl}/login`,n).pipe(Fe(t=>(t.isSuccess&&(this.storeTokens(t.data,n.rememberMe),this.startRefreshTokenTimer(),this.isLoggedInSubject.next(!0)),F(t))),it(t=>(console.error("Login error:",t),Oe(()=>t))))}recoverAccount(n){let t=new At().set("user",n);return this.http.put(`${this.apiUrl}/Recover`,null,{params:t}).pipe(Le(i=>console.log("Recover response:",i)),it(i=>(console.error("Recover error:",i),Oe(i))))}guardedRoute=!1;setGuardedRoute(n){this.guardedRoute=n}isGuarded(){return this.guardedRoute}refreshToken(){let n=this.getRefreshToken();return n?this.http.post(`${this.apiUrl}/refresh-token`,{refreshToken:n}).pipe(Fe(t=>(t.isSuccess&&(this.storeTokens(t.data,this.isRememberMe()),this.startRefreshTokenTimer()),t)),it(t=>(console.error("Refresh token error:",t),this.logout(),Oe(()=>t)))):(this.logout(),Oe(()=>new Error("No refresh token available")))}isRememberMe(){return!!localStorage.getItem("token")}storeTokens(n,t){let i=t?localStorage:sessionStorage;i.setItem("token",n.token),i.setItem("exp",new Date(n.expiration).getTime().toString()),i.setItem("refreshToken",n.refreshToken),i.setItem("refreshExp",new Date(n.refreshTokenExpiration).getTime().toString())}clearTokens(){localStorage.clear(),sessionStorage.clear(),this.refreshTokenTimeout&&clearTimeout(this.refreshTokenTimeout)}getRefreshToken(){return localStorage.getItem("refreshToken")||sessionStorage.getItem("refreshToken")}startRefreshTokenTimer(){let n=localStorage.getItem("exp")||sessionStorage.getItem("exp");if(!n)return;let i=parseInt(n)-Date.now()-6e4;i>0&&(this.refreshTokenTimeout=setTimeout(()=>{this.refreshToken().subscribe()},i))}logout(){this.clearTokens(),this.isLoggedInSubject.next(!1),this.isGuarded()?this.router.navigate(["/login"]):window.location.reload()}hasToken(){return!!localStorage.getItem("token")||!!sessionStorage.getItem("token")}getUser(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(!t)return console.error("No token found"),Oe(()=>new Error("No token"));let i=new st({Authorization:`Bearer ${t}`}),r=new At().set("Name",n);return this.http.get(`${this.apiUrl}/findbyname`,{headers:i,params:r})}getToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getUserProfile(){console.log("Fetching user profile...");let n=localStorage.getItem("token")||sessionStorage.getItem("token");if(!n)return console.error("Token not found!"),Oe(()=>new Error("Token missing"));let t=new st().set("Authorization",`Bearer ${n}`);return this.http.get(`${this.apiUrl}/profile`,{headers:t})}updateUser(n,t){let i=this.getToken();if(!i)return Oe(()=>new Error("Token missing"));let r=new st().set("Authorization",`Bearer ${i}`),o=new FormData;for(let s in n)n.hasOwnProperty(s)&&o.append(s,n[s]);return t&&o.append("profileImage",t),this.http.put(`${this.apiUrl}/update`,o,{headers:r})}deleteUser(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(t)if(n==localStorage.getItem("password")){let i=new st().set("Authorization",`Bearer ${t}`);return this.http.delete(`${this.apiUrl}/delete`,{headers:i})}else return console.error("Password does not match!"),Oe(()=>new Error("Password does not match"));else return console.error("Token not found!"),Oe(()=>new Error("Token missing"))}uploadUserProfileImage(n){return this.http.post("https://localhost:7176/api/Auth/upload-profile-image",n)}static \u0275fac=function(t){return new(t||e)(k(oe),k(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function eO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Full Name:"),c(),f(3),c()),e&2){let t=v(2);p(3),j(" ",t.user.fullName," ")}}function tO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Address:"),c(),f(3),c()),e&2){let t=v(2);p(3),j(" ",t.user.address," ")}}function nO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Phone:"),c(),f(3),c()),e&2){let t=v(2);p(3),j(" ",t.user.phone," ")}}function iO(e,n){if(e&1&&(u(0,"div",3),E(1,"i",4),u(2,"div",5)(3,"h5",6),f(4),c(),C(5,eO,4,1,"p",7)(6,tO,4,1,"p",7)(7,nO,4,1,"p",7),u(8,"button",8),E(9,"i",9),f(10," Send Message "),c()()()),e&2){let t=v();p(4),T(t.user.userName),p(),m("ngIf",t.user.fullName),p(),m("ngIf",t.user.address),p(),m("ngIf",t.user.phone)}}function rO(e,n){if(e&1&&(u(0,"div",11),f(1),c()),e&2){let t=v();p(),j(" ",t.error," ")}}var Eu=class e{constructor(n,t){this.route=n;this.authService=t}user;error="";ngOnInit(){this.route.queryParams.subscribe(n=>{let t=n.name;t&&this.authService.getUser(t).subscribe({next:i=>{this.user=i.data,this.error=""},error:i=>{this.user="",console.error("Error fetching user:",i),this.error="User not exist, please check the name you entered."}})})}static \u0275fac=function(t){return new(t||e)(D(at),D(He))};static \u0275cmp=L({type:e,selectors:[["app-user-details"]],decls:4,vars:2,consts:[["errorTpl",""],[1,"container","mt-5"],["class","card mx-auto shadow","style","width: 22rem;",4,"ngIf","ngIfElse"],[1,"card","mx-auto","shadow",2,"width","22rem"],[1,"bi","bi-person-fill",2,"font-size","150px","color","#F44336","text-align","center","border-radius","10px"],[1,"card-body","text-center"],[1,"card-title",2,"color","#000000"],["class","card-text mb-1",4,"ngIf"],[1,"btn","btn-danger","mt-3","bg-danger"],[1,"bi","bi-envelope-fill","me-1"],[1,"card-text","mb-1"],["role","alert",1,"alert","alert-danger","text-center","mt-4"]],template:function(t,i){if(t&1&&(u(0,"div",1),C(1,iO,11,4,"div",2)(2,rO,2,1,"ng-template",null,0,vh),c()),t&2){let r=hh(3);p(),m("ngIf",i.user)("ngIfElse",r)}},dependencies:[J],encapsulation:2})};var oO=()=>["/"];function sO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=v();p(),T(t.errors.fullName)}}function aO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=v();p(),T(t.errors.email)}}function lO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=v();p(),T(t.notvalidemail)}}function cO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=v();p(),T(t.errors.phone)}}function uO(e,n){if(e&1&&(u(0,"option",27),f(1),c()),e&2){let t=n.$implicit;m("value",t),p(),T(t)}}function dO(e,n){if(e&1){let t=re();u(0,"button",28),M("click",function(){N(t);let r=v();return O(r.startEdit())}),f(1,"Edit Profile"),c()}}function fO(e,n){e&1&&(u(0,"button",29),f(1,"Go to home"),c()),e&2&&m("routerLink",jt(1,oO))}function pO(e,n){if(e&1){let t=re();kn(0),u(1,"button",30),f(2,"Save"),c(),u(3,"button",31),M("click",function(){N(t);let r=v();return O(r.cancelEdit())}),f(4,"Cancel"),c(),Pn()}}var Su=class e{constructor(n){this.router=n}authService=b(He);user={};selectedImage=null;uploadingImage=!1;loading=!1;notvalidemail=null;editingProfile=!1;errors={fullName:"",email:"",phone:""};showPopup=!1;egyptGovernorates=qn;ngOnInit(){if(!this.authService.hasToken()){this.router.navigate(["/login"]);return}this.loadUser()}loadUser(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}})}validate(){let n=!0;this.errors={fullName:"",email:"",phone:""},(!this.user.fullName||this.user.fullName.trim().length<3)&&(this.errors.fullName="Full name must be at least 3 characters.",n=!1);let t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return(!this.user.email||!t.test(this.user.email))&&(this.errors.email="Enter a valid email.",n=!1),this.user.phone&&!/^(010|011|012|015)\d{8}$/.test(this.user.phone)&&(this.errors.phone="Phone must be a valid Egyptian number.",n=!1),n}onFileSelected(n){let t=n.target.files[0];t&&(this.selectedImage=t)}uploadImage(){if(!this.selectedImage)return;let n=new FormData;n.append("image",this.selectedImage),this.uploadingImage=!0,this.authService.uploadUserProfileImage(n).subscribe({next:t=>{alert("Image uploaded successfully."),this.uploadingImage=!1,this.loadUser()},error:t=>{console.error("Image upload failed:",t),alert("Image upload failed."),this.uploadingImage=!1}})}startEdit(){this.editingProfile=!0}saveProfile(){this.validate()&&(this.loading=!0,this.authService.updateUser(this.user,this.selectedImage).subscribe({next:()=>{alert("User updated successfully!"),this.loading=!1,this.loadUser(),this.editingProfile=!1},error:n=>{console.error("Update failed:",n),n.error?.message==="Email is already taken."?this.notvalidemail="Email is already taken. Please choose another one.":this.notvalidemail="An error occurred. Please try again later.",this.loading=!1}}))}togglePopup(){this.showPopup=!this.showPopup}cancelEdit(){this.editingProfile=!1,this.loadUser()}static \u0275fac=function(t){return new(t||e)(D(oe))};static \u0275cmp=L({type:e,selectors:[["app-edit-user"]],decls:41,vars:18,consts:[["editForm","ngForm"],[1,"auth-background","d-flex","justify-content-center","align-items-center","py-5","px-3"],[1,"registerForm","w-100","bg-white","p-4","p-md-5","shadow","rounded",2,"max-width","800px",3,"ngSubmit"],[1,"text-center","mb-4","text-dark","fw-bold"],[1,"row","g-3"],[1,"col-12","col-md-6"],["for","userName",1,"form-label","fw-semibold"],["type","text","id","userName","name","userName","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["for","fullName",1,"form-label","fw-semibold"],["type","text","id","fullName","name","fullName",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","text-danger mt-1",4,"ngIf"],["for","email",1,"form-label","fw-semibold"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","phone",1,"form-label","fw-semibold"],["type","text","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","governorate",1,"form-label","fw-semibold"],["id","governorate","name","address",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["for","natId",1,"form-label","fw-semibold"],["type","text","id","natId","name","natId","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"profile-section"],["type","file",3,"change"],[1,"d-flex","flex-column","flex-md-row","justify-content-center","gap-2","mt-4","flex-wrap"],["type","button","class","btn btn-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary","routerLinkActive","active-link",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"text-danger","mt-1"],[3,"value"],["type","button",1,"btn","btn-warning",3,"click"],["type","button","routerLinkActive","active-link",1,"btn","btn-outline-secondary",3,"routerLink"],["type","submit",1,"btn","btn-warning"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(t,i){if(t&1){let r=re();u(0,"div",1)(1,"form",2,0),M("ngSubmit",function(){return N(r),O(i.saveProfile())}),u(3,"h2",3),f(4,"Edit Profile"),c(),u(5,"div",4)(6,"div",5)(7,"label",6),f(8,"Username"),c(),u(9,"input",7),Se("ngModelChange",function(s){return N(r),xe(i.user.userName,s)||(i.user.userName=s),O(s)}),c()(),u(10,"div",5)(11,"label",8),f(12,"Full Name"),c(),u(13,"input",9),Se("ngModelChange",function(s){return N(r),xe(i.user.fullName,s)||(i.user.fullName=s),O(s)}),M("ngModelChange",function(){return N(r),O(i.errors.fullName="")}),c(),C(14,sO,2,1,"div",10),c(),u(15,"div",5)(16,"label",11),f(17,"Email"),c(),u(18,"input",12),Se("ngModelChange",function(s){return N(r),xe(i.user.email,s)||(i.user.email=s),O(s)}),M("ngModelChange",function(){return N(r),O(i.errors.email="")}),c(),C(19,aO,2,1,"div",10)(20,lO,2,1,"div",10),c(),u(21,"div",5)(22,"label",13),f(23,"Phone"),c(),u(24,"input",14),Se("ngModelChange",function(s){return N(r),xe(i.user.phone,s)||(i.user.phone=s),O(s)}),M("ngModelChange",function(){return N(r),O(i.errors.phone="")}),c(),C(25,cO,2,1,"div",10),c(),u(26,"div",5)(27,"label",15),f(28,"Governorate"),c(),u(29,"select",16),Se("ngModelChange",function(s){return N(r),xe(i.user.address,s)||(i.user.address=s),O(s)}),C(30,uO,2,2,"option",17),c()(),u(31,"div",5)(32,"label",18),f(33,"National ID"),c(),u(34,"input",19),Se("ngModelChange",function(s){return N(r),xe(i.user.natId,s)||(i.user.natId=s),O(s)}),c()()(),u(35,"div",20)(36,"input",21),M("change",function(s){return N(r),O(i.onFileSelected(s))}),c()(),u(37,"div",22),C(38,dO,2,0,"button",23)(39,fO,2,2,"button",24)(40,pO,5,0,"ng-container",25),c()()()}t&2&&(p(9),Ee("ngModel",i.user.userName),p(4),Ee("ngModel",i.user.fullName),m("disabled",!i.editingProfile),p(),m("ngIf",i.errors.fullName),p(4),Ee("ngModel",i.user.email),m("disabled",!i.editingProfile),p(),m("ngIf",i.errors.email),p(),m("ngIf",i.notvalidemail),p(4),Ee("ngModel",i.user.phone),m("disabled",!i.editingProfile),p(),m("ngIf",i.errors.phone),p(4),Ee("ngModel",i.user.address),m("disabled",!i.editingProfile),p(),m("ngForOf",i.egyptGovernorates),p(4),Ee("ngModel",i.user.natId),p(4),m("ngIf",!i.editingProfile),p(),m("ngIf",!i.editingProfile),p(),m("ngIf",i.editingProfile))},dependencies:[ve,Be,J,Ye,ln,Un,Hn,Ne,cn,Ue,an,zt,ga,We,aa],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:93vh;display:flex;align-items:center;justify-content:center}.registerForm[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:70%;max-width:800px}.registerForm[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600}.registerForm[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   select.form-select[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.registerForm[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark);width:50%;display:flex;justify-content:center;align-items:center;margin:0 auto}.registerForm[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.btn-outline-secondary[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;width:50%;display:flex;justify-content:center;align-items:center;margin:0 auto}']})};var Wt=class e{constructor(n,t){this.authService=n;this.router=t}canActivate(n,t){let i=this.authService.hasToken();return this.authService.setGuardedRoute(!0),i?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||e)(k(He),k(oe))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var hO=["*"];var mO=["dialog"];var N1={animation:!0,transitionTimerDelayMs:5},gO=(()=>{class e{constructor(){this.animation=N1.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _O(e){let{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e),i=parseFloat(n),r=parseFloat(t);return(i+r)*1e3}function O1(e){return typeof e=="string"}function Lm(e){return e!=null}function vO(e){return e&&e.then}function k1(e){return(e||document.body).getBoundingClientRect()}function yO(e){return n=>new W(t=>{let i=s=>e.run(()=>t.next(s)),r=s=>e.run(()=>t.error(s)),o=()=>e.run(()=>t.complete());return n.subscribe({next:i,error:r,complete:o})})}var bO=()=>{},{transitionTimerDelayMs:CO}=N1,Iu=new Map,Or=(e,n,t,i)=>{let r=i.context||{},o=Iu.get(n);if(o)switch(i.runningTransition){case"continue":return nt;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Iu.delete(n)}let s=t(n,i.animation,r)||bO;if(!i.animation||window.getComputedStyle(n).transitionProperty==="none")return e.run(()=>s()),F(void 0).pipe(yO(e));let a=new ae,l=new ae,d=a.pipe(Zd(!0));Iu.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let h=_O(n);return e.runOutsideAngular(()=>{let g=Kt(n,"transitionend").pipe(dt(d),Ae(({target:_})=>_===n)),y=Yd(h+CO).pipe(dt(d));Qd(y,g,l).pipe(dt(d)).subscribe(()=>{Iu.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var P1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var A1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var F1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),L1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var c8=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,n=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||n()):!1})();var DO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function V1(e){let n=Array.from(e.querySelectorAll(DO)).filter(t=>t.tabIndex!==-1);return[n[0],n[n.length-1]]}var wO=(e,n,t,i=!1)=>{e.runOutsideAngular(()=>{let r=Kt(n,"focusin").pipe(dt(t),Q(o=>o.target));Kt(n,"keydown").pipe(dt(t),Ae(o=>o.key==="Tab"),tl(r)).subscribe(([o,s])=>{let[a,l]=V1(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Kt(n,"click").pipe(dt(t),tl(r),Q(o=>o[1])).subscribe(o=>o.focus())})};var u8=new Date(1882,10,12),d8=new Date(2174,10,25);var f8=1e3*60*60*24;var Bm=1080,EO=24*Bm,SO=12*Bm+793,p8=29*EO+SO,h8=11*Bm+204;var j1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var B1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),IO=(()=>{class e{constructor(){this._ngbConfig=b(gO),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Yo=class{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}};var MO=(()=>{class e{constructor(){this._document=b(Re)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xO=(()=>{class e{constructor(){this._nativeElement=b(ze).nativeElement,this._zone=b(we),this._injector=b(rt)}ngOnInit(){Eo({mixedReadWrite:()=>Or(this._zone,this._nativeElement,(t,i)=>{i&&k1(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Or(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=L({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(lc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),gt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),zn=class{update(n){}close(n){}dismiss(n){}},TO=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],RO=["animation","backdropClass"],Vm=class{_applyWindowOptions(n,t){TO.forEach(i=>{Lm(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){RO.forEach(i=>{Lm(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(dt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(dt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ae,this._dismissed=new ae,this._hidden=new ae,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(n);else{let t=this._beforeDismiss();vO(t)?t.then(i=>{i!==!1&&this._dismiss(n)},()=>{}):t!==!1&&this._dismiss(n)}}_removeModalElements(){let n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():F(void 0);n.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ss(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},jm=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(jm||{}),NO=(()=>{class e{constructor(){this._document=b(Re),this._elRef=b(ze),this._zone=b(we),this._injector=b(rt),this._closed$=new ae,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new me,this.shown=new ae,this.hidden=new ae}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":O1(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,Eo({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Or(this._zone,t,()=>t.classList.remove("show"),i),o=Or(this._zone,this._dialogEl.nativeElement,()=>{},i),s=ss(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Or(this._zone,this._elRef.nativeElement,(o,s)=>{s&&k1(o),o.classList.add("show")},t),r=Or(this._zone,this._dialogEl.nativeElement,()=>{},t);ss(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Kt(t,"keydown").pipe(dt(this._closed$),Ae(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(jm.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Kt(this._dialogEl.nativeElement,"mousedown").pipe(dt(this._closed$),Le(()=>i=!1),Fe(()=>Kt(t,"mouseup").pipe(dt(this._closed$),Et(1))),Ae(({target:r})=>t===r)).subscribe(()=>{i=!0}),Kt(t,"click").pipe(dt(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(jm.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=V1(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Or(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=L({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&pi(mO,7),i&2){let o;gn(o=_n())&&(r._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,r){i&2&&(Ni("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy)("role",r.role),lc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),gt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:hO,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(Yv(),u(0,"div",1,0)(2,"div",2),Qv(3),c()()),i&2&&lc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),OO=(()=>{class e{constructor(){this._applicationRef=b(oi),this._injector=b(rt),this._environmentInjector=b(Je),this._document=b(Re),this._scrollBar=b(MO),this._activeWindowCmptHasChanged=new ae,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new me;let t=b(we);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];wO(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:Lm(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new zn;t=r.injector||t;let a=t.get(Je,null)||this._environmentInjector,l=this._getContentRef(t,a,i,s,r),d=r.backdrop!==!1?this._attachBackdrop(o):void 0,h=this._attachWindowComponent(o,l.nodes),g=new Vm(h,l,d,r.beforeDismiss);return this._registerModalRef(g),this._registerWindowCmpt(h),g.hidden.pipe(Et(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=y=>{g.close(y)},s.dismiss=y=>{g.dismiss(y)},s.update=y=>{g.update(y)},g.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),g}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=cc(xO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=cc(NO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof ri?this._createFromTemplateRef(r,o):O1(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new Yo([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new Yo([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Yo([[i]])}_createFromComponent(t,i,r,o,s){let a=rt.create({providers:[{provide:zn,useValue:o}],parent:t}),l=cc(r,{environmentInjector:i,elementInjector:a}),d=l.location.nativeElement;return s.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Yo([[d]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bi=(()=>{class e{constructor(){this._injector=b(rt),this._modalStack=b(OO),this._config=b(IO)}open(t,i={}){let r=S(H(S({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),U1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({providers:[bi]})}}return e})();var H1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var $1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var q1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var z1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var G1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var W1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var Y1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var Q1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var Z1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var m8=new P("live announcer delay",{providedIn:"root",factory:()=>100});var K1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var J1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),kO=[P1,A1,F1,L1,j1,B1,U1,H1,J1,$1,q1,z1,G1,W1,Y1,Q1,Z1,K1],X1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({imports:[kO,P1,A1,F1,L1,j1,B1,U1,H1,J1,$1,q1,z1,G1,W1,Y1,Q1,Z1,K1]})}}return e})();var $i=class e{constructor(n){this.http=n}endpoint="api/drapplication";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getAuthHeaders(){let n=this.getAuthToken();if(!n)throw console.error("No token found"),new Error("No token");return new st({Authorization:`Bearer ${n}`})}getMyApplications(){let n=this.getAuthHeaders();return this.http.get(`${this.endpoint}/GetMyApplications`,{headers:n})}addApplication(n){let t=this.getAuthHeaders();return this.http.post(`${this.endpoint}`,n,{headers:t})}deleteApplication(n){let t=this.getAuthHeaders();return this.http.delete(`${this.endpoint}/Delete/${n}`,{headers:t})}updateApplication(n,t){let i=this.getAuthHeaders();return this.http.put(`${this.endpoint}/Update?id=${n}`,t,{headers:i})}static \u0275fac=function(t){return new(t||e)(k(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var Gn=class e{constructor(n,t){this.activeModal=n;this.modalService=t}applicationService=b($i);offeredPrice;deliveryRequestID=0;modalTitle="";modalMessage="";Apply(){console.log("deliveryRequestID:",this.deliveryRequestID);let n={offeredPrice:this.offeredPrice,deliveryRequestId:this.deliveryRequestID};console.log("data:",n),this.applicationService.addApplication(n).subscribe({next:t=>{if(t.isSuccess)console.log(t),this.activeModal.close();else{var i=t.message||"An error occurred while fetching request details.";console.error(i)}},error:t=>{console.error("An error occurred:",t)}})}static \u0275fac=function(t){return new(t||e)(D(zn),D(bi))};static \u0275cmp=L({type:e,selectors:[["app-add-application"]],inputs:{deliveryRequestID:"deliveryRequestID"},decls:17,vars:1,consts:[[1,"container","add-application","my-1","mb-5"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"text-muted"],[1,"form-floating"],["type","number","name","offeredPrice","id","offeredPrice",1,"form-control",3,"ngModelChange","ngModel"],["for","offeredPrice"],[1,"gap-2","mt-4"],["type","submit",1,"btn","btn-main","px-4","py-1","text-white",3,"click"],["type","button","aria-label","Close",1,"btn","btn-danger","px-4","py-1","mx-3",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h3",2),f(3,"Apply"),c(),u(4,"button",3),M("click",function(){return i.activeModal.close()}),c()(),u(5,"form")(6,"p",4),f(7,"Please add your offered price to get in touch with requester."),c(),u(8,"div",5)(9,"input",6),Se("ngModelChange",function(o){return xe(i.offeredPrice,o)||(i.offeredPrice=o),o}),c(),u(10,"label",7),f(11,"offered Price (EGP)"),c()(),u(12,"div",8)(13,"button",9),M("click",function(){return i.Apply()}),f(14,"Apply"),c(),u(15,"button",10),M("click",function(){return i.activeModal.close()}),f(16,"Close"),c()()()()),t&2&&(p(9),Ee("ngModel",i.offeredPrice))},dependencies:[X1,Ye,ln,Ne,Dn,Ue,an,zt,ga],styles:[".add-application[_ngcontent-%COMP%]{width:92%}.add-application[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark)}.form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:var(--yellow)!important;box-shadow:none}"]})};var Yt=class extends Error{constructor(n,t){let i=new.target.prototype;super(`${n}: Status code '${t}'`),this.statusCode=t,this.__proto__=i}},qi=class extends Error{constructor(n="A timeout occurred."){let t=new.target.prototype;super(n),this.__proto__=t}},ct=class extends Error{constructor(n="An abort occurred."){let t=new.target.prototype;super(n),this.__proto__=t}},xu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=i}},Tu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=i}},Ru=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=i}},va=class extends Error{constructor(n){let t=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}},Nu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.innerErrors=t,this.__proto__=i}};var Qo=class{constructor(n,t,i){this.statusCode=n,this.statusText=t,this.content=i}},Wn=class{get(n,t){return this.send(H(S({},t),{method:"GET",url:n}))}post(n,t){return this.send(H(S({},t),{method:"POST",url:n}))}delete(n,t){return this.send(H(S({},t),{method:"DELETE",url:n}))}getCookieString(n){return""}};var w=function(e){return e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None",e}(w||{});var Yn=class{constructor(){}log(n,t){}};Yn.instance=new Yn;var PO="8.0.7",ye=class{static isRequired(n,t){if(n==null)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(n,t){if(!n||n.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(n,t,i){if(!(n in t))throw new Error(`Unknown ${i} value: ${n}.`)}},De=class e{static get isBrowser(){return!e.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!e.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!e.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}};function zi(e,n){let t="";return En(e)?(t=`Binary data of length ${e.byteLength}`,n&&(t+=`. Content: '${AO(e)}'`)):typeof e=="string"&&(t=`String data of length ${e.length}`,n&&(t+=`. Content: '${e}'`)),t}function AO(e){let n=new Uint8Array(e),t="";return n.forEach(i=>{let r=i<16?"0":"";t+=`0x${r}${i.toString(16)} `}),t.substr(0,t.length-1)}function En(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}function ku(e,n,t,i,r,o){return X(this,null,function*(){let s={},[a,l]=Qn();s[a]=l,e.log(w.Trace,`(${n} transport) sending data. ${zi(r,o.logMessageContent)}.`);let d=En(r)?"arraybuffer":"text",h=yield t.post(i,{content:r,headers:S(S({},s),o.headers),responseType:d,timeout:o.timeout,withCredentials:o.withCredentials});e.log(w.Trace,`(${n} transport) request complete. Response status: ${h.statusCode}.`)})}function tC(e){return e===void 0?new kr(w.Information):e===null?Yn.instance:e.log!==void 0?e:new kr(e)}var Ou=class{constructor(n,t){this._subject=n,this._observer=t}dispose(){let n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(t=>{})}},kr=class{constructor(n){this._minLevel=n,this.out=console}log(n,t){if(n>=this._minLevel){let i=`[${new Date().toISOString()}] ${w[n]}: ${t}`;switch(n){case w.Critical:case w.Error:this.out.error(i);break;case w.Warning:this.out.warn(i);break;case w.Information:this.out.info(i);break;default:this.out.log(i);break}}}};function Qn(){let e="X-SignalR-User-Agent";return De.isNode&&(e="User-Agent"),[e,FO(PO,LO(),jO(),VO())]}function FO(e,n,t,i){let r="Microsoft SignalR/",o=e.split(".");return r+=`${o[0]}.${o[1]}`,r+=` (${e}; `,n&&n!==""?r+=`${n}; `:r+="Unknown OS; ",r+=`${t}`,i?r+=`; ${i}`:r+="; Unknown Runtime Version",r+=")",r}function LO(){if(De.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function VO(){if(De.isNode)return process.versions.node}function jO(){return De.isNode?"NodeJS":"Browser"}function Pu(e){return e.stack?e.stack:e.message?e.message:`${e}`}function nC(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}var Au=class extends Wn{constructor(n){if(super(),this._logger=n,typeof fetch>"u"||De.isNode){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Lr;this._jar=new(t("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=t("node-fetch"):this._fetchType=fetch,this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(nC());if(typeof AbortController>"u"){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Lr;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}send(n){return X(this,null,function*(){if(n.abortSignal&&n.abortSignal.aborted)throw new ct;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");let t=new this._abortControllerType,i;n.abortSignal&&(n.abortSignal.onabort=()=>{t.abort(),i=new ct});let r=null;if(n.timeout){let l=n.timeout;r=setTimeout(()=>{t.abort(),this._logger.log(w.Warning,"Timeout from HTTP request."),i=new qi},l)}n.content===""&&(n.content=void 0),n.content&&(n.headers=n.headers||{},En(n.content)?n.headers["Content-Type"]="application/octet-stream":n.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=yield this._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:n.withCredentials===!0?"include":"same-origin",headers:S({"X-Requested-With":"XMLHttpRequest"},n.headers),method:n.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(l){throw i||(this._logger.log(w.Warning,`Error from HTTP request. ${l}.`),l)}finally{r&&clearTimeout(r),n.abortSignal&&(n.abortSignal.onabort=null)}if(!o.ok){let l=yield iC(o,"text");throw new Yt(l||o.statusText,o.status)}let a=yield iC(o,n.responseType);return new Qo(o.status,o.statusText,a)})}getCookieString(n){let t="";return De.isNode&&this._jar&&this._jar.getCookies(n,(i,r)=>t=r.join("; ")),t}};function iC(e,n){let t;switch(n){case"arraybuffer":t=e.arrayBuffer();break;case"text":t=e.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`);default:t=e.text();break}return t}var Fu=class extends Wn{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new ct):n.method?n.url?new Promise((t,i)=>{let r=new XMLHttpRequest;r.open(n.method,n.url,!0),r.withCredentials=n.withCredentials===void 0?!0:n.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.content===""&&(n.content=void 0),n.content&&(En(n.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));let o=n.headers;o&&Object.keys(o).forEach(s=>{r.setRequestHeader(s,o[s])}),n.responseType&&(r.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{r.abort(),i(new ct)}),n.timeout&&(r.timeout=n.timeout),r.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new Qo(r.status,r.statusText,r.response||r.responseText)):i(new Yt(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(w.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),i(new Yt(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(w.Warning,"Timeout from HTTP request."),i(new qi)},r.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}};var Lu=class extends Wn{constructor(n){if(super(),typeof fetch<"u"||De.isNode)this._httpClient=new Au(n);else if(typeof XMLHttpRequest<"u")this._httpClient=new Fu(n);else throw new Error("No usable HttpClient found.")}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new ct):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}};var Qt=class e{static write(n){return`${n}${e.RecordSeparator}`}static parse(n){if(n[n.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");let t=n.split(e.RecordSeparator);return t.pop(),t}};Qt.RecordSeparatorCode=30;Qt.RecordSeparator=String.fromCharCode(Qt.RecordSeparatorCode);var Vu=class{writeHandshakeRequest(n){return Qt.write(JSON.stringify(n))}parseHandshakeResponse(n){let t,i;if(En(n)){let a=new Uint8Array(n),l=a.indexOf(Qt.RecordSeparatorCode);if(l===-1)throw new Error("Message is incomplete.");let d=l+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,d))),i=a.byteLength>d?a.slice(d).buffer:null}else{let a=n,l=a.indexOf(Qt.RecordSeparator);if(l===-1)throw new Error("Message is incomplete.");let d=l+1;t=a.substring(0,d),i=a.length>d?a.substring(d):null}let r=Qt.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[i,o]}};var z=function(e){return e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence",e}(z||{});var ju=class{constructor(){this.observers=[]}next(n){for(let t of this.observers)t.next(n)}error(n){for(let t of this.observers)t.error&&t.error(n)}complete(){for(let n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new Ou(this,n)}};var Bu=class{constructor(n,t,i){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=n,this._connection=t,this._bufferSize=i}_send(n){return X(this,null,function*(){let t=this._protocol.writeMessage(n),i=Promise.resolve();if(this._isInvocationMessage(n)){this._totalMessageCount++;let r=()=>{},o=()=>{};En(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(i=new Promise((s,a)=>{r=s,o=a})),this._messages.push(new Um(t,this._totalMessageCount,r,o))}try{this._reconnectInProgress||(yield this._connection.send(t))}catch{this._disconnected()}yield i})}_ack(n){let t=-1;for(let i=0;i<this._messages.length;i++){let r=this._messages[i];if(r._id<=n.sequenceId)t=i,En(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else if(this._bufferedByteCount<this._bufferSize)r._resolver();else break}t!==-1&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(n){if(this._waitForSequenceMessage)return n.type!==z.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(n))return!0;let t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(n){if(n.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=n.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}_resend(){return X(this,null,function*(){let n=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;yield this._connection.send(this._protocol.writeMessage({type:z.Sequence,sequenceId:n}));let t=this._messages;for(let i of t)yield this._connection.send(i._message);this._reconnectInProgress=!1})}_dispose(n){n??(n=new Error("Unable to reconnect to server."));for(let t of this._messages)t._rejector(n)}_isInvocationMessage(n){switch(n.type){case z.Invocation:case z.StreamItem:case z.Completion:case z.StreamInvocation:case z.CancelInvocation:return!0;case z.Close:case z.Sequence:case z.Ping:case z.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(()=>X(this,null,function*(){try{this._reconnectInProgress||(yield this._connection.send(this._protocol.writeMessage({type:z.Ack,sequenceId:this._latestReceivedSequenceId})))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0}),1e3))}},Um=class{constructor(n,t,i,r){this._message=n,this._id=t,this._resolver=i,this._rejector=r}};var BO=30*1e3,UO=15*1e3,HO=1e5,ke=function(e){return e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting",e}(ke||{}),Uu=class e{static create(n,t,i,r,o,s,a){return new e(n,t,i,r,o,s,a)}constructor(n,t,i,r,o,s,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(w.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ye.isRequired(n,"connection"),ye.isRequired(t,"logger"),ye.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=o??BO,this.keepAliveIntervalInMilliseconds=s??UO,this._statefulReconnectBufferSize=a??HO,this._logger=t,this._protocol=i,this.connection=n,this._reconnectPolicy=r,this._handshakeProtocol=new Vu,this.connection.onreceive=l=>this._processIncomingData(l),this.connection.onclose=l=>this._connectionClosed(l),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=ke.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:z.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==ke.Disconnected&&this._connectionState!==ke.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){return X(this,null,function*(){if(this._connectionState!==ke.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=ke.Connecting,this._logger.log(w.Debug,"Starting HubConnection.");try{yield this._startInternal(),De.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=ke.Connected,this._connectionStarted=!0,this._logger.log(w.Debug,"HubConnection connected successfully.")}catch(n){return this._connectionState=ke.Disconnected,this._logger.log(w.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}})}_startInternal(){return X(this,null,function*(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;let n=new Promise((t,i)=>{this._handshakeResolver=t,this._handshakeRejecter=i});yield this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);let i={protocol:this._protocol.name,version:t};if(this._logger.log(w.Debug,"Sending handshake request."),yield this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(i)),this._logger.log(w.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),yield n,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Bu(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||(yield this._sendMessage(this._cachedPingMessage))}catch(t){throw this._logger.log(w.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),yield this.connection.stop(t),t}})}stop(){return X(this,null,function*(){let n=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),yield this._stopPromise;try{yield n}catch{}})}_stopInternal(n){if(this._connectionState===ke.Disconnected)return this._logger.log(w.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===ke.Disconnecting)return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;let t=this._connectionState;return this._connectionState=ke.Disconnecting,this._logger.log(w.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(w.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===ke.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new ct("The connection was stopped before the hub handshake could complete."),this.connection.stop(n))}_sendCloseMessage(){return X(this,null,function*(){try{yield this._sendWithProtocol(this._createCloseMessage())}catch{}})}stream(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(n,t,r),s,a=new ju;return a.cancelCallback=()=>{let l=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(l))},this._callbacks[o.invocationId]=(l,d)=>{if(d){a.error(d);return}else l&&(l.type===z.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},s=this._sendWithProtocol(o).catch(l=>{a.error(l),delete this._callbacks[o.invocationId]}),this._launchStreams(i,s),a}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._messageBuffer?this._messageBuffer._send(n):this._sendMessage(this._protocol.writeMessage(n))}send(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(n,t,!0,r));return this._launchStreams(i,o),o}invoke(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createInvocation(n,t,!1,r);return new Promise((a,l)=>{this._callbacks[o.invocationId]=(h,g)=>{if(g){l(g);return}else h&&(h.type===z.Completion?h.error?l(new Error(h.error)):a(h.result):l(new Error(`Unexpected message type: ${h.type}`)))};let d=this._sendWithProtocol(o).catch(h=>{l(h),delete this._callbacks[o.invocationId]});this._launchStreams(i,d)})}on(n,t){!n||!t||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),this._methods[n].indexOf(t)===-1&&this._methods[n].push(t))}off(n,t){if(!n)return;n=n.toLowerCase();let i=this._methods[n];if(i)if(t){let r=i.indexOf(t);r!==-1&&(i.splice(r,1),i.length===0&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){let t=this._protocol.parseMessages(n,this._logger);for(let i of t)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(i)))switch(i.type){case z.Invocation:this._invokeClientMethod(i).catch(r=>{this._logger.log(w.Error,`Invoke client method threw error: ${Pu(r)}`)});break;case z.StreamItem:case z.Completion:{let r=this._callbacks[i.invocationId];if(r){i.type===z.Completion&&delete this._callbacks[i.invocationId];try{r(i)}catch(o){this._logger.log(w.Error,`Stream callback threw error: ${Pu(o)}`)}}break}case z.Ping:break;case z.Close:{this._logger.log(w.Information,"Close message received from server.");let r=i.error?new Error("Server returned an error on close: "+i.error):void 0;i.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case z.Ack:this._messageBuffer&&this._messageBuffer._ack(i);break;case z.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(i);break;default:this._logger.log(w.Warning,`Invalid message type: ${i.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let t,i;try{[i,t]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(r){let o="Error parsing handshake response: "+r;this._logger.log(w.Error,o);let s=new Error(o);throw this._handshakeRejecter(s),s}if(t.error){let r="Server returned handshake error: "+t.error;this._logger.log(w.Error,r);let o=new Error(r);throw this._handshakeRejecter(o),o}else this._logger.log(w.Debug,"Server handshake complete.");return this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let n=this._nextKeepAlive-new Date().getTime();n<0&&(n=0),this._pingServerHandle=setTimeout(()=>X(this,null,function*(){if(this._connectionState===ke.Connected)try{yield this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),n)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(n){return X(this,null,function*(){let t=n.target.toLowerCase(),i=this._methods[t];if(!i){this._logger.log(w.Warning,`No client method with the name '${t}' found.`),n.invocationId&&(this._logger.log(w.Warning,`No result given for '${t}' method and invocation ID '${n.invocationId}'.`),yield this._sendWithProtocol(this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)));return}let r=i.slice(),o=!!n.invocationId,s,a,l;for(let d of r)try{let h=s;s=yield d.apply(this,n.arguments),o&&s&&h&&(this._logger.log(w.Error,`Multiple results provided for '${t}'. Sending error to server.`),l=this._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),a=void 0}catch(h){a=h,this._logger.log(w.Error,`A callback for the method '${t}' threw error '${h}'.`)}l?yield this._sendWithProtocol(l):o?(a?l=this._createCompletionMessage(n.invocationId,`${a}`,null):s!==void 0?l=this._createCompletionMessage(n.invocationId,null,s):(this._logger.log(w.Warning,`No result given for '${t}' method and invocation ID '${n.invocationId}'.`),l=this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),yield this._sendWithProtocol(l)):s&&this._logger.log(w.Error,`Result given for '${t}' method but server is not expecting a result.`)})}_connectionClosed(n){this._logger.log(w.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new ct("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===ke.Disconnecting?this._completeClose(n):this._connectionState===ke.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===ke.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=ke.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(n??new Error("Connection closed.")),this._messageBuffer=void 0),De.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[n]))}catch(t){this._logger.log(w.Error,`An onclose callback called with error '${n}' threw error '${t}'.`)}}}_reconnect(n){return X(this,null,function*(){let t=Date.now(),i=0,r=n!==void 0?n:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(i++,0,r);if(o===null){this._logger.log(w.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(n);return}if(this._connectionState=ke.Reconnecting,n?this._logger.log(w.Information,`Connection reconnecting because of error '${n}'.`):this._logger.log(w.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[n]))}catch(s){this._logger.log(w.Error,`An onreconnecting callback called with error '${n}' threw error '${s}'.`)}if(this._connectionState!==ke.Reconnecting){this._logger.log(w.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(w.Information,`Reconnect attempt number ${i} will start in ${o} ms.`),yield new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==ke.Reconnecting){this._logger.log(w.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(yield this._startInternal(),this._connectionState=ke.Connected,this._logger.log(w.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(w.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(w.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==ke.Reconnecting){this._logger.log(w.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===ke.Disconnecting&&this._completeClose();return}r=s instanceof Error?s:new Error(s.toString()),o=this._getNextRetryDelay(i++,Date.now()-t,r)}}this._logger.log(w.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()})}_getNextRetryDelay(n,t,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:n,retryReason:i})}catch(r){return this._logger.log(w.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${t}) threw error '${r}'.`),null}}_cancelCallbacksWithError(n){let t=this._callbacks;this._callbacks={},Object.keys(t).forEach(i=>{let r=t[i];try{r(null,n)}catch(o){this._logger.log(w.Error,`Stream 'error' callback called with '${n}' threw error: ${Pu(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,t,i,r){if(i)return r.length!==0?{arguments:t,streamIds:r,target:n,type:z.Invocation}:{arguments:t,target:n,type:z.Invocation};{let o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:t,invocationId:o.toString(),streamIds:r,target:n,type:z.Invocation}:{arguments:t,invocationId:o.toString(),target:n,type:z.Invocation}}}_launchStreams(n,t){if(n.length!==0){t||(t=Promise.resolve());for(let i in n)n[i].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:r=>{let o;r instanceof Error?o=r.message:r&&r.toString?o=r.toString():o="Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,o)))},next:r=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,r)))}})}}_replaceStreamingParams(n){let t=[],i=[];for(let r=0;r<n.length;r++){let o=n[r];if(this._isObservable(o)){let s=this._invocationId;this._invocationId++,t[s]=o,i.push(s.toString()),n.splice(r,1)}}return[t,i]}_isObservable(n){return n&&n.subscribe&&typeof n.subscribe=="function"}_createStreamInvocation(n,t,i){let r=this._invocationId;return this._invocationId++,i.length!==0?{arguments:t,invocationId:r.toString(),streamIds:i,target:n,type:z.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:n,type:z.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:z.CancelInvocation}}_createStreamItemMessage(n,t){return{invocationId:n,item:t,type:z.StreamItem}}_createCompletionMessage(n,t,i){return t?{error:t,invocationId:n,type:z.Completion}:{invocationId:n,result:i,type:z.Completion}}_createCloseMessage(){return{type:z.Close}}};var $O=[0,2e3,1e4,3e4,null],ya=class{constructor(n){this._retryDelays=n!==void 0?[...n,null]:$O}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}};var Pr=(()=>{class e{}return e.Authorization="Authorization",e.Cookie="Cookie",e})();var Hu=class extends Wn{constructor(n,t){super(),this._innerClient=n,this._accessTokenFactory=t}send(n){return X(this,null,function*(){let t=!0;this._accessTokenFactory&&(!this._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=yield this._accessTokenFactory()),this._setAuthorizationHeader(n);let i=yield this._innerClient.send(n);return t&&i.statusCode===401&&this._accessTokenFactory?(this._accessToken=yield this._accessTokenFactory(),this._setAuthorizationHeader(n),yield this._innerClient.send(n)):i})}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Pr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Pr.Authorization]&&delete n.headers[Pr.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}};var tt=function(e){return e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling",e}(tt||{}),Qe=function(e){return e[e.Text=1]="Text",e[e.Binary=2]="Binary",e}(Qe||{});var $u=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};var ba=class{get pollAborted(){return this._pollAbort.aborted}constructor(n,t,i){this._httpClient=n,this._logger=t,this._pollAbort=new $u,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}connect(n,t){return X(this,null,function*(){if(ye.isRequired(n,"url"),ye.isRequired(t,"transferFormat"),ye.isIn(t,Qe,"transferFormat"),this._url=n,this._logger.log(w.Trace,"(LongPolling transport) Connecting."),t===Qe.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");let[i,r]=Qn(),o=S({[i]:r},this._options.headers),s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===Qe.Binary&&(s.responseType="arraybuffer");let a=`${n}&_=${Date.now()}`;this._logger.log(w.Trace,`(LongPolling transport) polling: ${a}.`);let l=yield this._httpClient.get(a,s);l.statusCode!==200?(this._logger.log(w.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new Yt(l.statusText||"",l.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)})}_poll(n,t){return X(this,null,function*(){try{for(;this._running;)try{let i=`${n}&_=${Date.now()}`;this._logger.log(w.Trace,`(LongPolling transport) polling: ${i}.`);let r=yield this._httpClient.get(i,t);r.statusCode===204?(this._logger.log(w.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(w.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new Yt(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(w.Trace,`(LongPolling transport) data received. ${zi(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(w.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){this._running?i instanceof qi?this._logger.log(w.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=i,this._running=!1):this._logger.log(w.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{this._logger.log(w.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}})}send(n){return X(this,null,function*(){return this._running?ku(this._logger,"LongPolling",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return X(this,null,function*(){this._logger.log(w.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{yield this._receiving,this._logger.log(w.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);let n={},[t,i]=Qn();n[t]=i;let r={headers:S(S({},n),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials},o;try{yield this._httpClient.delete(this._url,r)}catch(s){o=s}o?o instanceof Yt&&(o.statusCode===404?this._logger.log(w.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(w.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(w.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(w.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}})}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(w.Trace,n),this.onclose(this._closeError)}}};var qu=class{constructor(n,t,i,r){this._httpClient=n,this._accessToken=t,this._logger=i,this._options=r,this.onreceive=null,this.onclose=null}connect(n,t){return X(this,null,function*(){return ye.isRequired(n,"url"),ye.isRequired(t,"transferFormat"),ye.isIn(t,Qe,"transferFormat"),this._logger.log(w.Trace,"(SSE transport) Connecting."),this._url=n,this._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((i,r)=>{let o=!1;if(t!==Qe.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(De.isBrowser||De.isWebWorker)s=new this._options.EventSource(n,{withCredentials:this._options.withCredentials});else{let a=this._httpClient.getCookieString(n),l={};l.Cookie=a;let[d,h]=Qn();l[d]=h,s=new this._options.EventSource(n,{withCredentials:this._options.withCredentials,headers:S(S({},l),this._options.headers)})}try{s.onmessage=a=>{if(this.onreceive)try{this._logger.log(w.Trace,`(SSE transport) data received. ${zi(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(l){this._close(l);return}},s.onerror=a=>{o?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(w.Information,`SSE connected to ${this._url}`),this._eventSource=s,o=!0,i()}}catch(a){r(a);return}})})}send(n){return X(this,null,function*(){return this._eventSource?ku(this._logger,"SSE",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}};var zu=class{constructor(n,t,i,r,o,s){this._logger=i,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=s}connect(n,t){return X(this,null,function*(){ye.isRequired(n,"url"),ye.isRequired(t,"transferFormat"),ye.isIn(t,Qe,"transferFormat"),this._logger.log(w.Trace,"(WebSockets transport) Connecting.");let i;return this._accessTokenFactory&&(i=yield this._accessTokenFactory()),new Promise((r,o)=>{n=n.replace(/^http/,"ws");let s,a=this._httpClient.getCookieString(n),l=!1;if(De.isNode||De.isReactNative){let d={},[h,g]=Qn();d[h]=g,i&&(d[Pr.Authorization]=`Bearer ${i}`),a&&(d[Pr.Cookie]=a),s=new this._webSocketConstructor(n,void 0,{headers:S(S({},d),this._headers)})}else i&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);s||(s=new this._webSocketConstructor(n)),t===Qe.Binary&&(s.binaryType="arraybuffer"),s.onopen=d=>{this._logger.log(w.Information,`WebSocket connected to ${n}.`),this._webSocket=s,l=!0,r()},s.onerror=d=>{let h=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?h=d.error:h="There was an error with the transport",this._logger.log(w.Information,`(WebSockets transport) ${h}.`)},s.onmessage=d=>{if(this._logger.log(w.Trace,`(WebSockets transport) data received. ${zi(d.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(d.data)}catch(h){this._close(h);return}},s.onclose=d=>{if(l)this._close(d);else{let h=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?h=d.error:h="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(h))}}})})}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(w.Trace,`(WebSockets transport) sending data. ${zi(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(w.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(n)&&(n.wasClean===!1||n.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)):n instanceof Error?this.onclose(n):this.onclose())}_isCloseEvent(n){return n&&typeof n.wasClean=="boolean"&&typeof n.code=="number"}};var rC=100,Gu=class{constructor(n,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ye.isRequired(n,"url"),this._logger=tC(t.logger),this.baseUrl=this._resolveUrl(n),t=t||{},t.logMessageContent=t.logMessageContent===void 0?!1:t.logMessageContent,typeof t.withCredentials=="boolean"||t.withCredentials===void 0)t.withCredentials=t.withCredentials===void 0?!0:t.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.timeout=t.timeout===void 0?100*1e3:t.timeout;let i=null,r=null;if(De.isNode&&typeof Lr<"u"){let o=typeof __webpack_require__=="function"?__non_webpack_require__:Lr;i=o("ws"),r=o("eventsource")}!De.isNode&&typeof WebSocket<"u"&&!t.WebSocket?t.WebSocket=WebSocket:De.isNode&&!t.WebSocket&&i&&(t.WebSocket=i),!De.isNode&&typeof EventSource<"u"&&!t.EventSource?t.EventSource=EventSource:De.isNode&&!t.EventSource&&typeof r<"u"&&(t.EventSource=r),this._httpClient=new Hu(t.httpClient||new Lu(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}start(n){return X(this,null,function*(){if(n=n||Qe.Binary,ye.isIn(n,Qe,"transferFormat"),this._logger.log(w.Debug,`Starting connection with transfer format '${Qe[n]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(n),yield this._startInternalPromise,this._connectionState==="Disconnecting"){let t="Failed to start the HttpConnection before stop() was called.";return this._logger.log(w.Error,t),yield this._stopPromise,Promise.reject(new ct(t))}else if(this._connectionState!=="Connected"){let t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(w.Error,t),Promise.reject(new ct(t))}this._connectionStarted=!0})}send(n){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Hm(this.transport)),this._sendQueue.send(n))}stop(n){return X(this,null,function*(){if(this._connectionState==="Disconnected")return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(t=>{this._stopPromiseResolver=t}),yield this._stopInternal(n),yield this._stopPromise})}_stopInternal(n){return X(this,null,function*(){this._stopError=n;try{yield this._startInternalPromise}catch{}if(this.transport){try{yield this.transport.stop()}catch(t){this._logger.log(w.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(w.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})}_startInternal(n){return X(this,null,function*(){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===tt.WebSockets)this.transport=this._constructTransport(tt.WebSockets),yield this._startTransport(t,n);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let i=null,r=0;do{if(i=yield this._getNegotiationResponse(t),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ct("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(t=i.url),i.accessToken){let o=i.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}r++}while(i.url&&r<rC);if(r===rC&&i.url)throw new Error("Negotiate redirection limit exceeded.");yield this._createTransport(t,this._options.transport,i,n)}this.transport instanceof ba&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(w.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(i){return this._logger.log(w.Error,"Failed to start the connection: "+i),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(i)}})}_getNegotiationResponse(n){return X(this,null,function*(){let t={},[i,r]=Qn();t[i]=r;let o=this._resolveNegotiateUrl(n);this._logger.log(w.Debug,`Sending negotiation request: ${o}.`);try{let s=yield this._httpClient.post(o,{content:"",headers:S(S({},t),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));let a=JSON.parse(s.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new va("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(s){let a="Failed to complete negotiation with the server: "+s;return s instanceof Yt&&s.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(w.Error,a),Promise.reject(new va(a))}})}_createConnectUrl(n,t){return t?n+(n.indexOf("?")===-1?"?":"&")+`id=${t}`:n}_createTransport(n,t,i,r){return X(this,null,function*(){let o=this._createConnectUrl(n,i.connectionToken);if(this._isITransport(t)){this._logger.log(w.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,yield this._startTransport(o,r),this.connectionId=i.connectionId;return}let s=[],a=i.availableTransports||[],l=i;for(let d of a){let h=this._resolveTransportOrError(d,t,r,l?.useStatefulReconnect===!0);if(h instanceof Error)s.push(`${d.transport} failed:`),s.push(h);else if(this._isITransport(h)){if(this.transport=h,!l){try{l=yield this._getNegotiationResponse(n)}catch(g){return Promise.reject(g)}o=this._createConnectUrl(n,l.connectionToken)}try{yield this._startTransport(o,r),this.connectionId=l.connectionId;return}catch(g){if(this._logger.log(w.Error,`Failed to start the transport '${d.transport}': ${g}`),l=void 0,s.push(new Ru(`${d.transport} failed: ${g}`,tt[d.transport])),this._connectionState!=="Connecting"){let y="Failed to select transport before stop() was called.";return this._logger.log(w.Debug,y),Promise.reject(new ct(y))}}}}return s.length>0?Promise.reject(new Nu(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))})}_constructTransport(n){switch(n){case tt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new zu(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case tt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new qu(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case tt.LongPolling:return new ba(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=i=>X(this,null,function*(){let r=!1;if(this.features.reconnect)try{this.features.disconnected(),yield this.transport.connect(n,t),yield this.features.resend()}catch{r=!0}else{this._stopConnection(i);return}r&&this._stopConnection(i)}):this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(n,t)}_resolveTransportOrError(n,t,i,r){let o=tt[n.transport];if(o==null)return this._logger.log(w.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(qO(t,o))if(n.transferFormats.map(a=>Qe[a]).indexOf(i)>=0){if(o===tt.WebSockets&&!this._options.WebSocket||o===tt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it is not supported in your environment.'`),new xu(`'${tt[o]}' is not supported in your environment.`,o);this._logger.log(w.Debug,`Selecting transport '${tt[o]}'.`);try{return this.features.reconnect=o===tt.WebSockets?r:void 0,this._constructTransport(o)}catch(a){return a}}else return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it does not support the requested transfer format '${Qe[i]}'.`),new Error(`'${tt[o]}' does not support ${Qe[i]}.`);else return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it was disabled by the client.`),new Tu(`'${tt[o]}' is disabled by the client.`,o)}_isITransport(n){return n&&typeof n=="object"&&"connect"in n}_stopConnection(n){if(this._logger.log(w.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(w.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(w.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),n?this._logger.log(w.Error,`Connection disconnected with error '${n}'.`):this._logger.log(w.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(t=>{this._logger.log(w.Error,`TransportSendQueue.stop() threw error '${t}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(t){this._logger.log(w.Error,`HttpConnection.onclose(${n}) threw error '${t}'.`)}}}_resolveUrl(n){if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(!De.isBrowser)throw new Error(`Cannot resolve '${n}'.`);let t=window.document.createElement("a");return t.href=n,this._logger.log(w.Information,`Normalizing '${n}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(n){let t=new URL(n);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";let i=new URLSearchParams(t.searchParams);return i.has("negotiateVersion")||i.append("negotiateVersion",this._negotiateVersion.toString()),i.has("useStatefulReconnect")?i.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&i.append("useStatefulReconnect","true"),t.search=i.toString(),t.toString()}};function qO(e,n){return!e||(n&e)!==0}var Hm=class e{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Zo,this._transportResult=new Zo,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Zo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}_sendLoop(){return X(this,null,function*(){for(;;){if(yield this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Zo;let n=this._transportResult;this._transportResult=void 0;let t=typeof this._buffer[0]=="string"?this._buffer.join(""):e._concatBuffers(this._buffer);this._buffer.length=0;try{yield this._transport.send(t),n.resolve()}catch(i){n.reject(i)}}})}static _concatBuffers(n){let t=n.map(o=>o.byteLength).reduce((o,s)=>o+s),i=new Uint8Array(t),r=0;for(let o of n)i.set(new Uint8Array(o),r),r+=o.byteLength;return i.buffer}},Zo=class{constructor(){this.promise=new Promise((n,t)=>[this._resolver,this._rejecter]=[n,t])}resolve(){this._resolver()}reject(n){this._rejecter(n)}};var zO="json",Wu=class{constructor(){this.name=zO,this.version=2,this.transferFormat=Qe.Text}parseMessages(n,t){if(typeof n!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];t===null&&(t=Yn.instance);let i=Qt.parse(n),r=[];for(let o of i){let s=JSON.parse(o);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case z.Invocation:this._isInvocationMessage(s);break;case z.StreamItem:this._isStreamItemMessage(s);break;case z.Completion:this._isCompletionMessage(s);break;case z.Ping:break;case z.Close:break;case z.Ack:this._isAckMessage(s);break;case z.Sequence:this._isSequenceMessage(s);break;default:t.log(w.Information,"Unknown message type '"+s.type+"' ignored.");continue}r.push(s)}return r}writeMessage(n){return Qt.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),n.invocationId!==void 0&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),n.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_isAckMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(n,t){if(typeof n!="string"||n==="")throw new Error(t)}};var GO={trace:w.Trace,debug:w.Debug,info:w.Information,information:w.Information,warn:w.Warning,warning:w.Warning,error:w.Error,critical:w.Critical,none:w.None};function WO(e){let n=GO[e.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${e}`)}var Ar=class{configureLogging(n){if(ye.isRequired(n,"logging"),YO(n))this.logger=n;else if(typeof n=="string"){let t=WO(n);this.logger=new kr(t)}else this.logger=new kr(n);return this}withUrl(n,t){return ye.isRequired(n,"url"),ye.isNotEmpty(n,"url"),this.url=n,typeof t=="object"?this.httpConnectionOptions=S(S({},this.httpConnectionOptions),t):this.httpConnectionOptions=H(S({},this.httpConnectionOptions),{transport:t}),this}withHubProtocol(n){return ye.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return n?Array.isArray(n)?this.reconnectPolicy=new ya(n):this.reconnectPolicy=n:this.reconnectPolicy=new ya,this}withServerTimeout(n){return ye.isRequired(n,"milliseconds"),this._serverTimeoutInMilliseconds=n,this}withKeepAliveInterval(n){return ye.isRequired(n,"milliseconds"),this._keepAliveIntervalInMilliseconds=n,this}withStatefulReconnect(n){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=n?.bufferSize,this}build(){let n=this.httpConnectionOptions||{};if(n.logger===void 0&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");let t=new Gu(this.url,n);return Uu.create(t,this.logger||Yn.instance,this.protocol||new Wu,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}};function YO(e){return e.log!==void 0}var Zn=class e{hubConnection;newMessageSubject=new ae;newMessage$=this.newMessageSubject.asObservable();constructor(){}startConnection(){this.hubConnection=new Ar().withUrl(`${lt.chatHubUrl}`,{accessTokenFactory:()=>localStorage.getItem("token")||sessionStorage.getItem("token")||""}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>console.log("SignalR connection started")).catch(n=>console.log("Error while starting connection: "+n)),this.registerSignalREvents()}registerSignalREvents(){this.hubConnection?this.hubConnection.on("ReceiveMessage",n=>{this.newMessageSubject.next(n)}):console.error("Hub connection is not established.")}startNewChat(n,t,i){let r={chatId:0,message:t,receiverId:i,date:new Date};this.sendMessage(r,n)}sendMessage(n,t){if(!n||!t){console.error("Message or deliveryRequestId is null or undefined.");return}this.hubConnection&&this.hubConnection.invoke("SendMessageToUser",n,t).catch(i=>console.error("Error while sending message: "+i))}stopConnection(){this.hubConnection&&this.hubConnection.stop().then(()=>console.log("SignalR connection stopped")).catch(n=>console.error("Error while stopping connection: "+n))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var Yu=class e{applicantId;deliveryRequestId;message="";signalRService=b(Zn);activeModal=b(zn);sendMessage(){this.message.trim()&&(this.signalRService.startNewChat(this.deliveryRequestId.toString(),this.message,this.applicantId),this.activeModal.close())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=L({type:e,selectors:[["app-chat-modal"]],inputs:{applicantId:"applicantId",deliveryRequestId:"deliveryRequestId"},decls:13,vars:2,consts:[[1,"modal-header","text-white"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","bg-white"],[1,"form-group"],["type","text","placeholder","Type a message...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-main","px-4",3,"click","disabled"],[1,"bi","bi-send-fill","ms-2"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"h5",1),f(2,"Send Message"),c(),u(3,"button",2),M("click",function(){return i.activeModal.dismiss()}),c()(),u(4,"div",3)(5,"div",4)(6,"input",5),Se("ngModelChange",function(o){return xe(i.message,o)||(i.message=o),o}),M("keyup.enter",function(){return i.sendMessage()}),c()()(),u(7,"div",6)(8,"button",7),M("click",function(){return i.activeModal.dismiss()}),f(9,"Close"),c(),u(10,"button",8),M("click",function(){return i.sendMessage()}),f(11," Send "),E(12,"i",9),c()()),t&2&&(p(6),Ee("ngModel",i.message),p(4),m("disabled",!i.message))},dependencies:[Ye,Ne,Ue,zt],styles:[".modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]{background-color:var(--dark)}textarea[_ngcontent-%COMP%]{resize:none}"]})};var QO=()=>["Accepted","Pending","Cancelled","Completed","Delivered"],ZO=()=>["Accepted","Pending","Rejected"];function KO(e,n){if(e&1&&(u(0,"div",33),f(1),c()),e&2){let t=v();p(),j(" ",t.errorMessage," ")}}function JO(e,n){if(e&1&&(u(0,"span",34),f(1),c()),e&2){let t=v();p(),T(t.deliveryRequestDetails.status)}}function XO(e,n){if(e&1&&(u(0,"span",35),f(1),c()),e&2){let t=v();p(),T(t.deliveryRequestDetails.status)}}function ek(e,n){if(e&1&&(u(0,"span",36),f(1),c()),e&2){let t=v();p(),T(t.deliveryRequestDetails.status)}}function tk(e,n){if(e&1&&(u(0,"span",37),f(1),c()),e&2){let t=v();p(),T(t.deliveryRequestDetails.status)}}function nk(e,n){if(e&1&&(u(0,"span",38),f(1),c()),e&2){let t=v();p(),T(t.deliveryRequestDetails.status)}}function ik(e,n){if(e&1&&(u(0,"span",39),f(1),c()),e&2){let t=v();p(),j(" ",t.deliveryRequestDetails.status," ")}}function rk(e,n){if(e&1){let t=re();u(0,"button",40),M("click",function(){N(t);let r=v();return O(r.openPopup(r.deliveryRequestDetails.id))}),f(1,"Add Application"),c()}}function ok(e,n){if(e&1&&(u(0,"div",41),E(1,"img",42),c()),e&2){let t=v();p(),m("src",t.imageBaseUrl+t.deliveryRequestDetails.drImageUrl,ut)}}function sk(e,n){if(e&1&&(u(0,"div",43),f(1),c()),e&2){let t=v();p(),j(" ",t.deliveryRequestDetails.userName.charAt(0).toUpperCase()," ")}}function ak(e,n){if(e&1&&(u(0,"span",34),f(1),c()),e&2){let t=v().$implicit;p(),T(t.applicationStatus)}}function lk(e,n){if(e&1&&(u(0,"span",35),f(1),c()),e&2){let t=v().$implicit;p(),T(t.applicationStatus)}}function ck(e,n){if(e&1&&(u(0,"span",36),f(1),c()),e&2){let t=v().$implicit;p(),T(t.applicationStatus)}}function uk(e,n){if(e&1&&(u(0,"span",39),f(1),c()),e&2){let t=v().$implicit;p(),j(" ",t.applicationStatus," ")}}function dk(e,n){if(e&1){let t=re();u(0,"div",45)(1,"div",46)(2,"div",14)(3,"div",47),E(4,"img",24),u(5,"div",48),C(6,ak,2,1,"span",3)(7,lk,2,1,"span",4)(8,ck,2,1,"span",5)(9,uk,2,1,"span",8),u(10,"div",49),f(11),c(),u(12,"div",50),f(13),c(),u(14,"div",51),f(15,"\u2605 \u2605 \u2605 \u2605 \u2606"),c()()(),u(16,"div",52)(17,"div",53)(18,"div",54),f(19),c(),u(20,"div"),f(21,"EGP"),c()()(),u(22,"div",55)(23,"div",56)(24,"button",57),M("click",function(){let r=N(t).$implicit,o=v(2);return O(o.updateApplicationStatus(r.id,1))}),E(25,"i",58),f(26," Accept "),c(),u(27,"button",59),M("click",function(){let r=N(t).$implicit,o=v(2);return O(o.updateApplicationStatus(r.id,2))}),E(28,"i",60),f(29," Reject "),c(),u(30,"button",61),M("click",function(){let r=N(t).$implicit,o=v(2);return O(o.openChatModal(r.userId,o.deliveryRequestDetails.id))}),E(31,"i",62),f(32," Chat "),c()()()()()()}if(e&2){let t=n.$implicit,i=v(2);p(4),m("src",i.imageBaseUrl+t.userProfileUrl,ut),p(2),m("ngIf",t.applicationStatus==="Accepted"),p(),m("ngIf",t.applicationStatus==="Pending"),p(),m("ngIf",t.applicationStatus==="Rejected"),p(),m("ngIf",!jt(10,ZO).includes(t.applicationStatus)),p(2),T(t.userName),p(2),T(t.date),p(6),T(t.offeredPrice),p(5),m("disabled",i.hasAcceptedApplication()&&t.applicationStatus!=="Accepted"),p(6),m("disabled",t.applicationStatus!=="Accepted")}}function fk(e,n){if(e&1&&(u(0,"section",32)(1,"h1",44),f(2,"Offered Applications"),c(),gr(3,dk,33,11,"div",45,Is),c()),e&2){let t=v();p(3),_r(t.deliveryRequestDetails.applicationDTOs)}}var Qu=class e{constructor(n){this.modalService=n}imageBaseUrl=lt.imageBaseUrl;deliveryRequestService=b(Gt);route=b(at);applicationService=b(Gt);deliveryRequestDetails;ApplicationstatusDTO;errorMessage="";router=b(oe);ngOnInit(){let n=Number(this.route.snapshot.paramMap.get("id"));if(!n){this.errorMessage="Invalid request ID";return}this.deliveryRequestService.getRequestDetails(n).subscribe({next:t=>{console.log(t),t.isSuccess?(this.deliveryRequestDetails=t.data,this.deliveryRequestDetails.pickUpDate=t.data.pickUpDate.split("T")[0],this.deliveryRequestDetails.applicationDTOs.forEach(i=>{i.date&&(i.date=i.date.split("T")[0])}),console.log(this.deliveryRequestDetails)):(this.errorMessage=t.message||"An error occurred while fetching request details.",console.error(this.errorMessage))}})}openPopup(n){if(localStorage.getItem("token")||sessionStorage.getItem("token")){let i=this.modalService.open(Gn,{centered:!0,size:"m"});i.componentInstance.deliveryRequestID=n}else this.router.navigate(["/login"])}openChatModal(n,t){let i=this.modalService.open(Yu);i.componentInstance.applicantId=n,i.componentInstance.deliveryRequestId=t}updateApplicationStatus(n,t){let i={id:n,status:t,deleveryRequestId:this.deliveryRequestDetails.id};console.log(i),this.applicationService.changeStatus(i).subscribe({next:r=>{r.isSuccess?this.deliveryRequestService.getRequestDetails(this.deliveryRequestDetails.id).subscribe(o=>{o.isSuccess?this.deliveryRequestDetails=o.data:this.errorMessage="Failed to refresh request details."}):this.errorMessage="Failed to update status."},error:r=>{this.errorMessage="An error occurred while updating the status.",console.error(this.errorMessage)}})}hasAcceptedApplication(){return this.deliveryRequestDetails.applicationDTOs?.some(n=>n.applicationStatus==="Accepted")||!1}get nonRejectedApplications(){return this.deliveryRequestDetails?.applicationDTOs?.filter(n=>n.applicationStatus!=="Rejected")}trackApp(n,t){return t.id}static \u0275fac=function(t){return new(t||e)(D(bi))};static \u0275cmp=L({type:e,selectors:[["app-delivery-request-details"]],decls:64,vars:22,consts:[[1,"container","my-5"],["class","alert alert-danger text-center fw-bold animate__animated animate__fadeIn",4,"ngIf"],[1,"py-5","container"],["class","badge bg-success status-badge",4,"ngIf"],["class","badge bg-warning text-dark status-badge",4,"ngIf"],["class","badge bg-danger status-badge",4,"ngIf"],["class","badge bg-info status-badge",4,"ngIf"],["class","badge bg-warning status-badge",4,"ngIf"],["class","badge bg-secondary status-badge",4,"ngIf"],[1,"row","align-items-center","mb-4"],[1,"col-md-8","col-12"],[1,"mb-3","mb-md-0"],[1,"col-md-4","col-12","text-md-end","text-start"],[1,"btn","btn-main"],[1,"row"],[1,"col-lg-8","col-12"],[1,"text-muted"],[1,"col-7"],[1,"fs-6",3,"innerHTML"],[1,"col-5"],["class","text-center me-2",4,"ngIf"],[1,"col-lg-4","col-12"],[1,"card","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center"],["alt","User","width","50","height","50",1,"rounded-circle","me-3",3,"src"],["class","d-flex justify-content-center align-items-center rounded-circle text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"mb-0","fw-bold"],[1,"card","shadow-sm"],[1,"card-body"],[1,"text-muted","mb-3"],[1,"list-unstyled","small"],[1,"mb-2"],[1,"container","mb-3"],[1,"alert","alert-danger","text-center","fw-bold","animate__animated","animate__fadeIn"],[1,"badge","bg-success","status-badge"],[1,"badge","bg-warning","text-dark","status-badge"],[1,"badge","bg-danger","status-badge"],[1,"badge","bg-info","status-badge"],[1,"badge","bg-warning","status-badge"],[1,"badge","bg-secondary","status-badge"],[1,"btn","btn-main",3,"click"],[1,"text-center","me-2"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"font-weight-light","text-center"],[1,"container","py-2"],[1,"card-custom","p-3"],[1,"col-12","col-md-4","d-flex","flex-column","flex-md-row","align-items-center"],[1,"text-center","text-md-start"],[1,"fw-bold","fs-5"],[1,"text-muted","small","mb-1"],[1,"stars"],[1,"col-12","col-md-4","price-section","text-center","text-md-start","my-4","my-md-0"],[1,"triangle-section","p-2"],[2,"font-size","3rem"],[1,"col-12","col-md-4","text-center","text-md-start"],[1,"d-flex","justify-content-center","gap-2","flex-wrap","d-flex","flex-row","align-items-center"],["title","Accept Application",1,"btn","btn-success","btn-sm","action-btn","custom-accept-btn",3,"click","disabled"],[1,"bi","bi-check-circle","me-1"],["title","Reject Application",1,"btn","btn-danger","btn-sm","action-btn","custom-reject-btn",3,"click"],[1,"bi","bi-x-circle","me-1"],["title","Chat with Applicant",1,"btn","btn-outline-secondary","btn-sm","action-btn",3,"click","disabled"],[1,"bi","bi-chat-dots","me-1"]],template:function(t,i){t&1&&(u(0,"div",0),C(1,KO,2,1,"div",1),u(2,"section",2),C(3,JO,2,1,"span",3)(4,XO,2,1,"span",4)(5,ek,2,1,"span",5)(6,tk,2,1,"span",6)(7,nk,2,1,"span",7)(8,ik,2,1,"span",8),u(9,"div",9)(10,"div",10)(11,"h1",11),f(12),c()(),u(13,"div",12),C(14,rk,2,0,"button",13),c()(),u(15,"div",14)(16,"div",15)(17,"h5",16),f(18,"Request Description"),c(),E(19,"hr"),u(20,"div",14)(21,"div",17),E(22,"p",18),c(),u(23,"div",19),C(24,ok,2,1,"div",20),c()()(),u(25,"div",21)(26,"div",22)(27,"div",23),E(28,"img",24),C(29,sk,2,1,"div",25),u(30,"div")(31,"h6",26),f(32),c()()()(),u(33,"div",27)(34,"div",28)(35,"h5",29),f(36,"Request Details"),c(),u(37,"ul",30)(38,"li",31)(39,"strong"),f(40,"Weight: "),c(),u(41,"span",16),f(42),c()(),u(43,"li",31)(44,"strong"),f(45,"Pick-up: "),c(),u(46,"span",16),f(47),c()(),u(48,"li",31)(49,"strong"),f(50,"Drop-off: "),c(),u(51,"span",16),f(52),c()(),u(53,"li",31)(54,"strong"),f(55,"Pick-up Date: "),c(),u(56,"span",16),f(57),c()(),u(58,"li",31)(59,"strong"),f(60,"Price Range: "),c(),u(61,"span",16),f(62),c()()()()()()()(),C(63,fk,5,0,"section",32),c()),t&2&&(p(),m("ngIf",i.errorMessage),p(2),m("ngIf",i.deliveryRequestDetails.status==="Accepted"),p(),m("ngIf",i.deliveryRequestDetails.status==="Pending"),p(),m("ngIf",i.deliveryRequestDetails.status==="Cancelled"),p(),m("ngIf",i.deliveryRequestDetails.status==="Completed"),p(),m("ngIf",i.deliveryRequestDetails.status==="Delivered"),p(),m("ngIf",!jt(21,QO).includes(i.deliveryRequestDetails.status)),p(4),T(i.deliveryRequestDetails.title),p(2),fe(i.deliveryRequestDetails.IsOwner==!1?14:-1),p(8),m("innerHTML",i.deliveryRequestDetails.description,G_),p(2),m("ngIf",i.deliveryRequestDetails.drImageUrl),p(4),m("src",i.imageBaseUrl+i.deliveryRequestDetails.profileImageUrl,ut),p(),m("ngIf",!i.deliveryRequestDetails.profileImageUrl),p(3),T(i.deliveryRequestDetails.userName),p(10),j("",i.deliveryRequestDetails.totalWeight," kg"),p(5),T(i.deliveryRequestDetails.pickUpLocation),p(5),T(i.deliveryRequestDetails.dropOffLocation),p(5),T(i.deliveryRequestDetails.pickUpDate),p(5),mh("",i.deliveryRequestDetails.minPrice," - ",i.deliveryRequestDetails.maxPrice," EGP"),p(),fe(i.deliveryRequestDetails.applicationDTOs.length>0?63:-1))},dependencies:[J,xr,ve,Ye],styles:[".custom-accept-btn[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.custom-accept-btn[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.custom-reject-btn[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.custom-reject-btn[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.card-custom[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 5px 15px #0000001a}.profile-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.status-badge[_ngcontent-%COMP%]{font-size:12px;padding:3px 10px;border-radius:12px;display:inline-block;margin-bottom:5px}.left-section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 20px;flex:1}.info[_ngcontent-%COMP%]{margin-left:15px}.stars[_ngcontent-%COMP%]{color:var(--yellow);font-size:16px}.triangle-section[_ngcontent-%COMP%]{background-color:var(--yellow);height:100%;width:fit-content;clip-path:polygon(0 0,100% 0,100% 100%,0% 100%);display:flex;flex-direction:column;justify-content:center;align-items:center;color:var(--dark);font-weight:700}.triangle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{font-size:48px}.triangle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{font-size:14px}.right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0 20px;justify-content:center}.chat-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{background-color:var(--yellow);color:var(--dark);font-weight:700;border:none;border-radius:10px;width:100%}.status-input[_ngcontent-%COMP%]{border:2px solid var(--yellow);border-radius:8px;width:80px;text-align:center}@media (max-width: 767.98px){.price-section[_ngcontent-%COMP%]{background-color:var(--yellow);text-align:center;width:100%}}@media (max-width: 767.98px){.triangle-section[_ngcontent-%COMP%]{width:100%}}"]})};function pk(e,n){e&1&&(u(0,"small"),f(1,"Title is required"),c())}function hk(e,n){e&1&&(u(0,"small"),f(1,"Title must be less than 100 characters"),c())}function mk(e,n){if(e&1&&(u(0,"div",36),C(1,pk,2,0,"small",37)(2,hk,2,0,"small",37),c()),e&2){let t,i,r=v();p(),m("ngIf",(t=r.createForm.get("title"))==null||t.errors==null?null:t.errors.required),p(),m("ngIf",(i=r.createForm.get("title"))==null||i.errors==null?null:i.errors.maxlength)}}function gk(e,n){e&1&&(u(0,"small"),f(1,"Total weight is required"),c())}function _k(e,n){e&1&&(u(0,"small"),f(1,"Must be at least 1 kg"),c())}function vk(e,n){if(e&1&&(u(0,"div",36),C(1,gk,2,0,"small",37)(2,_k,2,0,"small",37),c()),e&2){let t,i,r=v();p(),m("ngIf",(t=r.createForm.get("totalWeight"))==null||t.errors==null?null:t.errors.required),p(),m("ngIf",(i=r.createForm.get("totalWeight"))==null||i.errors==null?null:i.errors.min)}}function yk(e,n){e&1&&(u(0,"small"),f(1,"Description is required"),c())}function bk(e,n){e&1&&(u(0,"small"),f(1,"Must be less than 500 characters"),c())}function Ck(e,n){if(e&1&&(u(0,"div",36),C(1,yk,2,0,"small",37)(2,bk,2,0,"small",37),c()),e&2){let t,i,r=v();p(),m("ngIf",(t=r.createForm.get("description"))==null||t.errors==null?null:t.errors.required),p(),m("ngIf",(i=r.createForm.get("description"))==null||i.errors==null?null:i.errors.maxlength)}}function Dk(e,n){if(e&1&&(u(0,"option",38),f(1),c()),e&2){let t=n.$implicit;m("value",t),p(),j(" ",t," ")}}function wk(e,n){e&1&&(u(0,"small"),f(1,"Pickup location is required"),c())}function Ek(e,n){if(e&1&&(u(0,"div",36),C(1,wk,2,0,"small",37),c()),e&2){let t,i=v();p(),m("ngIf",(t=i.createForm.get("pickUpLocation"))==null||t.errors==null?null:t.errors.required)}}function Sk(e,n){if(e&1&&(u(0,"option",38),f(1),c()),e&2){let t=n.$implicit;m("value",t),p(),j(" ",t," ")}}function Ik(e,n){e&1&&(u(0,"small"),f(1,"Dropoff location is required"),c())}function Mk(e,n){if(e&1&&(u(0,"div",36),C(1,Ik,2,0,"small",37),c()),e&2){let t,i=v();p(),m("ngIf",(t=i.createForm.get("dropOffLocation"))==null||t.errors==null?null:t.errors.required)}}function xk(e,n){e&1&&(u(0,"small"),f(1,"Pickup date is required"),c())}function Tk(e,n){if(e&1&&(u(0,"div",36),C(1,xk,2,0,"small",37),c()),e&2){let t,i=v();p(),m("ngIf",(t=i.createForm.get("pickUpDate"))==null||t.errors==null?null:t.errors.required)}}function Rk(e,n){e&1&&(u(0,"small"),f(1,"Minimum price is required"),c())}function Nk(e,n){e&1&&(u(0,"small"),f(1,"Must be 0 or more"),c())}function Ok(e,n){if(e&1&&(u(0,"div",36),C(1,Rk,2,0,"small",37)(2,Nk,2,0,"small",37),c()),e&2){let t,i,r=v();p(),m("ngIf",(t=r.createForm.get("minPrice"))==null||t.errors==null?null:t.errors.required),p(),m("ngIf",(i=r.createForm.get("minPrice"))==null||i.errors==null?null:i.errors.min)}}function kk(e,n){e&1&&(u(0,"small"),f(1,"Maximum price is required"),c())}function Pk(e,n){e&1&&(u(0,"small"),f(1,"Must be 0 or more"),c())}function Ak(e,n){if(e&1&&(u(0,"div",36),C(1,kk,2,0,"small",37)(2,Pk,2,0,"small",37),c()),e&2){let t,i,r=v();p(),m("ngIf",(t=r.createForm.get("maxPrice"))==null||t.errors==null?null:t.errors.required),p(),m("ngIf",(i=r.createForm.get("maxPrice"))==null||i.errors==null?null:i.errors.min)}}function Fk(e,n){e&1&&(u(0,"div",39)(1,"small"),f(2,"Maximum price must be greater than minimum price"),c()())}var Gi=class e{constructor(n,t,i,r){this.fb=n;this.deliveryRequestService=t;this.router=i;this.activeModal=r;this.initForm()}createForm;egyptGovernorates=qn;minDate="";selectedImageFile=null;ngOnInit(){let n=new Date;this.minDate=n.toISOString().split("T")[0]}initForm(){this.createForm=this.fb.group({title:["",[B.required,B.maxLength(50)]],description:["",[B.required,B.maxLength(500)]],totalWeight:["",[B.required]],pickUpLocation:["",[B.required]],dropOffLocation:["",[B.required]],pickUpDate:["",[B.required]],minPrice:[0,[B.required,B.min(0)]],maxPrice:[0,[B.required,B.min(0)]]},{validators:[Wo.priceRangeValidator("minPrice","maxPrice")]})}onFileSelected(n){let t=n.target;t.files&&t.files.length>0&&(this.selectedImageFile=t.files[0])}onSubmit(){if(this.createForm.valid){let n=new FormData,t=this.createForm.value;for(let i in t)n.append(i,t[i]);this.selectedImageFile&&n.append("DRImage",this.selectedImageFile),this.deliveryRequestService.create(n).subscribe({next:i=>{console.log(i)},error:i=>{console.error("Error creating delivery request:")}}),this.closeModal()}}closeModal(){this.activeModal.close()}static \u0275fac=function(t){return new(t||e)(D(Hi),D(Gt),D(oe),D(zn))};static \u0275cmp=L({type:e,selectors:[["app-delivery-request-creation"]],decls:63,vars:14,consts:[["type","button","aria-label","Close",1,"btn-close",2,"position","absolute","right","20px","top","20px",3,"click"],["id","cont",1,"container","mt-5"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-4","text-center","fw-bold",2,"color","#151e30"],[1,"row","g-3","p-3"],[1,"col-md-6"],["for","title",1,"form-label","fw-semibold"],["type","text","id","title","formControlName","title",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","totalWeight",1,"form-label","fw-semibold"],["type","number","id","totalWeight","formControlName","totalWeight",1,"form-control","form-control-sm"],[1,"mb-3","mt-3"],["for","description",1,"form-label","fw-semibold"],["id","description","rows","3","formControlName","description",1,"form-control","form-control-sm"],[1,"row","g-3","mb-3"],["for","pickUpLocation",1,"form-label","fw-semibold"],["id","pickUpLocation","formControlName","pickUpLocation",1,"form-select","form-control-sm"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","dropOffLocation",1,"form-label","fw-semibold"],["id","dropOffLocation","formControlName","dropOffLocation",1,"form-select","form-control-sm"],[1,"mb-3"],["for","pickUpDate",1,"form-label","fw-semibold"],["type","date","id","pickUpDate","formControlName","pickUpDate",1,"form-control","form-control-sm",3,"min"],[1,"row","g-3"],["for","minPrice",1,"form-label","fw-semibold"],["type","number","id","minPrice","formControlName","minPrice",1,"form-control","form-control-sm"],["for","maxPrice",1,"form-label","fw-semibold"],["type","number","id","maxPrice","formControlName","maxPrice",1,"form-control","form-control-sm"],["class","text-danger mt-2",4,"ngIf"],[1,"form-group"],["for","drImage"],["type","file","id","drImage","accept","image/*",3,"change"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-warning","btn-lg",3,"disabled"],[1,"bi","bi-truck"],[1,"text-danger"],[4,"ngIf"],[3,"value"],[1,"text-danger","mt-2"]],template:function(t,i){if(t&1&&(u(0,"button",0),M("click",function(){return i.closeModal()}),c(),u(1,"div",1)(2,"form",2),M("ngSubmit",function(){return i.onSubmit()}),u(3,"h3",3),f(4,"Create Delivery Request"),c(),u(5,"div",4)(6,"div",5)(7,"label",6),f(8,"Title"),c(),E(9,"input",7),C(10,mk,3,2,"div",8),c(),u(11,"div",5)(12,"label",9),f(13,"Total Weight (kg)"),c(),E(14,"input",10),C(15,vk,3,2,"div",8),c()(),u(16,"div",11)(17,"label",12),f(18,"Description"),c(),E(19,"textarea",13),C(20,Ck,3,2,"div",8),c(),u(21,"div",14)(22,"div",5)(23,"label",15),f(24,"Pickup Location"),c(),u(25,"select",16)(26,"option",17),f(27,"Select pickup location"),c(),C(28,Dk,2,2,"option",18),c(),C(29,Ek,2,1,"div",8),c(),u(30,"div",5)(31,"label",19),f(32,"Dropoff Location"),c(),u(33,"select",20)(34,"option",17),f(35,"Select dropoff location"),c(),C(36,Sk,2,2,"option",18),c(),C(37,Mk,2,1,"div",8),c()(),u(38,"div",21)(39,"label",22),f(40,"Pickup Date"),c(),E(41,"input",23),C(42,Tk,2,1,"div",8),c(),u(43,"div",24)(44,"div",5)(45,"label",25),f(46,"Minimum Price"),c(),E(47,"input",26),C(48,Ok,3,2,"div",8),c(),u(49,"div",5)(50,"label",27),f(51,"Maximum Price"),c(),E(52,"input",28),C(53,Ak,3,2,"div",8),c()(),C(54,Fk,3,0,"div",29),u(55,"div",30)(56,"label",31),f(57,"Delivery Request Image"),c(),u(58,"input",32),M("change",function(o){return i.onFileSelected(o)}),c()(),u(59,"div",33)(60,"button",34),E(61,"i",35),f(62," Create Delivery Request "),c()()()()),t&2){let r,o,s,a,l,d,h,g;p(2),m("formGroup",i.createForm),p(8),m("ngIf",((r=i.createForm.get("title"))==null?null:r.invalid)&&(((r=i.createForm.get("title"))==null?null:r.dirty)||((r=i.createForm.get("title"))==null?null:r.touched))),p(5),m("ngIf",((o=i.createForm.get("totalWeight"))==null?null:o.invalid)&&(((o=i.createForm.get("totalWeight"))==null?null:o.dirty)||((o=i.createForm.get("totalWeight"))==null?null:o.touched))),p(5),m("ngIf",((s=i.createForm.get("description"))==null?null:s.invalid)&&(((s=i.createForm.get("description"))==null?null:s.dirty)||((s=i.createForm.get("description"))==null?null:s.touched))),p(8),m("ngForOf",i.egyptGovernorates),p(),m("ngIf",((a=i.createForm.get("pickUpLocation"))==null?null:a.invalid)&&(((a=i.createForm.get("pickUpLocation"))==null?null:a.dirty)||((a=i.createForm.get("pickUpLocation"))==null?null:a.touched))),p(7),m("ngForOf",i.egyptGovernorates),p(),m("ngIf",((l=i.createForm.get("dropOffLocation"))==null?null:l.invalid)&&(((l=i.createForm.get("dropOffLocation"))==null?null:l.dirty)||((l=i.createForm.get("dropOffLocation"))==null?null:l.touched))),p(4),m("min",i.minDate),p(),m("ngIf",((d=i.createForm.get("pickUpDate"))==null?null:d.invalid)&&(((d=i.createForm.get("pickUpDate"))==null?null:d.dirty)||((d=i.createForm.get("pickUpDate"))==null?null:d.touched))),p(6),m("ngIf",((h=i.createForm.get("minPrice"))==null?null:h.invalid)&&(((h=i.createForm.get("minPrice"))==null?null:h.dirty)||((h=i.createForm.get("minPrice"))==null?null:h.touched))),p(5),m("ngIf",((g=i.createForm.get("maxPrice"))==null?null:g.invalid)&&(((g=i.createForm.get("maxPrice"))==null?null:g.dirty)||((g=i.createForm.get("maxPrice"))==null?null:g.touched))),p(),m("ngIf",i.createForm.errors==null?null:i.createForm.errors.priceRange),p(6),m("disabled",i.createForm.invalid)}},dependencies:[$n,ln,Un,Hn,Ne,Dn,cn,Ue,an,vi,yi,ve,Be,J],styles:[".container[_ngcontent-%COMP%]{max-width:850px;width:100%;margin-bottom:40px;padding:0 20px}.card[_ngcontent-%COMP%]{background-color:#fff;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:100%}.form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600;font-size:1rem}.form-control-sm[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--yellow)}.btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:8px;color:#1a202c}.btn-warning[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.text-danger[_ngcontent-%COMP%]{font-size:.875rem;color:#dc3545}.text-danger[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block}.g-3[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}@media (max-width: 767px){.container[_ngcontent-%COMP%]{max-width:100%;padding:10px}.form-label[_ngcontent-%COMP%]{font-size:.9rem}.form-control-sm[_ngcontent-%COMP%]{font-size:.85rem}.btn-warning[_ngcontent-%COMP%]{font-size:.9rem;padding:.6rem 1rem}.text-danger[_ngcontent-%COMP%]{font-size:.75rem}.g-3[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}"]})};var Ca=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=L({type:e,selectors:[["app-home"]],decls:86,vars:0,consts:[[1,"landing","d-flex","justify-content-center","align-items-center"],[1,"text-center","text-light"],["data-aos","zoom-out-right","data-aos-duration","400"],["data-aos","zoom-out-left","data-aos-duration","400"],["data-aos","zoom-out-left","data-aos-duration","300",1,"btn","btn-main","rounded-pill","me-1"],[1,"features","pt-5","pb-5"],[1,"container"],[1,"text-center","pb-5","main-title","position-relative"],[1,"row"],[1,"col-lg","col-sm-12"],[1,"row","row-cols-1","p-2"],["data-aos","fade-down","data-aos-easing","linear","data-aos-duration","800",1,"col"],[1,"number-title-holder","position-relative"],[1,"fa-solid","fa-1","position-absolute","bottom-0","number"],[1,"position-absolute","bottom-0"],[1,"text-muted","fw-light"],["data-aos","fade-down","data-aos-easing","linear","data-aos-duration","800",1,"col","mt-lg-5","mt-3"],[1,"position-relative"],[1,"fa-solid","fa-2","position-absolute","bottom-0","number"],[1,"col-lg","col-sm-12","features-center","text-center","d-flex","justify-content-center","align-items-center"],[1,"fa-solid","fa-people-carry-box"],[1,"fa-solid","fa-3","position-absolute","bottom-0","number"],[1,"fa-solid","fa-4","position-absolute","bottom-0","number"],[1,"faq","pt-5","pb-5"],[1,"text-center","pb-5","text-light","position-relative"],[1,"col-lg-8","col-sm-12"],["id","faqAccordion",1,"accordion","faq-accordion"],[1,"accordion-item","faq-item"],["id","faqHeadingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseOne","aria-expanded","true","aria-controls","faqCollapseOne",1,"accordion-button","faq-button"],["id","faqCollapseOne","aria-labelledby","faqHeadingOne","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse","show"],[1,"accordion-body","faq-body"],["id","faqHeadingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseTwo","aria-expanded","false","aria-controls","faqCollapseTwo",1,"accordion-button","collapsed","faq-button"],["id","faqCollapseTwo","aria-labelledby","faqHeadingTwo","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","faqHeadingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseThree","aria-expanded","false","aria-controls","faqCollapseThree",1,"accordion-button","collapsed","faq-button"],["id","faqCollapseThree","aria-labelledby","faqHeadingThree","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","faqHeadingfour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapsefour","aria-expanded","false","aria-controls","faqCollapsefour",1,"accordion-button","collapsed","faq-button"],["id","faqCollapsefour","aria-labelledby","faqHeadingfour","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["data-aos","zoom-out","data-aos-delay","300","data-aos-duration","1000",1,"col-lg-4","faq-right","d-none","d-lg-block"],[1,"fa-solid","fa-circle-question"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h1",2),f(3,"We are awesome!"),c(),u(4,"p",3),f(5,"Lorem ipsum dolor sit, amet"),c(),u(6,"a",4),f(7,"Get Started"),c()()(),u(8,"div",5)(9,"div",6)(10,"div",7)(11,"h1"),f(12,"Features"),c()(),u(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),E(18,"i",13),u(19,"h1",14),f(20,"header"),c()(),u(21,"p",15),f(22,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()(),u(23,"div",16)(24,"h1"),f(25,"header"),c(),u(26,"div",17),E(27,"i",18),u(28,"p",15),f(29,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()()()()(),u(30,"div",19),E(31,"i",20),c(),u(32,"div",9)(33,"div",10)(34,"div",11)(35,"div",12),E(36,"i",21),u(37,"h1",14),f(38,"header"),c()(),u(39,"p",15),f(40,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()(),u(41,"div",16)(42,"h1"),f(43,"header"),c(),u(44,"div",17),E(45,"i",22),u(46,"p",15),f(47,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()()()()()()()(),u(48,"div",23)(49,"div",6)(50,"div",24)(51,"h1"),f(52,"Frequently Asked Question"),c()(),u(53,"div",8)(54,"div",25)(55,"div",26)(56,"div",27)(57,"h2",28)(58,"button",29),f(59," What is your return policy? "),c()(),u(60,"div",30)(61,"div",31),f(62," Our return policy allows returns within 30 days of purchase with a valid receipt. "),c()()(),u(63,"div",27)(64,"h2",32)(65,"button",33),f(66," Do you offer international shipping? "),c()(),u(67,"div",34)(68,"div",31),f(69," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()(),u(70,"div",27)(71,"h2",35)(72,"button",36),f(73," Do you offer international shipping? "),c()(),u(74,"div",37)(75,"div",31),f(76," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()(),u(77,"div",27)(78,"h2",38)(79,"button",39),f(80," Do you offer international shipping? "),c()(),u(81,"div",40)(82,"div",31),f(83," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()()()(),u(84,"div",41),E(85,"i",42),c()()()())},styles:['.btn-main[_ngcontent-%COMP%]{padding:5px 20px;background-color:var(--yellow);color:var(--dark)}.btn-main[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--yellow);color:var(--dark)}.landing[_ngcontent-%COMP%]{height:600px;background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-repeat:no-repeat;background-size:cover;background-blend-mode:soft-light}.main-title[_ngcontent-%COMP%]:after{content:"";width:120px;height:2px;background-color:var(--yellow);position:absolute;left:50%;transform:translate(-50%)}.features-center[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:200px;color:#e99a42}.number-title-holder[_ngcontent-%COMP%]{height:150px}.number[_ngcontent-%COMP%]{font-size:120px;color:#e99a42;opacity:.2}.faq[_ngcontent-%COMP%]{background-color:var(--yellow)}.faq-right[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:250px;color:var(--dark)}.faq-accordion[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;background-color:transparent}.faq-item[_ngcontent-%COMP%]{background-color:transparent;border:none;border-radius:8px;margin-bottom:15px;overflow:hidden}.faq-button[_ngcontent-%COMP%]{background-color:var(--dark);color:var(--yellow);padding:1rem 1.25rem;border:none;box-shadow:none;font-size:1.1rem;transition:background-color .3s,color .3s}.faq-button[_ngcontent-%COMP%]:not(.collapsed){background-color:transparent;color:var(--dark);font-weight:700}.faq-button[_ngcontent-%COMP%]:after{filter:invert(80%)}.faq-body[_ngcontent-%COMP%]{background-color:transparent;color:var(--dark);padding:17px;font-size:.95rem;line-height:1.6}']})};var Ko=class e{filtersSubject=new le(null);filters$=this.filtersSubject.asObservable();constructor(){}updateFilters(n){this.filtersSubject.next(n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var Lk=["offcanvasElement"],Vk=["closeBtn"],Zu=class e{constructor(n){this.filterService=n}statusMap={Pending:0,Accepted:1,Completed:2,Cancelled:3,Delivered:4};titleFilter="";statusFilter=[];pickupLocation="";dropoffLocation="";pickupDate="";minPrice=null;applyFilters(){let n={title:this.titleFilter,status:this.statusFilter,pickupLocation:this.pickupLocation,dropoffLocation:this.dropoffLocation,pickupDate:this.pickupDate,minPrice:this.minPrice};this.filterService.updateFilters(n),console.log(n),this.offcanvasInstance&&this.offcanvasInstance.hide()}updateStatusFilter(n){let t=n.target,i=parseInt(t.value,10);t.checked?this.statusFilter.push(i):this.statusFilter=this.statusFilter.filter(r=>r!==i)}offcanvasElement;closeBtn;offcanvasInstance;ngAfterViewInit(){this.offcanvasElement?.nativeElement&&(this.offcanvasInstance=new bootstrap.Offcanvas(this.offcanvasElement.nativeElement),this.offcanvasElement.nativeElement.addEventListener("hidden.bs.offcanvas",()=>{this.forceCleanup()}))}forceCleanup(){this.closeBtn?.nativeElement&&this.closeBtn.nativeElement.click()}static \u0275fac=function(t){return new(t||e)(D(Ko))};static \u0275cmp=L({type:e,selectors:[["app-filters-menu"]],viewQuery:function(t,i){if(t&1&&(pi(Lk,5),pi(Vk,5)),t&2){let r;gn(r=_n())&&(i.offcanvasElement=r.first),gn(r=_n())&&(i.closeBtn=r.first)}},decls:58,vars:5,consts:[["offcanvasElement",""],["closeBtn",""],["type","button","data-bs-toggle","offcanvas","data-bs-target","#filterMenu","aria-controls","filterMenu",1,"btn","btn-main"],[1,"row"],["tabindex","-1","id","filterMenu","aria-labelledby","filterMenuLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","filterMenuLabel"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body"],["id","filters","data-auto-filter","true"],[1,"mb-4"],["id","myInput","type","text","placeholder","Search..",1,"form-control",3,"ngModelChange","ngModel"],["data-filter","condition",1,"mb-4"],[1,"font-weight-bold","mb-3"],[1,"form-check","mb-2"],["type","checkbox","value","0","id","status-pending",1,"form-check-input",3,"change"],["for","status-pending",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","1","id","status-accepted",1,"form-check-input",3,"change"],["for","status-accepted",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","2","id","status-completed",1,"form-check-input",3,"change"],["for","status-completed",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","3","id","status-cancelled",1,"form-check-input",3,"change"],["for","status-cancelled",1,"form-check-label","text-uppercase","small","text-muted"],[1,"form-check","mb-1"],["type","checkbox","value","4","id","status-delivered",1,"form-check-input",3,"change"],["for","status-delivered",1,"form-check-label","text-uppercase","small","text-muted"],[1,"form-group"],["for","formGroupExampleInput"],["type","text","placeholder","Pickup Location",1,"form-control",3,"ngModelChange","ngModel"],["for","formGroupExampleInput2"],["type","text","placeholder","Dropoff Location",1,"form-control",3,"ngModelChange","ngModel"],["for","startDate"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],["data-bs-dismiss","offcanvas",1,"btn","btn-main","mt-3",3,"click"]],template:function(t,i){if(t&1){let r=re();u(0,"button",2),f(1,` Filters
`),c(),u(2,"div",3)(3,"div",4,0)(5,"div",5)(6,"h5",6),f(7,"Filters"),c(),E(8,"button",7,1),c(),u(10,"div",8)(11,"section",9)(12,"section",10)(13,"p"),f(14,"Enter To search title:"),c(),u(15,"input",11),Se("ngModelChange",function(s){return N(r),xe(i.titleFilter,s)||(i.titleFilter=s),O(s)}),c()(),u(16,"section",12)(17,"h6",13),f(18,"Status"),c(),u(19,"div",14)(20,"input",15),M("change",function(s){return N(r),O(i.updateStatusFilter(s))}),c(),u(21,"label",16),f(22," Pending "),c()(),u(23,"div",14)(24,"input",17),M("change",function(s){return N(r),O(i.updateStatusFilter(s))}),c(),u(25,"label",18),f(26," Accepted "),c()(),u(27,"div",14)(28,"input",19),M("change",function(s){return N(r),O(i.updateStatusFilter(s))}),c(),u(29,"label",20),f(30," Completed "),c()(),u(31,"div",14)(32,"input",21),M("change",function(s){return N(r),O(i.updateStatusFilter(s))}),c(),u(33,"label",22),f(34," Cancelled "),c()(),u(35,"div",23)(36,"input",24),M("change",function(s){return N(r),O(i.updateStatusFilter(s))}),c(),u(37,"label",25),f(38," Delivered "),c()()(),u(39,"section",10)(40,"div",26)(41,"label",27),f(42,"Pick up Location"),c(),u(43,"input",28),Se("ngModelChange",function(s){return N(r),xe(i.pickupLocation,s)||(i.pickupLocation=s),O(s)}),c()(),u(44,"div",26)(45,"label",29),f(46,"Drop Off Location"),c(),u(47,"input",30),Se("ngModelChange",function(s){return N(r),xe(i.dropoffLocation,s)||(i.dropoffLocation=s),O(s)}),c()()(),u(48,"section",10)(49,"label",31),f(50,"Pick Up From:"),c(),u(51,"input",32),Se("ngModelChange",function(s){return N(r),xe(i.pickupDate,s)||(i.pickupDate=s),O(s)}),c()(),u(52,"section")(53,"label",31),f(54,"Min Price:"),c(),u(55,"input",33),Se("ngModelChange",function(s){return N(r),xe(i.minPrice,s)||(i.minPrice=s),O(s)}),c()(),u(56,"button",34),M("click",function(){return N(r),O(i.applyFilters())}),f(57,"Apply Filters"),c()()()()()}t&2&&(p(15),Ee("ngModel",i.titleFilter),p(28),Ee("ngModel",i.pickupLocation),p(4),Ee("ngModel",i.dropoffLocation),p(4),Ee("ngModel",i.pickupDate),p(4),Ee("ngModel",i.minPrice))},dependencies:[Ye,Ne,Dn,Ue,zt],styles:['.main-title[_ngcontent-%COMP%]:after{content:"";width:60px;height:2px;background-color:var(--yellow);position:absolute;left:50%;transform:translate(-50%)}']})};var Wi=class e{loadingSubject=new le(!1);loading$=this.loadingSubject.asObservable();show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function Bk(e,n){e&1&&(u(0,"div",1),E(1,"div",2),c())}var Jo=class e{constructor(n){this.spinnerService=n;this.spinnerService.loading$.subscribe(t=>{this.isLoading=t})}isLoading=!1;static \u0275fac=function(t){return new(t||e)(D(Wi))};static \u0275cmp=L({type:e,selectors:[["app-spinner"]],decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(t,i){t&1&&C(0,Bk,2,0,"div",0),t&2&&m("ngIf",i.isLoading)},dependencies:[J],styles:[".spinner[_ngcontent-%COMP%]{border:6px solid #ccc;border-top:6px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#ffffffb3;display:flex;justify-content:center;align-items:center;z-index:9999}"]})};var Uk=["loading"],Hk=(e,n)=>({"col-md-6":e,"col-md-8 mx-auto":n,"col-12":!0}),$k=()=>["/edit-profile"],qk=()=>["Accepted","Pending","Cancelled","Completed","Delivered"],zk=e=>["/profile",e],Gk=e=>["/deliveryrequests/details",e],Wk=()=>[];function Yk(e,n){if(e&1&&(u(0,"div",8),f(1),c()),e&2){let t=v(3);p(),j(" ",t.user==null||t.user.userName==null?null:t.user.userName.charAt(0).toUpperCase()," ")}}function Qk(e,n){if(e&1&&E(0,"img",9),e&2){let t=v(3);m("src",t.imageBaseUrl+t.user.profileImageUrl,ut)}}function Zk(e,n){if(e&1&&(u(0,"div",16)(1,"div",17)(2,"div",18),C(3,Yk,2,1,"div",8)(4,Qk,1,1,"img",9),u(5,"h5",19),f(6),c(),u(7,"h6",20),f(8),c(),u(9,"p",20),f(10),c(),u(11,"a",21),f(12,"View Profile"),c()()()()),e&2){let t=v(2);p(3),fe(t.user.profileImageUrl==null?3:4),p(3),T(t.user==null?null:t.user.fullName),p(2),T(t.user==null?null:t.user.userName),p(2),T(t.user==null?null:t.user.email),p(),m("routerLink",jt(5,$k))}}function Kk(e,n){if(e&1&&(u(0,"div",8),f(1),c()),e&2){let t=v(2);p(),j(" ",t.user==null||t.user.userName==null?null:t.user.userName.charAt(0).toUpperCase()," ")}}function Jk(e,n){if(e&1&&E(0,"img",9),e&2){let t=v(2);m("src",t.imageBaseUrl+t.user.profileImageUrl,ut)}}function Xk(e,n){if(e&1&&(u(0,"span",46),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function eP(e,n){if(e&1&&(u(0,"span",47),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function tP(e,n){if(e&1&&(u(0,"span",48),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function nP(e,n){if(e&1&&(u(0,"span",49),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function iP(e,n){if(e&1&&(u(0,"span",50),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function rP(e,n){if(e&1&&(u(0,"span",51),f(1),c()),e&2){let t=v().$implicit;p(),j(" ",t.status," ")}}function oP(e,n){if(e&1&&E(0,"img",9),e&2){let t=v().$implicit,i=v(2);m("src",i.imageBaseUrl+t.profileImageUrl,ut)}}function sP(e,n){if(e&1&&(u(0,"div",52),f(1),c()),e&2){let t=v().$implicit;p(),j(" ",t.userName.charAt(0).toUpperCase()," ")}}function aP(e,n){if(e&1&&(u(0,"div",53),E(1,"img",54),c()),e&2){let t=v().$implicit,i=v(2);p(),m("src",i.imageBaseUrl+t.drImageUrl,ut)}}function lP(e,n){if(e&1){let t=re();u(0,"div",22)(1,"div",23),C(2,Xk,2,1,"span",24)(3,eP,2,1,"span",25)(4,tP,2,1,"span",26)(5,nP,2,1,"span",27)(6,iP,2,1,"span",28)(7,rP,2,1,"span",29),u(8,"div",30)(9,"div")(10,"h3",31),f(11),c()(),u(12,"div",32)(13,"h5",33),f(14),c(),C(15,oP,1,1,"img",34)(16,sP,2,1,"div",35),c()(),u(17,"p",36),f(18),c(),u(19,"ul",37)(20,"li",38)(21,"strong"),f(22,"\u2696\uFE0F Weight:"),c(),f(23),c(),u(24,"li",38)(25,"strong"),f(26,"\u{1F4CD} From:"),c(),f(27),c(),u(28,"li",38)(29,"strong"),f(30,"\u{1F4E6} To:"),c(),f(31),c(),u(32,"li",38)(33,"strong"),f(34,"\u{1F4C5} Pickup Date:"),c(),f(35),kt(36,"date"),c()(),C(37,aP,2,1,"div",39),E(38,"hr",40),u(39,"div",41)(40,"button",42),E(41,"i",43),f(42," View Details "),c(),u(43,"button",44),M("click",function(){let r=N(t).$implicit,o=v(2);return O(o.openPopup(r.id))}),E(44,"i",45),f(45," Add Application "),c()()()()}if(e&2){let t=n.$implicit;p(2),m("ngIf",t.status==="Accepted"),p(),m("ngIf",t.status==="Pending"),p(),m("ngIf",t.status==="Cancelled"),p(),m("ngIf",t.status==="Completed"),p(),m("ngIf",t.status==="Delivered"),p(),m("ngIf",!jt(22,qk).includes(t.status)),p(4),T(t.title),p(2),m("routerLink",Ot(23,zk,t.userId)),p(),j(" ",t.userName," "),p(),m("ngIf",t.profileImageUrl),p(),m("ngIf",!t.profileImageUrl),p(2),T(t.description),p(5),j(" ",t.totalWeight," kg "),p(4),j(" ",t.pickUpLocation," "),p(4),j(" ",t.dropOffLocation," "),p(4),j(" ",nn(36,19,t.pickUpDate,"mediumDate")," "),p(2),m("ngIf",t.drImageUrl),p(3),m("routerLink",Ot(25,Gk,t.id)),p(3),m("ngClass",t.isOwner?"d-none":"d-block")}}function cP(e,n){if(e&1){let t=re();u(0,"li",57)(1,"button",60),M("click",function(){let r=N(t).index,o=v(3);return O(o.onPageChange(r+1))}),f(2),c()()}if(e&2){let t=n.index,i=v(3);gt("active",i.currentPage===t+1),p(2),T(t+1)}}function uP(e,n){if(e&1){let t=re();u(0,"nav",55)(1,"ul",56)(2,"li",57)(3,"button",58),M("click",function(){N(t);let r=v(2);return O(r.onPageChange(r.currentPage-1))}),f(4,"Previous"),c()(),C(5,cP,3,3,"li",59),u(6,"li",57)(7,"button",58),M("click",function(){N(t);let r=v(2);return O(r.onPageChange(r.currentPage+1))}),f(8,"Next"),c()()()()}if(e&2){let t=v(2);p(3),gt("disabled",t.currentPage===1),p(2),m("ngForOf",jt(5,Wk).constructor(t.totalPages)),p(2),gt("disabled",t.currentPage===t.totalPages)}}function dP(e,n){if(e&1){let t=re();u(0,"div",1)(1,"div",3),C(2,Zk,13,6,"div",4),u(3,"div",5)(4,"div",6)(5,"div",7),C(6,Kk,2,1,"div",8)(7,Jk,1,1,"img",9),u(8,"div",10)(9,"input",11),M("click",function(){N(t);let r=v();return O(r.navigateToCreatePost())}),c()()()(),u(10,"div",12)(11,"h3",13),f(12," Available Delivery Requests "),c(),E(13,"app-filters-menu"),c(),C(14,lP,46,27,"div",14)(15,uP,9,6,"nav",15),c()()()}if(e&2){let t=v();p(2),m("ngIf",t.isLoggedIn),p(),m("ngClass",gh(5,Hk,t.isLoggedIn,!t.isLoggedIn)),p(3),fe(t.user.profileImageUrl==null?6:7),p(8),m("ngForOf",t.deliveryRequests),p(),m("ngIf",t.totalItems>t.pageSize)}}function fP(e,n){if(e&1&&(u(0,"div",2),E(1,"app-spinner",5,0),c()),e&2){let t=v();p(),m("ngClass",t.dataLoaded?"d-none":"d-md-block")}}var Ku=class e{constructor(n,t){this.filterService=n;this.authService=t}imageBaseUrl=lt.imageBaseUrl;deliveryRequests=[];totalItems=100;currentPage=1;pageSize=5;totalPages=1;user={};deliveryRequestService=b(Gt);modalService=b(bi);router=b(oe);loadingSpinner;dataLoaded=!1;ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}}),this.loadData()}loadData(){let n={title:null,status:null,pickupLocation:null,dropoffLocation:null,pickupDate:null,minPrice:null,PageNumber:this.currentPage};this.filterService.filters$.subscribe(t=>{console.log("Received filters:",t),n=t,this.deliveryRequestService.getallDRs(n,this.currentPage).subscribe(i=>{i.isSuccess?(console.log(i.data.data),this.deliveryRequests=i.data.data,this.dataLoaded=!0,this.currentPage=i.data.currentPage,this.totalItems=i.data.totalCount,this.pageSize=i.data.pageSize,this.totalPages=i.data.totalPages):console.error("Error fetching delivery requests:",i.message)})})}onPageChange(n){this.currentPage=n,this.loadData()}get isLoggedIn(){return!!(localStorage.getItem("token")||sessionStorage.getItem("token"))}openPopup(n){if(localStorage.getItem("token")||sessionStorage.getItem("token")){let i=this.modalService.open(Gn,{centered:!0,size:"m"});i.componentInstance.deliveryRequestID=n}else this.router.navigate(["/login"])}navigateToCreatePost(){localStorage.getItem("token")||sessionStorage.getItem("token")?this.modalService.open(Gi,{centered:!0,size:"lg",backdrop:"static"}).closed.subscribe(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/deliveryrequests/getallDRs"])})}):this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(D(Ko),D(He))};static \u0275cmp=L({type:e,selectors:[["app-delivery-requests-retrive"]],viewQuery:function(t,i){if(t&1&&pi(Uk,5),t&2){let r;gn(r=_n())&&(i.loadingSpinner=r.first)}},decls:2,vars:1,consts:[["loading",""],[1,"container","mt-5"],[1,"container",2,"height","100vh"],[1,"row"],["class","col-md-3 d-none d-md-block",4,"ngIf"],[3,"ngClass"],[1,"card","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center","gap-3","flex-wrap"],[1,"rounded-circle","text-white","mx-auto","fw-bold",2,"width","60px","height","60px","line-height","60px","font-size","1.5rem"],["alt","Profile Image",1,"rounded-circle",2,"width","50px","height","50px","object-fit","cover",3,"src"],[1,"flex-grow-1"],["type","text","placeholder","Start a delivery request...","readonly","",1,"form-control","rounded-pill","bg-light","border-0","shadow-sm","ps-4",2,"height","45px",3,"click"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"mb-0",2,"color","#19283f","font-weight","bold","font-size","2rem"],["class","card post-card mb-4 shadow-sm border-1",4,"ngFor","ngForOf"],["aria-label","Page navigation","class","paginator",4,"ngIf"],[1,"col-md-3","d-none","d-md-block"],[1,"card","shadow-sm","p-3",2,"max-width","250px"],[1,"text-center","mb-3"],[1,"mt-2"],[1,"text-muted","mb-1"],[1,"btn","btn-sm","btn-outline-primary","w-100",3,"routerLink"],[1,"card","post-card","mb-4","shadow-sm","border-1"],[1,"card-body"],["class","badge bg-success status-badge",4,"ngIf"],["class","badge bg-warning text-dark status-badge",4,"ngIf"],["class","badge bg-danger status-badge",4,"ngIf"],["class","badge bg-info status-badge",4,"ngIf"],["class","badge bg-warning status-badge",4,"ngIf"],["class","badge bg-secondary status-badge",4,"ngIf"],[1,"card-header","bg-transparent","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-0"],[1,"d-flex","align-items-center","gap-2"],[1,"text-muted","mb-0",2,"font-size","1rem","cursor","pointer",3,"routerLink"],["alt","Profile Image","class","rounded-circle","style","width: 50px; height: 50px; object-fit: cover;",3,"src",4,"ngIf"],["class","d-flex justify-content-center align-items-center rounded-circle bg-secondary text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"my-4","container","text-muted"],[1,"list-unstyled","mt-1","d-flex","flex-wrap","gap-4"],[1,"mb-1"],["class","text-center my-3",4,"ngIf"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"bi","bi-eye"],[1,"link-button",3,"click","ngClass"],[1,"bi","bi-plus-circle"],[1,"badge","bg-success","status-badge"],[1,"badge","bg-warning","text-dark","status-badge"],[1,"badge","bg-danger","status-badge"],[1,"badge","bg-info","status-badge"],[1,"badge","bg-warning","status-badge"],[1,"badge","bg-secondary","status-badge"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","bg-secondary","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"text-center","my-3"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"],["aria-label","Page navigation",1,"paginator"],[1,"pagination","justify-content-center","mt-4"],[1,"page-item"],[1,"page-link","card-opacity",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"page-link","card-opacity","text-black",3,"click"]],template:function(t,i){t&1&&C(0,dP,16,8,"div",1)(1,fP,3,1,"div",2),t&2&&fe(i.dataLoaded?0:1)},dependencies:[ve,bn,Be,J,Bt,xr,We,Zu,Jo],styles:["html[_ngcontent-%COMP%]{scroll-behavior:smooth}.scrollable-feed[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.5rem;box-shadow:0 4px 10px #0000001a}.card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.btn[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease}.btn-outline-primary[_ngcontent-%COMP%]{border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--neutral)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.btn-primary[_ngcontent-%COMP%]{background-color:var(--dark);border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--yellow)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.btn-success[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--dark)}.btn-success[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}@media (max-width: 767px){.btn-row[_ngcontent-%COMP%]{flex-direction:row}.link-button[_ngcontent-%COMP%]{flex:1 1 48%}}.card-opacity[_ngcontent-%COMP%]{background-color:#0a0a0a02}.paginator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--dark)}.paginator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--yellow)}.disabled[_ngcontent-%COMP%]{background-color:#0a0a0a33}"]})};function sC(e,n){return t=>{let i=t.get(e),r=t.get(n);return i&&r&&i.value!==r.value?r.setErrors({mismatch:!0}):r?.hasError("mismatch")&&r.setErrors(null),null}}var Ju=class e{constructor(n){this.http=n}apiUrl="api/user";register(n){return this.http.post(`${this.apiUrl}/Register`,n)}static \u0275fac=function(t){return new(t||e)(k(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function hP(e,n){e&1&&(u(0,"div"),f(1,"National ID is required"),c())}function mP(e,n){e&1&&(u(0,"div"),f(1,"Please enter a valid Egyptian National ID"),c())}function gP(e,n){if(e&1&&(u(0,"div",30),C(1,hP,2,0,"div",31)(2,mP,2,0,"div",31),c()),e&2){let t=v();p(),m("ngIf",t.natId==null||t.natId.errors==null?null:t.natId.errors.required),p(),m("ngIf",t.natId==null||t.natId.errors==null?null:t.natId.errors.pattern)}}function _P(e,n){e&1&&(u(0,"div"),f(1,"Full Name is required"),c())}function vP(e,n){e&1&&(u(0,"div"),f(1," Name must be between 5 and 12 characters "),c())}function yP(e,n){e&1&&(u(0,"div"),f(1,"Only letters and spaces are allowed"),c())}function bP(e,n){if(e&1&&(u(0,"div",30),C(1,_P,2,0,"div",31)(2,vP,2,0,"div",31)(3,yP,2,0,"div",31),c()),e&2){let t=v();p(),m("ngIf",t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.required),p(),m("ngIf",(t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.minlength)||(t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.maxlength)),p(),m("ngIf",t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.pattern)}}function CP(e,n){if(e&1&&(u(0,"div",30),f(1),c()),e&2){let t=v();p(),T(t.notvalidusername)}}function DP(e,n){e&1&&(u(0,"div"),f(1,"Username is required"),c())}function wP(e,n){e&1&&(u(0,"div"),f(1," Must be between 4 and 10 characters "),c())}function EP(e,n){if(e&1&&(u(0,"div",30),C(1,DP,2,0,"div",31)(2,wP,2,0,"div",31),c()),e&2){let t=v();p(),m("ngIf",t.userName==null||t.userName.errors==null?null:t.userName.errors.required),p(),m("ngIf",(t.userName==null||t.userName.errors==null?null:t.userName.errors.minlength)||(t.userName==null||t.userName.errors==null?null:t.userName.errors.maxlength))}}function SP(e,n){e&1&&(u(0,"div",30),f(1,"Email Already Exists"),c())}function IP(e,n){e&1&&(u(0,"div"),f(1,"Email is required"),c())}function MP(e,n){e&1&&(u(0,"div"),f(1,"Invalid email format"),c())}function xP(e,n){e&1&&(u(0,"div"),f(1,"Enter a valid email"),c())}function TP(e,n){if(e&1&&(u(0,"div",30),C(1,IP,2,0,"div",31)(2,MP,2,0,"div",31)(3,xP,2,0,"div",31),c()),e&2){let t=v();p(),m("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),p(),m("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.pattern),p(),m("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function RP(e,n){e&1&&(u(0,"div"),f(1,"Phone is required"),c())}function NP(e,n){e&1&&(u(0,"div"),f(1,"Invalid phone number"),c())}function OP(e,n){if(e&1&&(u(0,"div",30),C(1,RP,2,0,"div",31)(2,NP,2,0,"div",31),c()),e&2){let t=v();p(),m("ngIf",t.phone==null||t.phone.errors==null?null:t.phone.errors.required),p(),m("ngIf",t.phone==null||t.phone.errors==null?null:t.phone.errors.pattern)}}function kP(e,n){if(e&1&&(u(0,"option",32),f(1),c()),e&2){let t=n.$implicit;m("value",t),p(),T(t)}}function PP(e,n){e&1&&(u(0,"div"),f(1,"Password is required"),c())}function AP(e,n){e&1&&(u(0,"div"),f(1,"At least 8 characters"),c())}function FP(e,n){e&1&&(u(0,"div"),f(1," Must include uppercase, lowercase, number, and symbol "),c())}function LP(e,n){if(e&1&&(u(0,"div",30),C(1,PP,2,0,"div",31)(2,AP,2,0,"div",31)(3,FP,2,0,"div",31),c()),e&2){let t=v();p(),m("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),p(),m("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength),p(),m("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.pattern)}}function VP(e,n){e&1&&(u(0,"div"),f(1,"Confirmation is required"),c())}function jP(e,n){e&1&&(u(0,"div"),f(1,"Passwords do not match"),c())}function BP(e,n){if(e&1&&(u(0,"div",30),C(1,VP,2,0,"div",31)(2,jP,2,0,"div",31),c()),e&2){let t=v();p(),m("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.required),p(),m("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.mismatch)}}var Xu=class e{constructor(n,t,i){this.fb=n;this.authService=t;this.router=i;this.registerForm=this.fb.group({natId:["",[B.required,B.pattern(/^(2|3)\d{2}(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])\d{2}\d{5}$/)]],fullName:["",[B.required,B.minLength(5),B.maxLength(12),B.pattern("^[a-zA-Z ]+$")]],userName:["",[B.required,B.minLength(4),B.maxLength(10)]],email:["",[B.required,B.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],phone:["",[B.required,B.pattern(/^01[0125][0-9]{8}$/)]],address:["",B.required],password:["",[B.required,B.minLength(6),B.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{6,}$/)]],confirmPassword:["",B.required],profileImage:[null]},{validators:sC("password","confirmPassword")})}registerForm;notvalidemail="";notvalidusername="";egyptGovernorates=qn;selectedFile=null;ngOnInit(){this.registerForm.get("email")?.valueChanges.subscribe(()=>{this.registerForm.get("email")?.valid&&(this.notvalidemail="")}),this.registerForm.get("userName")?.valueChanges.subscribe(()=>{this.registerForm.get("userName")?.valid&&(this.notvalidusername="")})}onFileSelected(n){let t=n.target;t.files&&t.files.length>0&&(this.selectedFile=t.files[0],this.registerForm.patchValue({profileImage:this.selectedFile}))}onSubmit(){if(this.registerForm.valid){let n=new FormData,t=this.registerForm.value;for(let i in t)i==="profileImage"&&this.selectedFile?n.append("profileImage",this.selectedFile):n.append(i,t[i]);this.authService.register(n).subscribe({next:i=>{i.isSuccess&&this.router.navigate(["/login"])},error:i=>{console.error("Registration failed",i),this.handleErrorResponse(i)}})}else console.log("Form is invalid")}handleErrorResponse(n){let t=n?.error?.message;t==="user is exist"?(this.notvalidusername=t,this.notvalidemail=""):t?.includes("Email")?(this.notvalidemail=t,this.notvalidusername=""):(this.notvalidusername="",this.notvalidemail="",console.error("Unhandled error message:",t))}get natId(){return this.registerForm.get("natId")}get fullName(){return this.registerForm.get("fullName")}get userName(){return this.registerForm.get("userName")}get email(){return this.registerForm.get("email")}get phone(){return this.registerForm.get("phone")}get address(){return this.registerForm.get("address")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}static \u0275fac=function(t){return new(t||e)(D(Hi),D(Ju),D(oe))};static \u0275cmp=L({type:e,selectors:[["app-register"]],decls:60,vars:12,consts:[[1,"auth-background","d-flex","justify-content-center","align-items-center","py-5","px-3"],[1,"registerForm","w-100","bg-white","p-4","p-md-5","shadow","rounded",2,"max-width","800px",3,"ngSubmit","formGroup"],[1,"text-center","mb-4","text-dark","fw-bold"],[1,"row","g-3"],[1,"col-md-6"],["for","natId",1,"form-label","fw-semibold"],["type","text","id","natId","formControlName","natId",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","fullName",1,"form-label","fw-semibold"],["type","text","id","fullName","formControlName","fullName",1,"form-control"],["for","userName",1,"form-label","fw-semibold"],["type","text","id","userName","formControlName","userName",1,"form-control"],["for","email",1,"form-label","fw-semibold"],["type","email","id","email","formControlName","email",1,"form-control"],["for","phone",1,"form-label","fw-semibold"],["type","text","id","phone","formControlName","phone",1,"form-control"],["for","address",1,"form-label","fw-semibold"],["id","address","formControlName","address",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","password",1,"form-label","fw-semibold"],["type","password","id","password","formControlName","password",1,"form-control"],["for","confirmPassword",1,"form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control"],["for","profileImage",1,"form-label","fw-semibold"],["type","file","id","profileImage","accept","image/*",1,"form-control",3,"change"],[1,"d-flex","flex-column","justify-content-center","gap-2","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mt-2","text-center"],["routerLink","/login",1,"fw-bold",2,"text-decoration","none","color","var(--dark)"],[1,"text-danger","small","mt-1"],[4,"ngIf"],[3,"value"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"form",1),M("ngSubmit",function(){return i.onSubmit()}),u(2,"h2",2),f(3,"Ma'ak"),c(),u(4,"div",3)(5,"div",4)(6,"label",5),f(7,"National ID"),c(),E(8,"input",6),C(9,gP,3,2,"div",7),c(),u(10,"div",4)(11,"label",8),f(12,"Full Name"),c(),E(13,"input",9),C(14,bP,4,3,"div",7),c(),u(15,"div",4)(16,"label",10),f(17,"Username"),c(),E(18,"input",11),C(19,CP,2,1,"div",7)(20,EP,3,2,"div",7),c(),u(21,"div",4)(22,"label",12),f(23,"Email"),c(),E(24,"input",13),C(25,SP,2,0,"div",7)(26,TP,4,3,"div",7),c(),u(27,"div",4)(28,"label",14),f(29,"Phone"),c(),E(30,"input",15),C(31,OP,3,2,"div",7),c(),u(32,"div",4)(33,"label",16),f(34,"Governorate"),c(),u(35,"select",17)(36,"option",18),f(37,"Select Governorate"),c(),C(38,kP,2,2,"option",19),c()(),u(39,"div",4)(40,"label",20),f(41,"Password"),c(),E(42,"input",21),C(43,LP,4,3,"div",7),c(),u(44,"div",4)(45,"label",22),f(46,"Confirm Password"),c(),E(47,"input",23),C(48,BP,3,2,"div",7),c()(),u(49,"div",4)(50,"label",24),f(51,"Profile Image"),c(),u(52,"input",25),M("change",function(o){return i.onFileSelected(o)}),c()(),u(53,"div",26)(54,"button",27),f(55," Register "),c(),u(56,"p",28),f(57," Already have an account? "),u(58,"a",29),f(59,"Login"),c()()()()()),t&2&&(p(),m("formGroup",i.registerForm),p(8),m("ngIf",(i.natId==null?null:i.natId.invalid)&&(i.natId==null?null:i.natId.touched)),p(5),m("ngIf",(i.fullName==null?null:i.fullName.invalid)&&(i.fullName==null?null:i.fullName.touched)),p(5),m("ngIf",i.notvalidusername),p(),m("ngIf",(i.userName==null?null:i.userName.invalid)&&(i.userName==null?null:i.userName.touched)),p(5),m("ngIf",i.notvalidemail),p(),m("ngIf",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),p(5),m("ngIf",(i.phone==null?null:i.phone.invalid)&&(i.phone==null?null:i.phone.touched)),p(7),m("ngForOf",i.egyptGovernorates),p(5),m("ngIf",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),p(5),m("ngIf",(i.confirmPassword==null?null:i.confirmPassword.invalid)&&(i.confirmPassword==null?null:i.confirmPassword.touched)),p(6),m("disabled",i.registerForm.invalid))},dependencies:[$n,ln,Un,Hn,Ne,cn,Ue,an,vi,yi,J,Be,We],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;position:relative;display:flex;align-items:center;justify-content:center}.registerForm[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:70%;max-width:800px}.registerForm[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600}.registerForm[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   select.form-select[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.registerForm[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);opacity:.9;color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--dark);color:var(--dark);font-weight:600;font-size:1rem;padding:.75rem 1rem;border-radius:4px}.registerForm[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:var(--dark);color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{font-size:.875rem;color:var(--yellow)}']})};function UP(e,n){if(e&1&&(u(0,"span",18),f(1),c()),e&2){let t=v(2);p(),T(t.usernError)}}function HP(e,n){if(e&1&&(u(0,"span",18),f(1),c()),e&2){let t=v(2);p(),T(t.passwordError)}}function $P(e,n){if(e&1){let t=re();u(0,"div",19),f(1),u(2,"a",20),M("click",function(){N(t);let r=v(2);return O(r.recoveraccount())}),f(3,"Recover Account"),c()()}if(e&2){let t=v(2);p(),j("",t.deletedAcountError," ")}}function qP(e,n){if(e&1&&(u(0,"div",19),f(1),c()),e&2){let t=v(2);p(),T(t.formError)}}function zP(e,n){if(e&1){let t=re();u(0,"form",2),M("ngSubmit",function(){N(t);let r=v();return O(r.login())}),u(1,"h2",3),f(2,"Welcome Back"),c(),u(3,"div",4)(4,"label",5),f(5,"Email or Username"),c(),E(6,"input",6),C(7,UP,2,1,"span",7),c(),u(8,"div",4)(9,"label",8),f(10,"Password"),c(),E(11,"input",9),C(12,HP,2,1,"span",7),c(),u(13,"div",10)(14,"div",11),E(15,"input",12),u(16,"label",13),f(17,"Remember Me"),c()(),u(18,"a",14),f(19,"Forgot Password?"),c()(),u(20,"button",15),f(21,"Login"),c(),u(22,"a",16),f(23,"Create Account"),c(),C(24,$P,4,1,"div",17)(25,qP,2,1,"div",17),c()}if(e&2){let t=v();m("formGroup",t.loginForm),p(7),m("ngIf",t.usernError),p(5),m("ngIf",t.passwordError),p(12),m("ngIf",t.deletedAcountError),p(),m("ngIf",t.formError)}}var ed=class e{constructor(n,t,i){this.fb=n;this.authService=t;this.router=i;this.loginForm=this.fb.group({identifier:["",B.required],password:["",B.required],rememberMe:[!1]})}loginForm;formError=null;usernError=null;passwordError=null;deletedAcountError=null;ngOnInit(){let n=localStorage.getItem("token")||sessionStorage.getItem("token"),t=localStorage.getItem("exp")||sessionStorage.getItem("exp");if(n&&t){let i=Date.now(),r=parseInt(t);if(i<r){this.router.navigate(["/"]);return}else localStorage.removeItem("token"),localStorage.removeItem("exp"),sessionStorage.removeItem("token"),sessionStorage.removeItem("exp"),this.router.navigate(["/login"])}this.loginForm.valueChanges.subscribe(()=>{this.usernError=null,this.passwordError=null,this.deletedAcountError=null,this.formError=null})}login(){if(this.loginForm.invalid){this.formError="Please fill in all required fields.",this.usernError=this.loginForm.get("identifier")?.hasError("required")?"Username or email is required":null,this.passwordError=this.loginForm.get("password")?.hasError("required")?"Password is required":null;return}this.formError=null,this.authService.login(this.loginForm.value).subscribe({next:n=>{console.log("API response:",n),this.usernError="",this.passwordError="",n.isSuccess&&(this.loginForm.value.rememberMe?(localStorage.setItem("token",n.data.token),localStorage.setItem("exp",new Date(n.data.expiration).getTime().toString())):(sessionStorage.setItem("token",n.data.token),sessionStorage.setItem("exp",new Date(n.data.expiration).getTime().toString())),this.router.navigate(["/deliveryrequests/getallDRs"]))},error:n=>{console.error("Login error:",n);let t=n?.error?.message;t==="Wrong email or user-name"?this.usernError=t:t==="Wrong password"?this.passwordError=t:t==="Account has been deleted."&&(this.deletedAcountError=t)}})}recoveraccount(){let n=this.loginForm.get("identifier")?.value;if(!n){this.formError="Please enter a username or email to recover the account.";return}console.log(n),this.formError=null,this.authService.recoverAccount(n).subscribe({next:t=>{console.log("Recover account response:",t),t.isSuccess&&(this.deletedAcountError=null)},error:t=>{console.error("Recover account error:",t)}})}logout(){this.authService.logout(),this.router.navigate(["/login"])}getUserIdFromToken(){let n=localStorage.getItem("token")||sessionStorage.getItem("token");if(!n)return null;let t=JSON.parse(atob(n.split(".")[1]));return t?.UserId||t?.userId||null}static \u0275fac=function(t){return new(t||e)(D(Hi),D(He),D(oe))};static \u0275cmp=L({type:e,selectors:[["app-login"]],decls:2,vars:1,consts:[[1,"auth-background","d-flex","justify-content-center","align-items-center"],["class","login-form card p-4 shadow rounded w-100","style","max-width: 500px; margin: 2rem;",3,"formGroup","ngSubmit",4,"ngIf"],[1,"login-form","card","p-4","shadow","rounded","w-100",2,"max-width","500px","margin","2rem",3,"ngSubmit","formGroup"],[1,"text-center","mb-4",2,"font-weight","700"],[1,"mb-3"],["for","identifier",1,"form-label","fw-semibold"],["id","identifier","formControlName","identifier","placeholder","Enter email or username",1,"form-control"],["class","text-danger small",4,"ngIf"],["for","password",1,"form-label","fw-semibold"],["id","password","formControlName","password","type","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],[1,"form-check"],["id","rememberMe","type","checkbox","formControlName","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],["href","/forgot-password",1,"small","text-decoration-none",2,"color","var(--accent)","font-weight","500"],["type","submit",1,"btn","btn-primary","w-100","mb-2"],["routerLink","/Register",1,"btn","btn-secondary","w-100"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"text-danger","small"],[1,"alert","alert-danger","mt-3"],["href","javascript:void(0)",1,"small","text-decoration-none","ms-2",2,"color","black","font-weight","500",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0),C(1,zP,26,5,"form",1),c()),t&2&&(p(),m("ngIf",i.loginForm))},dependencies:[$n,ln,Ne,wm,Ue,an,vi,yi,ve,J,We],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;position:relative;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:30%}.login-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark)}.login-form[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark)}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.login-form[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:var(--dark);border:1px solid var(--dark);color:var(--yellow);font-weight:600;font-size:1rem;padding:.75rem 1rem;border-radius:4px}.login-form[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{font-size:.875rem;color:var(--yellow)}']})};var GP=()=>["Accepted","Pending","Cancelled","Completed","Delivered"],WP=e=>["/profile",e],YP=e=>["/deliveryrequests/details",e];function QP(e,n){if(e&1&&(u(0,"span",30),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function ZP(e,n){if(e&1&&(u(0,"span",31),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function KP(e,n){if(e&1&&(u(0,"span",32),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function JP(e,n){if(e&1&&(u(0,"span",33),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function XP(e,n){if(e&1&&(u(0,"span",34),f(1),c()),e&2){let t=v().$implicit;p(),T(t.status)}}function eA(e,n){if(e&1&&(u(0,"span",35),f(1),c()),e&2){let t=v().$implicit;p(),j(" ",t.status," ")}}function tA(e,n){if(e&1&&E(0,"img",36),e&2){let t=v().$implicit,i=v();m("src",i.imageBaseUrl+t.profileImageUrl,ut)}}function nA(e,n){if(e&1&&(u(0,"div",37),f(1),c()),e&2){let t=v().$implicit;p(),j(" ",t.userName.charAt(0).toUpperCase()," ")}}function iA(e,n){if(e&1&&(u(0,"div",38),E(1,"img",39),c()),e&2){let t=v().$implicit,i=v();p(),m("src",i.imageBaseUrl+t.drImageUrl,ut)}}function rA(e,n){if(e&1&&(u(0,"div",8)(1,"div",9),C(2,QP,2,1,"span",10)(3,ZP,2,1,"span",11)(4,KP,2,1,"span",12)(5,JP,2,1,"span",13)(6,XP,2,1,"span",14)(7,eA,2,1,"span",15),u(8,"div",16)(9,"div")(10,"h3",17),f(11),c()(),u(12,"div",18)(13,"h5",19),f(14),c(),C(15,tA,1,1,"img",20)(16,nA,2,1,"div",21),c()(),u(17,"p",22),f(18),c(),u(19,"ul",23)(20,"li",24)(21,"strong"),f(22,"\u2696\uFE0F Weight:"),c(),f(23),c(),u(24,"li",24)(25,"strong"),f(26,"\u{1F4CD} From:"),c(),f(27),c(),u(28,"li",24)(29,"strong"),f(30,"\u{1F4E6} To:"),c(),f(31),c(),u(32,"li",24)(33,"strong"),f(34,"\u{1F4C5} Pickup Date:"),c(),f(35),kt(36,"date"),c()(),C(37,iA,2,1,"div",25),E(38,"hr",26),u(39,"div",27)(40,"button",28),E(41,"i",29),f(42," View Details "),c()()()()),e&2){let t=n.$implicit;p(2),m("ngIf",t.status==="Accepted"),p(),m("ngIf",t.status==="Pending"),p(),m("ngIf",t.status==="Cancelled"),p(),m("ngIf",t.status==="Completed"),p(),m("ngIf",t.status==="Delivered"),p(),m("ngIf",!jt(21,GP).includes(t.status)),p(4),T(t.title),p(2),m("routerLink",Ot(22,WP,t.userId)),p(),j(" ",t.userName," "),p(),m("ngIf",t.profileImageUrl),p(),m("ngIf",!t.profileImageUrl),p(2),T(t.description),p(5),j(" ",t.totalWeight," kg "),p(4),j(" ",t.pickUpLocation," "),p(4),j(" ",t.dropOffLocation," "),p(4),j(" ",nn(36,18,t.pickUpDate,"mediumDate")," "),p(2),m("ngIf",t.drImageUrl),p(3),m("routerLink",Ot(24,YP,t.id))}}var td=class e{constructor(n,t,i,r){this.deliveryRequestService=n;this.authService=t;this.modalService=i;this.router=r}imageBaseUrl=lt.imageBaseUrl;deliveryRequests=[];user={};ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>this.user=n,error:n=>{n.status===401&&this.router.navigate(["/login"])}}),this.loadDeliveryRequests()}openPopup(n){if(localStorage.getItem("token")||sessionStorage.getItem("token")){let i=this.modalService.open(Gn,{centered:!0,size:"m"});i.componentInstance.deliveryRequestID=n}else this.router.navigate(["/login"])}loadDeliveryRequests(){this.deliveryRequestService.getMyDeliveryRequests().subscribe({next:n=>{n.isSuccess?(this.deliveryRequests=n.data.reverse(),console.log(this.deliveryRequests)):console.error("Error fetching delivery requests:",n.message)},error:n=>{console.error("Request failed:",n)}})}navigateToCreatePost(){localStorage.getItem("token")||sessionStorage.getItem("token")?this.modalService.open(Gi,{centered:!0,size:"lg",backdrop:"static"}).closed.subscribe(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/deliveryrequests/getMyDeliveryRequests"])})}):this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(D(Gt),D(He),D(bi),D(oe))};static \u0275cmp=L({type:e,selectors:[["app-delivery-requests-by-user-id"]],decls:9,vars:1,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold",2,"color","var(--dark)"],[1,"card","col-md-8","mx-auto","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center","gap-3","flex-wrap"],[1,"flex-grow-1"],["type","text","placeholder","Start a delivery request...","readonly","",1,"form-control","rounded-pill","bg-light","border-0","shadow-sm","ps-4",2,"height","45px",3,"click"],["class","card post-card mb-4 shadow-sm border-1 col-md-8 mx-auto mb-4",4,"ngFor","ngForOf"],[1,"card","post-card","mb-4","shadow-sm","border-1","col-md-8","mx-auto","mb-4"],[1,"card-body"],["class","badge bg-success status-badge",4,"ngIf"],["class","badge bg-warning text-dark status-badge",4,"ngIf"],["class","badge bg-danger status-badge",4,"ngIf"],["class","badge bg-info status-badge",4,"ngIf"],["class","badge bg-warning status-badge",4,"ngIf"],["class","badge bg-secondary status-badge",4,"ngIf"],[1,"card-header","bg-transparent","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-0"],[1,"d-flex","align-items-center","gap-2"],[1,"text-muted","mb-0",2,"font-size","1rem","cursor","pointer",3,"routerLink"],["alt","Profile Image","class","rounded-circle","style","width: 50px; height: 50px; object-fit: cover;",3,"src",4,"ngIf"],["class","d-flex justify-content-center align-items-center rounded-circle bg-secondary text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"my-4","container","text-muted"],[1,"list-unstyled","mt-1","d-flex","flex-wrap","gap-4"],[1,"mb-1"],["class","text-center my-3",4,"ngIf"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"bi","bi-eye"],[1,"badge","bg-success","status-badge"],[1,"badge","bg-warning","text-dark","status-badge"],[1,"badge","bg-danger","status-badge"],[1,"badge","bg-info","status-badge"],[1,"badge","bg-warning","status-badge"],[1,"badge","bg-secondary","status-badge"],["alt","Profile Image",1,"rounded-circle",2,"width","50px","height","50px","object-fit","cover",3,"src"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","bg-secondary","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"text-center","my-3"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"My Delivery Requests"),c()(),u(4,"div",3)(5,"div",4)(6,"div",5)(7,"input",6),M("click",function(){return i.navigateToCreatePost()}),c()()()(),C(8,rA,43,26,"div",7),c()),t&2&&(p(8),m("ngForOf",i.deliveryRequests))},dependencies:[ve,Be,J,Bt,xr,We],styles:[".scrollable-feed[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}"]})};function oA(e,n){if(e&1&&(u(0,"p"),f(1),c()),e&2){let t=v();p(),T(t.message)}}function sA(e,n){if(e&1){let t=re();u(0,"div")(1,"label",11),f(2,"New Offered Price"),c(),u(3,"input",12),Se("ngModelChange",function(r){N(t);let o=v();return xe(o.updatedValue,r)||(o.updatedValue=r),O(r)}),c()()}if(e&2){let t=v();p(3),Ee("ngModel",t.updatedValue)}}var nd=class e{title="Confirm";message="";confirmText="Yes";cancelText="Cancel";showPriceInput=!1;updatedOfferedPrice=null;confirm=new me;cancel=new me;updatedValue=null;ngOnChanges(n){n.updatedOfferedPrice&&(this.updatedValue=this.updatedOfferedPrice)}onConfirm(){this.confirm.emit(this.updatedValue)}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=L({type:e,selectors:[["confirm-dialog"]],inputs:{title:"title",message:"message",confirmText:"confirmText",cancelText:"cancelText",showPriceInput:"showPriceInput",updatedOfferedPrice:"updatedOfferedPrice"},outputs:{confirm:"confirm",cancel:"cancel"},features:[Ct],decls:15,vars:5,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.5)"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["for","offeredPrice",1,"form-label"],["type","number","id","offeredPrice","min","1","required","","placeholder","Enter new price",1,"form-control",3,"ngModelChange","ngModel"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),f(5),c(),u(6,"button",5),M("click",function(){return i.onCancel()}),c()(),u(7,"div",6),C(8,oA,2,1,"p",7)(9,sA,4,1,"div",7),c(),u(10,"div",8)(11,"button",9),M("click",function(){return i.onCancel()}),f(12),c(),u(13,"button",10),M("click",function(){return i.onConfirm()}),f(14),c()()()()()),t&2&&(p(5),T(i.title),p(3),m("ngIf",i.message),p(),m("ngIf",i.showPriceInput),p(3),T(i.cancelText),p(2),T(i.confirmText))},dependencies:[ve,J,Ye,Ne,Dn,Ue,Am,_a,zt],encapsulation:2})};var aA=(e,n,t)=>({"bg-warning text-dark":e,"bg-success":n,"bg-danger":t});function lA(e,n){if(e&1&&(u(0,"div",7)(1,"div",8)(2,"div",9)(3,"div")(4,"h5",10),f(5),c(),u(6,"small",11),E(7,"i",12),f(8),kt(9,"date"),c()(),u(10,"span",13),f(11),c()(),u(12,"p",14)(13,"strong"),f(14,"\u{1F4B0} Offered Price:"),c(),f(15),c()(),E(16,"hr",15),u(17,"div",16)(18,"button",17),E(19,"i",18),f(20," Update "),c(),u(21,"button",17),E(22,"i",19),f(23," Delete "),c()()()),e&2){let t=n.$implicit;p(5),T(t.deliveryTitle),p(3),j(" ",nn(9,5,t.date,"mediumDate")," "),p(2),m("ngClass",Ms(8,aA,t.applicationStatus==="Pending",t.applicationStatus==="Accepted",t.applicationStatus==="Rejected")),p(),j(" ",t.applicationStatus," "),p(4),j(" ",t.offeredPrice," EGP ")}}function cA(e,n){if(e&1){let t=re();u(0,"confirm-dialog",20),M("confirm",function(){N(t);let r=v();return O(r.onConfirmDelete())})("cancel",function(){N(t);let r=v();return O(r.onCancelDelete())}),c()}e&2&&m("title","Delete Application")("message","Are you sure you want to delete this application?")("confirmText","Delete")("cancelText","Cancel")}function uA(e,n){if(e&1){let t=re();u(0,"confirm-dialog",21),M("confirm",function(r){N(t);let o=v();return O(o.onConfirmUpdate(r))})("cancel",function(){N(t);let r=v();return O(r.onCancelUpdate())}),c()}if(e&2){let t=v();m("title","Update Offered Price")("message","Please enter the new offered price.")("confirmText","Update")("cancelText","Cancel")("updatedOfferedPrice",t.updatedOfferedPrice)("showPriceInput",!0)}}var id=class e{constructor(n,t){this.drApplicationService=n;this.authService=t}DrApplications=[];selectedIdToDelete=null;showConfirmModal=!1;showUpdateModal=!1;selectedAppToUpdate=null;updatedOfferedPrice=null;ngOnInit(){this.loadApplications()}loadApplications(){this.drApplicationService.getMyApplications().subscribe({next:n=>{n.isSuccess?this.DrApplications=n.data:console.error("Error fetching DR Applications",n.message)},error:n=>{console.error("Request Failed:",n)}})}confirmDelete(n){this.selectedIdToDelete=n,this.showConfirmModal=!0}onCancelDelete(){this.selectedIdToDelete=null,this.showConfirmModal=!1}onConfirmDelete(){this.selectedIdToDelete!==null&&this.drApplicationService.deleteApplication(this.selectedIdToDelete).subscribe({next:n=>{n.isSuccess&&this.loadApplications()},error:n=>console.error(n)}),this.onCancelDelete()}confirmUpdate(n){this.selectedAppToUpdate=S({},n),this.updatedOfferedPrice=n.offeredPrice,this.showUpdateModal=!0}onCancelUpdate(){this.selectedAppToUpdate=null,this.updatedOfferedPrice=null,this.showUpdateModal=!1}onConfirmUpdate(n){if(this.selectedAppToUpdate){let t=H(S({},this.selectedAppToUpdate),{offeredPrice:n});this.drApplicationService.updateApplication(this.selectedAppToUpdate.id,t).subscribe({next:i=>{i.isSuccess&&this.loadApplications()},error:i=>console.error("Update failed:",i)})}this.onCancelUpdate()}static \u0275fac=function(t){return new(t||e)(D($i),D(He))};static \u0275cmp=L({type:e,selectors:[["ng-component"]],decls:8,vars:3,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold","text-primary-emphasis"],[1,"scrollable-feed","col-md-8","mx-auto","mb-4","p-3","bg-light","rounded","shadow-sm"],["class","card post-card mb-2 shadow-sm border-0",4,"ngFor","ngForOf"],[3,"title","message","confirmText","cancelText","confirm","cancel",4,"ngIf"],[3,"title","message","confirmText","cancelText","updatedOfferedPrice","showPriceInput","confirm","cancel",4,"ngIf"],[1,"card","post-card","mb-2","shadow-sm","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold","text-black","mb-1"],[1,"text-muted"],[1,"bi","bi-calendar-event"],[1,"badge","px-3","py-2",3,"ngClass"],[1,"mb-2"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button"],[1,"bi","bi-pencil-square","me-1"],[1,"bi","bi-trash","me-1"],[3,"confirm","cancel","title","message","confirmText","cancelText"],[3,"confirm","cancel","title","message","confirmText","cancelText","updatedOfferedPrice","showPriceInput"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"My Delivery Applications"),c()(),u(4,"div",3),C(5,lA,24,12,"div",4),c(),C(6,cA,1,4,"confirm-dialog",5)(7,uA,1,6,"confirm-dialog",6),c()),t&2&&(p(5),m("ngForOf",i.DrApplications),p(),m("ngIf",i.showConfirmModal),p(),m("ngIf",i.showUpdateModal))},dependencies:[ve,bn,Be,J,Bt,Ye,nd],styles:[".scrollable-feed[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.5rem;box-shadow:0 4px 10px #0000001a}.scrollable-feed[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.scrollable-feed[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#bbb;border-radius:4px}.post-card[_ngcontent-%COMP%]{border-radius:12px;background-color:#fff;padding:1rem}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}.btn-main[_ngcontent-%COMP%]:disabled{background-color:#0ff}"]})};var dA=(e,n,t)=>({"bg-warning text-dark":e,"bg-success":n,"bg-danger":t}),fA=e=>["/DRApplications/track",e];function pA(e,n){if(e&1&&(u(0,"div",3)(1,"div",4)(2,"div",5)(3,"div")(4,"h5",6),f(5),c(),u(6,"small",7),E(7,"i",8),f(8),c()(),u(9,"span",9),f(10),c()(),u(11,"p",10)(12,"strong"),f(13,"\u{1F4B0} Offered Price:"),c(),f(14),c()(),E(15,"hr",11),u(16,"div",12)(17,"button",13),E(18,"i",14),f(19," Track "),c()()()),e&2){let t=n.$implicit;p(5),T(t.deliveryTitle),p(3),j(" ",t.date," "),p(),m("ngClass",Ms(6,dA,t.applicationStatus==="Pending",t.applicationStatus==="Accepted",t.applicationStatus==="Rejected")),p(),j(" ",t.applicationStatus," "),p(4),j(" ",t.offeredPrice," EGP "),p(3),m("routerLink",Ot(10,fA,t.deliveryRequestId))}}var rd=class e{constructor(n){this.drApplicationService=n}Applications=[];ngOnInit(){this.loadApplications()}loadApplications(){this.drApplicationService.getMyApplications().subscribe({next:n=>{n.isSuccess?(console.log(n),this.Applications=n.data.filter(t=>t.applicationStatus=="Accepted")):console.error("Error fetching DR Applications",n.message)},error:n=>{console.error("Request Failed:",n)}})}static \u0275fac=function(t){return new(t||e)(D($i))};static \u0275cmp=L({type:e,selectors:[["app-accepted-applications"]],decls:6,vars:0,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold",2,"color","var(--dark)"],[1,"card","post-card","mb-2","shadow-sm","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold","text-black","mb-1"],[1,"text-muted"],[1,"bi","bi-calendar-event"],[1,"badge","px-3","py-2",3,"ngClass"],[1,"mb-2"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"fa-solid","fa-list-check"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"Accepted Applications"),c()(),gr(4,pA,20,12,"div",3,Is),c()),t&2&&(p(4),_r(i.Applications))},dependencies:[ve,bn,Ye,We],styles:[".post-card[_ngcontent-%COMP%]{border-radius:12px;background-color:#fff;padding:1rem}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}"]})};var od=class e{constructor(n){this.http=n}endpoint="api/Track";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getLast(n){return this.http.get(`${this.endpoint}/${n}`)}addUpdate(n){return this.http.post(`${this.endpoint}`,n)}static \u0275fac=function(t){return new(t||e)(k(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function hA(e,n){e&1&&(u(0,"h5",8),f(1,"You have accepted this offer"),c())}function mA(e,n){if(e&1){let t=re();u(0,"button",9),M("click",function(){N(t);let r=v(2);return O(r.advanceStep())}),f(1,"Accept to Deliver"),c(),u(2,"button",10),M("click",function(){N(t);let r=v(2);return O(r.Reject())}),f(3,"Reject to Deliver"),c()}if(e&2){let t=v(2);m("disabled",t.IsAccepted),p(2),m("disabled",t.IsAccepted)}}function gA(e,n){if(e&1&&(u(0,"div"),E(1,"i",7),u(2,"h6"),f(3,"You've been matched to deliver this order."),c(),u(4,"p"),f(5,"Price offered: "),u(6,"strong"),f(7),c()(),C(8,hA,2,0,"h5",8)(9,mA,4,2),c()),e&2){let t=v();p(7),j("",t.offerPrice," EGP"),p(),fe(t.IsAccepted?8:9)}}function _A(e,n){if(e&1){let t=re();u(0,"div"),E(1,"i",11),u(2,"h6"),f(3,"Pick up the item from the sender."),c(),u(4,"p"),f(5,"Once you have received the item from the sender's location, confirm below."),c(),u(6,"button",12),M("click",function(){N(t);let r=v();return O(r.advanceStep())}),f(7,"Confirm Item Received"),c()()}if(e&2){let t=v();p(6),m("disabled",t.actualStep>1)}}function vA(e,n){if(e&1){let t=re();u(0,"div"),E(1,"i",11),u(2,"h6"),f(3,"Deliver the item to the recipient."),c(),u(4,"p"),f(5,"After successfully delivering the item to the recipient, confirm the delivery below."),c(),u(6,"button",12),M("click",function(){N(t);let r=v();return O(r.advanceStep())}),f(7,"Mark as Delivered"),c()()}if(e&2){let t=v();p(6),m("disabled",t.actualStep>=2)}}function yA(e,n){e&1&&(u(0,"div"),E(1,"i",13),u(2,"h6"),f(3,"Delivery Completed"),c(),u(4,"p"),f(5,"Thank you! You have successfully completed the delivery."),c()())}var sd=class e{trackingService=b(od);route=b(at);actualStep=0;currentStep=0;offerPrice=80;IsAccepted=!1;actualTrack;deliveryRequestID;constructor(){this.deliveryRequestID=Number(this.route.snapshot.paramMap.get("id")),console.log("ID is:",this.deliveryRequestID)}ngOnInit(){this.trackingService.getLast(this.deliveryRequestID).subscribe({next:n=>{n.isSuccess?(console.log(n),this.actualTrack=n.data,n.data?(this.actualStep=n.data.status,this.currentStep=this.actualStep+1):(this.actualStep=-1,this.currentStep=this.actualStep+1),this.actualStep>0&&(this.IsAccepted=!0),console.log("Current step",this.currentStep)):console.error("An error occurred while fetching request details.")}})}advanceStep(){if(this.actualStep<3){this.actualStep++,this.currentStep=this.actualStep+1;var n={status:this.actualStep,userId:this.actualTrack?.userId,deliveryRequestId:this.deliveryRequestID};this.trackingService.addUpdate(n).subscribe({next:t=>{console.log(t),t.isSuccess?console.log(t):console.error("An error occurred while fetching request details.")}})}}Reject(){}steps=[{label:"Order Placed",description:"The delivery request has been created and is awaiting traveler acceptance."},{label:"Traveler Accepted",description:"A traveler accepted the delivery and is preparing to pick up the item."},{label:"In Transit",description:"The item is on the way to the destination."},{label:"Delivered",description:"The item has been successfully delivered to the recipient."}];selectStep(n){this.actualStep>=n&&(this.currentStep=n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=L({type:e,selectors:[["app-tracking-progress"]],decls:27,vars:10,consts:[[1,"container","pb-5"],[1,"card"],[1,"row","text-center","justify-content-between","align-items-center","top"],[1,"col","mb-5"],["id","progressbar"],[1,"btn","step-label",3,"click"],[1,"step-details","p-3","rounded","text-center","mt-5",3,"ngSwitch"],[1,"fa-regular","fa-handshake","mb-4",2,"color","var(--dark)","font-size","5rem"],[2,"color","green"],[1,"btn","btn-warning","me-3",3,"click","disabled"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"fa-solid","fa-hand-holding-hand","mb-4",2,"color","var(--dark)","font-size","5rem"],[1,"btn","btn-warning",3,"click","disabled"],[1,"fa-solid","fa-circle-check","mb-3",2,"color","var(--yellow)","font-size","5rem"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),f(5,"Delivery Progress"),c()()(),u(6,"ul",4)(7,"li")(8,"span")(9,"a",5),M("click",function(){return i.selectStep(0)}),f(10,"Step 1: Offer Accept"),c()()(),u(11,"li")(12,"span")(13,"a",5),M("click",function(){return i.selectStep(1)}),f(14,"Step 2: Item Collected"),c()()(),u(15,"li")(16,"span")(17,"a",5),M("click",function(){return i.selectStep(2)}),f(18,"Step 3: Delivered"),c()()(),u(19,"li")(20,"span",5),M("click",function(){return i.selectStep(3)}),f(21,"Completed"),c()()(),u(22,"div",6),C(23,gA,10,2,"div")(24,_A,8,1,"div")(25,vA,8,1,"div")(26,yA,6,0,"div"),c()()()),t&2&&(p(7),gt("active",i.actualStep>=0),p(4),gt("active",i.actualStep>=1),p(4),gt("active",i.actualStep>=2),p(4),gt("active",i.actualStep>=2),p(3),m("ngSwitch",i.currentStep),p(),fe(i.currentStep==0?23:i.currentStep==1?24:i.currentStep==2?25:i.currentStep>=3?26:-1))},dependencies:[Mh],styles:['.card[_ngcontent-%COMP%]{background-color:transparent;border-radius:15px;padding:40px;margin-top:50px;border:0}.top[_ngcontent-%COMP%]{margin-bottom:40px}#progressbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0;list-style-type:none;position:relative}#progressbar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:22px;left:10%;width:80%;height:4px;background-color:#c5cae9;z-index:0}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:1;flex:1}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\f10c";font-family:"Font Awesome 6 Free";font-weight:900;font-size:20px;background-color:#c5cae9;color:#fff;width:40px;height:40px;line-height:40px;border-radius:50%;display:inline-block;margin-bottom:10px}#progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{content:"\\f00c";background-color:var(--dark)}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:14px;margin-top:5px}.step-label[_ngcontent-%COMP%]{font-size:13px}.btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-radius:8px;color:#1a202c}']})};var aC=[{path:"",component:Ca},{path:"",component:Ca},{path:"deliveryrequests/update/:id",pathMatch:"full",component:wu,canActivate:[Wt]},{path:"user-details",component:Eu,canActivate:[Wt]},{path:"deliveryrequests/details/:id",component:Qu,canActivate:[Wt]},{path:"deliveryrequests/Create",pathMatch:"full",component:Gi,canActivate:[Wt]},{path:"deliveryrequests/getallDRs",pathMatch:"full",component:Ku},{path:"Register",component:Xu,pathMatch:"full"},{path:"login",component:ed,pathMatch:"full"},{path:"edit-profile",component:Su,canActivate:[Wt],pathMatch:"full"},{path:"deliveryrequests/getMyDeliveryRequests",pathMatch:"full",component:td,canActivate:[Wt]},{path:"DRApplications/GetMyApplications",pathMatch:"full",component:id,canActivate:[Wt]},{path:"DRApplications/AcceptedApplications",pathMatch:"full",component:rd,canActivate:[Wt]},{path:"DRApplications/track/:id",pathMatch:"full",component:sd,canActivate:[Wt]},{path:"Application/add",pathMatch:"full",component:Gn,canActivate:[Wt]}];var lC=(e,n)=>{let t=b(Wi);if(e.url.startsWith("api")){let i=lt.apiBaseUrl,r=e.clone({url:`${i}${e.url}`});return e.url.includes("chat")||e.url.includes("notification")||t.show(),n(r).pipe(St(()=>t.hide()))}return n(e)};var qm={value:!1},zm=new le(null),cC=(e,n)=>{let t=b(He),i=(s,a)=>s.clone({setHeaders:{Authorization:`Bearer ${a}`}}),r=s=>qm.value?zm.pipe(Ae(a=>a!==null),Et(1),Fe(a=>n(i(s,a)))):(qm.value=!0,zm.next(null),t.refreshToken().pipe(Fe(()=>{let a=t.getToken();return a?(zm.next(a),n(i(s,a))):(t.logout(),Oe(()=>new Error("Refresh token failed")))}),it(a=>(t.logout(),Oe(()=>a))),St(()=>{qm.value=!1}))),o=t.getToken();if(o&&e.url.startsWith(lt.apiBaseUrl)){let s=i(e,o);return n(s).pipe(it(a=>a instanceof Pi&&a.status===401?r(e):Oe(()=>a)))}return n(e).pipe(it(s=>s instanceof Pi&&s.status===401?r(e):Oe(()=>s)))};var uC={providers:[ry({eventCoalescing:!0}),_m(aC,ym()),Pc(Hh([lC,cC]))]};var bA=()=>["/edit-profile"];function CA(e,n){if(e&1&&E(0,"img",6),e&2){let t=v();m("src",t.imageBaseUrl+(t.user==null?null:t.user.profileImageUrl),ut)}}function DA(e,n){if(e&1&&(u(0,"div",7),f(1),c()),e&2){let t=v();p(),j(" ",t.user.userName.charAt(0).toUpperCase(),`
`)}}function wA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=v(4);p(),T(t.errors.fullName)}}function EA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=v(4);p(),T(t.errors.email)}}function SA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=v(4);p(),T(t.notvalidemail)}}function IA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=v(4);p(),T(t.errors.phone)}}function MA(e,n){if(e&1&&(u(0,"option",28),f(1),c()),e&2){let t=n.$implicit;m("value",t),p(),T(t)}}function xA(e,n){e&1&&(u(0,"span"),f(1,"Save"),c())}function TA(e,n){e&1&&E(0,"span",29)}function RA(e,n){if(e&1){let t=re();u(0,"div")(1,"div",14)(2,"label",15),f(3,"Username (not editable)"),c(),E(4,"input",16),c(),u(5,"div",14)(6,"label",15),f(7,"Full Name"),c(),u(8,"input",17),Se("ngModelChange",function(r){N(t);let o=v(3);return xe(o.user.fullName,r)||(o.user.fullName=r),O(r)}),c()(),C(9,wA,2,1,"span",18),u(10,"div",14)(11,"label",15),f(12,"Email"),c(),u(13,"input",19),Se("ngModelChange",function(r){N(t);let o=v(3);return xe(o.user.email,r)||(o.user.email=r),O(r)}),c()(),C(14,EA,2,1,"span",18)(15,SA,2,1,"span",18),u(16,"div",14)(17,"label",15),f(18,"Phone"),c(),u(19,"input",17),Se("ngModelChange",function(r){N(t);let o=v(3);return xe(o.user.phone,r)||(o.user.phone=r),O(r)}),c()(),C(20,IA,2,1,"span",18),u(21,"div",14)(22,"label",15),f(23,"Address"),c(),u(24,"select",20),Se("ngModelChange",function(r){N(t);let o=v(3);return xe(o.user.address,r)||(o.user.address=r),O(r)}),u(25,"option",21),f(26,"Select Governorate"),c(),C(27,MA,2,2,"option",22),c()(),u(28,"div",14)(29,"label",15),f(30,"National ID (not editable)"),c(),E(31,"input",16),c(),u(32,"div",23)(33,"button",24),M("click",function(){N(t);let r=v(3);return O(r.saveProfile())}),C(34,xA,2,0,"span",10)(35,TA,1,0,"span",25),c(),u(36,"button",26),M("click",function(){N(t);let r=v(3);return O(r.cancelEdit())}),f(37,"Close"),c()()()}if(e&2){let t=v(3);p(4),m("value",t.user.userName),p(4),Ee("ngModel",t.user.fullName),p(),m("ngIf",t.errors.fullName),p(4),Ee("ngModel",t.user.email),p(),m("ngIf",t.errors.email),p(),m("ngIf",t.notvalidemail),p(4),Ee("ngModel",t.user.phone),p(),m("ngIf",t.errors.phone),p(4),Ee("ngModel",t.user.address),p(3),m("ngForOf",t.egyptGovernorates),p(4),m("value",t.user.natId),p(2),m("disabled",t.loading),p(),m("ngIf",!t.loading),p(),m("ngIf",t.loading)}}function NA(e,n){if(e&1){let t=re();u(0,"div")(1,"button",11),M("click",function(){N(t);let r=v(2);return O(r.togglePopup())}),f(2),c(),u(3,"button",12),M("click",function(){N(t);let r=v(2);return O(r.openDeleteModal())}),f(4,"Delete Account"),c(),u(5,"button",13),M("click",function(){N(t);let r=v(2);return O(r.logout())}),f(6,"Logout"),c(),C(7,RA,38,14,"div",10),c()}if(e&2){let t=v(2);p(),m("routerLink",jt(3,bA)),p(),j("",t.user.userName,"'s Profile"),p(5),m("ngIf",t.editingProfile)}}function OA(e,n){if(e&1&&(u(0,"div",8)(1,"h5",9),f(2,"Profile"),c(),C(3,NA,8,4,"div",10),c()),e&2){let t=v();p(3),m("ngIf",!t.editingProfile)}}function kA(e,n){if(e&1&&(u(0,"div",39),f(1),c()),e&2){let t=v(2);p(),T(t.deleteError)}}function PA(e,n){if(e&1){let t=re();u(0,"div",30)(1,"div",31)(2,"h5",32),f(3,"Confirm Account Deletion"),c(),u(4,"p",33),f(5,"Please enter your password to confirm:"),c(),u(6,"input",34),Se("ngModelChange",function(r){N(t);let o=v();return xe(o.confirmPassword,r)||(o.confirmPassword=r),O(r)}),c(),C(7,kA,2,1,"div",35),u(8,"div",36)(9,"button",37),M("click",function(){N(t);let r=v();return O(r.cancelDelete())}),f(10,"Cancel"),c(),u(11,"button",38),M("click",function(){N(t);let r=v();return O(r.confirmDelete())}),f(12,"Delete"),c()()()()}if(e&2){let t=v();p(6),Ee("ngModel",t.confirmPassword),p(),m("ngIf",t.deleteError)}}var ad=class e{constructor(n,t){this.router=n;this.eRef=t}authService=b(He);imageBaseUrl=lt.imageBaseUrl;user={};showPopup=!1;loading=!1;egyptGovernorates=qn;notvalidemail=null;editingProfile=!1;errors={fullName:"",email:"",phone:""};showPasswordModal=!1;confirmPassword="";deleteError="";ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}})}loadUser(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n)}})}validate(){let n=!0;this.errors={fullName:"",email:"",phone:""},(!this.user.fullName||this.user.fullName.trim().length<3)&&(this.errors.fullName="Full name is required and must be at least 3 characters.",n=!1);let t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return(!this.user.email||!t.test(this.user.email))&&(this.errors.email="Please enter a valid email address.",n=!1),this.user.phone&&!/^(010|011|012|015)\d{8}$/.test(this.user.phone)&&(this.errors.phone="Phone must be a valid Egyptian number starting with 010, 011, 012, or 015.",n=!1),n}saveProfile(){this.validate()&&(this.loading=!0,this.authService.updateUser(this.user).subscribe({next:()=>{alert("User updated successfully!"),this.loading=!1,this.loadUser(),this.editingProfile=!1},error:n=>{console.error("Update failed:",n),n.error&&n.error.message==="Email is already taken."?this.notvalidemail="Email is already taken. Please choose another one.":this.notvalidemail="An error occurred. Please try again later.",this.loading=!1}}))}togglePopup(){this.showPopup=!this.showPopup}clickOutside(n){this.showPopup&&!this.eRef.nativeElement.contains(n.target)&&(this.showPopup=!1)}logout(){this.authService.logout(),this.togglePopup()}cancelEdit(){this.editingProfile=!1}openDeleteModal(){this.togglePopup(),this.showPasswordModal=!0,this.confirmPassword="",this.deleteError=""}cancelDelete(){this.showPasswordModal=!1,this.confirmPassword="",this.deleteError=""}confirmDelete(){this.deleteError="",this.authService.deleteUser(this.confirmPassword).subscribe({next:()=>{this.showPasswordModal=!1,this.authService.logout()},error:n=>{this.deleteError=n.error?.message||"Incorrect password or server error."}})}static \u0275fac=function(t){return new(t||e)(D(oe),D(ze))};static \u0275cmp=L({type:e,selectors:[["app-user-profile"]],hostBindings:function(t,i){t&1&&M("click",function(o){return i.clickOutside(o)},!1,Y_)},decls:6,vars:4,consts:[[1,"position-relative"],[1,"text-white","text-center","fw-bold",3,"click"],["alt","Profile Image","style","width: 50px; height: 50px; object-fit: cover; border-radius: 50%;",3,"src",4,"ngIf"],["class","d-flex justify-content-center align-items-center rounded-circle bg-#e99a42 text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],["class","card profile-popup registerForm shadow position-absolute end-0 mt-2 p-4","style","width: 400px; z-index: 999;",4,"ngIf"],["class","custom-modal",4,"ngIf"],["alt","Profile Image",2,"width","50px","height","50px","object-fit","cover","border-radius","50%",3,"src"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","bg-#e99a42","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"card","profile-popup","registerForm","shadow","position-absolute","end-0","mt-2","p-4",2,"width","400px","z-index","999"],[1,"card-title","text-center","mb-3",2,"font-weight","700"],[4,"ngIf"],[1,"btn","btn-outline-primary","w-100","mb-2",3,"click","routerLink"],[1,"btn","btn-outline-warning","w-100","mb-2",3,"click"],[1,"btn","btn-outline-danger","w-100","mb-2",3,"click"],[1,"mb-3","text-start"],[1,"form-label"],["type","text","disabled","",1,"form-control",3,"value"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","email",1,"form-control",3,"ngModelChange","ngModel"],["name","address",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","gap-2"],[1,"btn","btn-primary","w-100",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"error"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"custom-modal"],[1,"custom-modal-content"],[1,"text-center","mb-3"],[1,"text-center"],["type","password","placeholder","Enter password",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["class","text-danger mb-2 text-center",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"btn","btn-secondary","w-50","me-2",3,"click"],[1,"btn","btn-danger","w-50",3,"click"],[1,"text-danger","mb-2","text-center"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1),M("click",function(){return i.togglePopup()}),C(2,CA,1,1,"img",2)(3,DA,2,1,"div",3),c(),C(4,OA,4,1,"div",4)(5,PA,13,2,"div",5),c()),t&2&&(p(2),m("ngIf",i.user==null?null:i.user.profileImageUrl),p(),m("ngIf",!(i.user!=null&&i.user.profileImageUrl)&&(i.user==null?null:i.user.userName)),p(),m("ngIf",i.showPopup),p(),m("ngIf",i.showPasswordModal))},dependencies:[ve,Be,J,Ye,Un,Hn,Ne,cn,Ue,zt,We],styles:[".profile-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:var(--yellow);display:flex;align-items:center;justify-content:center;cursor:pointer;font-family:Montserrat,sans-serif;box-shadow:0 2px 4px #00000026}.profile-popup[_ngcontent-%COMP%]{background-color:#f0f0f0!important;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a}.profile-popup[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--text);font-weight:600}.profile-popup[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.profile-popup[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{background-color:var(--sender);border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--neutral)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-warning[_ngcontent-%COMP%]{background-color:var(--traveler);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--yellow)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-warning[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{background-color:var(--traveler);border-color:#eb2828;font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:#eb2828}.profile-popup[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#eb2828;border-color:#eb2828;color:#fff}.error[_ngcontent-%COMP%]{color:red;font-size:.8em}.custom-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1055}.custom-modal-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;width:100%;max-width:400px;box-shadow:0 0 20px #0003}@media (max-width: 576px){.profile-popup[_ngcontent-%COMP%]{width:90vw;max-width:320px;right:auto;left:50%;transform:translate(-50%);padding:1rem}.profile-popup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.4rem .8rem}.profile-popup[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .profile-popup[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .profile-popup[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.9rem}.profile-popup[_ngcontent-%COMP%]   h5.card-title[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var Yi=class e{constructor(n,t){this.signalRService=n;this.http=t;this.signalRService.newMessage$.subscribe(i=>{this.addMessageToChat(i)})}apiUrl="api/chat";chatsSubject=new le([]);chats$=this.chatsSubject.asObservable();activeChatSubject=new le(null);activeChat$=this.activeChatSubject.asObservable();chatsPanelVisibleSubject=new le(!1);chatsPanelVisible$=this.chatsPanelVisibleSubject.asObservable();chatWindowVisibleSubject=new le(!1);chatWindowVisible$=this.chatWindowVisibleSubject.asObservable();toggleChatsPanel(){this.chatsPanelVisibleSubject.next(!this.chatsPanelVisibleSubject.value)}openChat(n){this.activeChatSubject.next(n),this.chatWindowVisibleSubject.next(!0),this.loadChatHistory(n.id)}closeChat(){this.chatWindowVisibleSubject.next(!1)}toggleChatWindow(){this.chatWindowVisibleSubject.next(!this.chatWindowVisibleSubject.value)}loadChats(){return this.http.get(`${this.apiUrl}/user`).subscribe({next:n=>{n.isSuccess?(n.data.forEach(t=>{t.unreadMessagesCount=0,t.lastMessage=t.messages?.length>0?t.messages[t.messages.length-1]:null,t.lastMessageTime=t.lastMessage?.date??null}),this.chatsSubject.next(n.data)):console.error(`Error loading chats: ${n.message}`,n.errorCode)},error:n=>{console.error("Error loading chats:",n)}}),this.chats$}loadChatHistory(n){return this.http.get(`api/chat/${n}`)}addMessageToChat(n){let t=this.chatsSubject.value,i=t.findIndex(r=>r.id===n.chatId);if(i>-1){let r=[...t];r[i]=H(S({},r[i]),{lastMessage:n,lastMessageTime:n.date,unreadMessagesCount:this.activeChatSubject.value?.id===n.chatId?0:(r[i].unreadMessagesCount||0)+1});let o=r.splice(i,1)[0];if(r.unshift(o),this.chatsSubject.next(r),this.activeChatSubject.value?.id===n.chatId){let s=this.activeChatSubject.value;this.activeChatSubject.next(H(S({},s),{messages:[...s.messages||[],n]}))}}}static \u0275fac=function(t){return new(t||e)(k(Zn),k(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function AA(e,n){if(e&1&&(u(0,"span",3),f(1),c()),e&2){let t=v();p(),T(t.totalUnreadMessages)}}var ld=class e{constructor(n){this.chatService=n;this.chatService.chats$.subscribe(t=>{this.totalUnreadMessages=t.reduce((i,r)=>i+r.unreadMessagesCount,0)})}totalUnreadMessages=0;toggleChatsPanel(){this.chatService.toggleChatsPanel()}static \u0275fac=function(t){return new(t||e)(D(Yi))};static \u0275cmp=L({type:e,selectors:[["app-chat-icon"]],decls:3,vars:1,consts:[[1,"chat-icon","d-flex","align-items-center","position-relative",3,"click"],[1,"bi","bi-chat"],["class","badge rounded-circle",4,"ngIf"],[1,"badge","rounded-circle"]],template:function(t,i){t&1&&(u(0,"div",0),M("click",function(){return i.toggleChatsPanel()}),E(1,"i",1),C(2,AA,2,1,"span",2),c()),t&2&&(p(2),m("ngIf",i.totalUnreadMessages>0))},dependencies:[J],styles:[".chat-icon[_ngcontent-%COMP%]{cursor:pointer;width:40px;height:40px;justify-content:center}.chat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--yellow);font-size:20px}.badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background-color:var(--yellow);color:var(--dark);width:18px;height:18px;font-size:12px;display:flex;align-items:center;justify-content:center}"]})};var cd=class e{hubConnection;newNotificationSubject=new ae;newNotification$=this.newNotificationSubject.asObservable();constructor(){}startConnection(){this.hubConnection=new Ar().withUrl(`${lt.notificationHubUrl}`,{accessTokenFactory:()=>localStorage.getItem("token")||sessionStorage.getItem("token")||""}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>console.log("SignalR connection started")).catch(n=>console.log("Error while starting connection: "+n)),this.registerSignalREvents()}registerSignalREvents(){this.hubConnection?this.hubConnection.on("ReceiveNotification",n=>{this.newNotificationSubject.next(n)}):console.error("Hub connection is not established.")}stopConnection(){this.hubConnection&&this.hubConnection.stop().then(()=>console.log("SignalR connection stopped")).catch(n=>console.log("Error while stopping connection: "+n))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var Xo=class e{constructor(n,t){this.http=n;this.notificationSignalrService=t;this.notificationSignalrService.newNotification$.subscribe(i=>{this.addNotification(i)})}apiUrl="api/notification";notificationsSubject=new le([]);notifications$=this.notificationsSubject.asObservable();notificationPanelVisibleSubject=new le(!1);notificationPanelVisible$=this.notificationPanelVisibleSubject.asObservable();totalUnreadNotificationsSubject=new le(0);totalUnreadNotifications$=this.totalUnreadNotificationsSubject.asObservable();toggleNotificationPanel(){this.notificationPanelVisibleSubject.next(!this.notificationPanelVisibleSubject.value)}loadNotifications(){return this.http.get(`${this.apiUrl}`).subscribe({next:n=>{n.isSuccess?n.data.forEach(t=>{this.addNotification(t)}):console.error(`Error loading notifications: ${n.message}`,n.errorCode)},error:n=>{console.error("Error loading notifications:",n)}}),this.notifications$}addNotification(n){let t=this.notificationsSubject.value,i=t.findIndex(r=>r.id===n.id);n.isRead||this.totalUnreadNotificationsSubject.next(this.totalUnreadNotificationsSubject.value+1),i===-1?(t.unshift(n),this.notificationsSubject.next(t)):(t[i]=n,this.notificationsSubject.next(t))}markAsRead(n){this.http.put(`${this.apiUrl}/mark-as-read`,n).subscribe({next:t=>{if(t.isSuccess){let i=this.notificationsSubject.value;n.forEach(r=>{let o=i.findIndex(s=>s.id===r);o!==-1&&(i[o].isRead=!0,this.totalUnreadNotificationsSubject.next(this.totalUnreadNotificationsSubject.value-1))}),this.notificationsSubject.next(i)}else console.error(`Error marking notifications as read: ${t.message}`,t.errorCode)},error:t=>{console.error("Error marking notifications as read:",t)}})}static \u0275fac=function(t){return new(t||e)(k(vt),k(cd))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function LA(e,n){if(e&1&&(u(0,"span",3),f(1),c()),e&2){let t=v();p(),T(t.totalUnreadNotifications)}}var ud=class e{constructor(n){this.notificationService=n;this.notificationService.notifications$.subscribe(t=>{this.totalUnreadNotifications=t.reduce((i,r)=>i+(r.isRead?0:1),0)})}totalUnreadNotifications=0;toggleNotificationsPanel(){this.notificationService.toggleNotificationPanel()}static \u0275fac=function(t){return new(t||e)(D(Xo))};static \u0275cmp=L({type:e,selectors:[["app-notification-icon"]],decls:3,vars:1,consts:[[1,"chat-icon","d-flex","align-items-center","position-relative",3,"click"],[1,"bi","bi-bell","fs-5"],["class","badge bg-danger position-absolute top-0 start-100 translate-middle rounded-pill px-2",4,"ngIf"],[1,"badge","bg-danger","position-absolute","top-0","start-100","translate-middle","rounded-pill","px-2"]],template:function(t,i){t&1&&(u(0,"div",0),M("click",function(){return i.toggleNotificationsPanel()}),E(1,"i",1),C(2,LA,2,1,"span",2),c()),t&2&&(p(2),m("ngIf",i.totalUnreadNotifications>0))},dependencies:[J],encapsulation:2})};function VA(e,n){e&1&&(kn(0),u(1,"li",9)(2,"a",10),f(3,"Delivery Requests"),c()(),u(4,"li",9)(5,"a",11),f(6,"My Applications"),c()(),u(7,"li",9)(8,"a",12),f(9,"Track Applications"),c()(),u(10,"li",9)(11,"a",13),f(12,"My Delivery Requests"),c()(),u(13,"li",9)(14,"a",14),E(15,"app-chat-icon"),c()(),u(16,"li",15)(17,"a",14),E(18,"app-notification-icon"),c()(),u(19,"li",16),E(20,"app-user-profile"),c(),Pn())}function jA(e,n){e&1&&(kn(0),u(1,"div",17)(2,"ul",7)(3,"li",9)(4,"a",10),f(5,"Delivery Requests"),c()()(),u(6,"a",18),f(7,"Login"),c(),u(8,"a",19),f(9,"Register"),c()(),Pn())}var dd=class e{constructor(n,t){this.authService=n;this.router=t;this.respond=this.authService.response}isLoggedIn=!0;searchQuery="";user=null;respond=null;ngOnInit(){this.authService.isLoggedIn$.subscribe(n=>{this.isLoggedIn=n})}logout(){this.authService.logout(),this.router.navigate(["/login"])}onSearch(n){n.preventDefault(),this.searchQuery?.trim()&&this.router.navigate(["/user-details"],{queryParams:{name:this.searchQuery.trim()}})}static \u0275fac=function(t){return new(t||e)(D(He),D(oe))};static \u0275cmp=L({type:e,selectors:[["app-header"]],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","sticky-top","shadow-sm"],[1,"container"],["href","#",1,"navbar-brand"],["src","logocopy.png","width","90px","alt","Logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","text-light","border-0"],[1,"fa-solid","fa-bars","fs-4"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-center","gap-2","pe-3"],[4,"ngIf"],[1,"nav-item"],["routerLink","deliveryrequests/getallDRs","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","DRApplications/GetMyApplications","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","DRApplications/AcceptedApplications","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","deliveryrequests/getMyDeliveryRequests","routerLinkActive","active",1,"nav-link","custom-link"],[1,"nav-link","custom-link","d-flex","align-items-center","gap-1"],[1,"nav-item","position-relative"],[1,"nav-item","ms-3"],[1,"d-flex","gap-2","ps-3"],["routerLink","/login","routerLinkActive","active-link",1,"btn","btn-main","rounded-pill","px-4","py-1"],["routerLink","/Register","routerLinkActive","active-link",1,"btn","btn-main","rounded-pill","px-4","py-1"]],template:function(t,i){t&1&&(u(0,"nav",0)(1,"div",1)(2,"a",2),E(3,"img",3),c(),u(4,"button",4),E(5,"i",5),c(),u(6,"div",6)(7,"ul",7),C(8,VA,21,0,"ng-container",8),c(),C(9,jA,10,0,"ng-container",8),c()()()),t&2&&(p(8),m("ngIf",i.isLoggedIn),p(),m("ngIf",!i.isLoggedIn))},dependencies:[We,aa,J,Ye,ad,$h,ld,ud],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--dark);z-index:900}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:var(--yellow)}.navbar[_ngcontent-%COMP%]   .left-border[_ngcontent-%COMP%]{border-left:1px solid var(--yellow)}.navbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--yellow)}.btn-main[_ngcontent-%COMP%]{padding:5px 20px;background-color:var(--yellow);color:var(--dark)}.btn-main[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--yellow);color:var(--dark)}"]})};var fd=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=L({type:e,selectors:[["app-footer"]],decls:47,vars:0,consts:[[1,"text-center","text-white"],[1,"container"],[1,"row","text-center","d-flex","justify-content-center","pt-5"],[1,"col-md-2"],[1,"text-uppercase","font-weight-bold"],["href","#",1,"btn","text-white"],[1,"mt-4","mb-3"],[1,"mb-5"],[1,"row","d-flex","justify-content-center"],[1,"col-lg-8"],[1,"text-center","mb-5"],["href","",1,"btn","text-white","me-4"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-google"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin"],[1,"fab","fa-github"],[1,"text-center","p-3","copyrights"],["href","https://ma3ak.me.com",1,""]],template:function(t,i){t&1&&(u(0,"footer",0)(1,"div",1)(2,"section")(3,"div",2)(4,"div",3)(5,"h1",4)(6,"a",5),f(7,"Home"),c()()(),u(8,"div",3)(9,"h1",4)(10,"a",5),f(11,"Services"),c()()(),u(12,"div",3)(13,"h1",4)(14,"a",5),f(15,"Portfolio"),c()()(),u(16,"div",3)(17,"h1",4)(18,"a",5),f(19,"contact"),c()()(),u(20,"div",3)(21,"h1",4)(22,"a",5),f(23,"About us"),c()()()()(),E(24,"hr",6),u(25,"section",7)(26,"div",8)(27,"div",9)(28,"p"),f(29," Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt distinctio earum repellat quaerat voluptatibus placeat nam, commodi optio pariatur est quia magnam eum harum corrupti dicta, aliquam sequi voluptate quas. "),c()()()(),u(30,"section",10)(31,"a",11),E(32,"i",12),c(),u(33,"a",11),E(34,"i",13),c(),u(35,"a",11),E(36,"i",14),c(),u(37,"a",11),E(38,"i",15),c(),u(39,"a",11),E(40,"i",16),c(),u(41,"a",11),E(42,"i",17),c()()(),u(43,"div",18),f(44," \xA9 2025 Copyright: "),u(45,"a",19),f(46,"MDBootstrap.com"),c()()())},styles:["footer[_ngcontent-%COMP%]{background-color:var(--dark)}.copyrights[_ngcontent-%COMP%]{background-color:#0003;color:var(--yellow)}.copyrights[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--yellow)}"]})};var Fr=class extends Error{};Fr.prototype.name="InvalidTokenError";function BA(e){return decodeURIComponent(atob(e).replace(/(.)/g,(n,t)=>{let i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function UA(e){let n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return BA(n)}catch{return atob(n)}}function fC(e,n){if(typeof e!="string")throw new Fr("Invalid token specified: must be a string");n||(n={});let t=n.header===!0?0:1,i=e.split(".")[t];if(typeof i!="string")throw new Fr(`Invalid token specified: missing part #${t+1}`);let r;try{r=UA(i)}catch(o){throw new Fr(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(r)}catch(o){throw new Fr(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}var HA=["messagesContainer"],$A=e=>({minimized:e}),qA=e=>({"own-message":e}),zA=(e,n)=>n.id;function GA(e,n){if(e&1&&(u(0,"div",13)(1,"div",18),f(2),c(),u(3,"div",19),f(4),kt(5,"date"),c()()),e&2){let t=n.$implicit,i=v(3);m("ngClass",Ot(6,qA,t.senderId==i.currentUserId)),p(2),T(t.message),p(2),j(" ",nn(5,3,t.date,"shortTime")," ")}}function WA(e,n){if(e&1){let t=re();u(0,"div",11)(1,"div",12,0),gr(3,GA,6,8,"div",13,zA),c(),u(5,"div",14)(6,"input",15),M("keyup.enter",function(){N(t);let r=v(2);return O(r.sendMessage())}),c(),u(7,"button",16),M("click",function(){N(t);let r=v(2);return O(r.sendMessage())}),E(8,"i",17),c()()()}if(e&2){let t=v(2);p(3),_r(t.messages),p(3),m("formControl",t.messageInput)}}function YA(e,n){if(e&1){let t=re();u(0,"div",2)(1,"div",3),M("click",function(){N(t);let r=v();return O(r.toggleMinimize())}),u(2,"div",4)(3,"div",5),f(4),c()(),u(5,"div",6)(6,"button",7),M("click",function(r){N(t);let o=v();return O(o.minimizeWindow(r))}),E(7,"i",8),c(),u(8,"button",7),M("click",function(r){N(t);let o=v();return O(o.closeWindow(r))}),E(9,"i",9),c()()(),C(10,WA,9,1,"div",10),c()}if(e&2){let t=v();m("ngClass",Ot(4,$A,t.isMinimized)),p(4),T(t.activeChat.chattingWith),p(3),m("ngClass",t.isMinimized?"bi-chevron-up":"bi-dash-lg"),p(3),m("ngIf",!t.isMinimized)}}var pd=class e{constructor(n,t){this.chatService=n;this.signalRService=t}messagesContainer;userToken=localStorage.getItem("token")||sessionStorage.getItem("token");currentUserId;activeChat=null;messages=[];isWindowVisible=!1;isMinimized=!1;messageInput=new Tr("",B.required);ngOnInit(){if(this.userToken){let n=fC(this.userToken);this.currentUserId=parseInt(n["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"])}this.chatService.activeChat$.subscribe(n=>{this.activeChat=n,n&&(this.messages=n.messages||[],this.scrollToBottom())}),this.chatService.chatWindowVisible$.subscribe(n=>{this.isWindowVisible=n,n&&(this.isMinimized=!1)}),this.signalRService.newMessage$.subscribe(n=>{this.activeChat&&n.chatId===this.activeChat.id&&setTimeout(()=>this.scrollToBottom(),100)})}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){try{this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch{}}sendMessage(){if(this.messageInput.invalid||!this.activeChat)return;let n=this.messageInput.value?.trim();if(!n)return;let t={chatId:this.activeChat.id,message:n,senderId:this.currentUserId,date:new Date};this.messages.push(t),this.scrollToBottom(),this.messageInput.reset(),this.signalRService.sendMessage(t,"1")}toggleMinimize(){this.isMinimized=!this.isMinimized}minimizeWindow(n){n.stopPropagation(),this.isMinimized=!0}closeWindow(n){n.stopPropagation(),this.chatService.closeChat()}static \u0275fac=function(t){return new(t||e)(D(Yi),D(Zn))};static \u0275cmp=L({type:e,selectors:[["app-chat-window"]],viewQuery:function(t,i){if(t&1&&pi(HA,5),t&2){let r;gn(r=_n())&&(i.messagesContainer=r.first)}},decls:1,vars:1,consts:[["messagesContainer",""],["class","chat-window-container shadow",3,"ngClass",4,"ngIf"],[1,"chat-window-container","shadow",3,"ngClass"],[1,"window-header","d-flex","justify-content-between","align-items-center",3,"click"],[1,"chat-details","d-flex","align-items-center"],[1,"name","text-white"],[1,"window-controls"],[1,"btn","btn-link","p-1",3,"click"],[1,"bi","text-yellow",3,"ngClass"],[1,"bi","bi-x-lg","text-yellow"],["class","messages-container bg-white",4,"ngIf"],[1,"messages-container","bg-white"],[1,"messages","px-3","py-2"],[1,"message","mb-3",3,"ngClass"],[1,"message-input","d-flex","p-2","border-top"],["type","text","placeholder","Type a message...",1,"form-control","me-2",3,"keyup.enter","formControl"],[1,"btn","btn-main",3,"click"],[1,"bi","bi-send-fill"],[1,"message-content","p-2"],[1,"message-time","small","text-muted","mt-1"]],template:function(t,i){t&1&&C(0,YA,11,6,"div",1),t&2&&m("ngIf",i.isWindowVisible&&i.activeChat)},dependencies:[bn,Bt,$n,Ne,Ue,Pm,J],styles:[".chat-window-container[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:0;width:320px;background:#fff;border-radius:8px 8px 0 0;display:flex;flex-direction:column;z-index:1000;max-height:450px;border:1px solid #ddd;border-bottom:none}.chat-window-container.minimized[_ngcontent-%COMP%]{height:auto}.window-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-radius:8px 8px 0 0;cursor:pointer}.avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;overflow:hidden;background-color:#fff;display:flex;align-items:center;justify-content:center}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--yellow)}.messages-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:350px}.messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:12px}.message[_ngcontent-%COMP%]{margin-bottom:10px;max-width:70%}.message-content[_ngcontent-%COMP%]{padding:8px 12px;border-radius:18px;background:#f1f1f1;display:inline-block;word-break:break-word}.message-time[_ngcontent-%COMP%]{color:#888;margin-top:2px}.own-message[_ngcontent-%COMP%]{margin-left:auto}.own-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--dark);color:#fff}.own-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{text-align:right}.btn-main[_ngcontent-%COMP%]{padding:5px 15px}.btn-main[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dark)}"]})};function QA(e,n){if(e&1){let t=re();u(0,"div",7),M("click",function(){let r=N(t).$implicit,o=v(2);return O(o.openChat(r))}),u(1,"div",8)(2,"div",9),f(3),c(),u(4,"div",10),f(5),kt(6,"slice"),c()(),u(7,"div",11)(8,"div",12),f(9),kt(10,"date"),c()()()}if(e&2){let t=n.$implicit;p(3),T(t.chattingWith),p(2),T(ey(6,3,t.lastMessage==null?null:t.lastMessage.message,0,20)),p(4),T(nn(10,7,t.lastMessageTime,"shortTime"))}}function ZA(e,n){if(e&1){let t=re();u(0,"div",1)(1,"div",2)(2,"h3",3),f(3,"Chats"),c(),u(4,"button",4),M("click",function(){N(t);let r=v();return O(r.closePanel())}),f(5,"\xD7"),c()(),u(6,"div",5),C(7,QA,11,10,"div",6),c()()}if(e&2){let t=v();p(7),m("ngForOf",t.chats)}}var hd=class e{constructor(n){this.chatService=n;this.chatService.chatsPanelVisible$.subscribe(t=>{this.isPanelOpen=t,t&&this.loadChats()})}chats;isPanelOpen=!1;ngOnInit(){this.chatService.chats$.subscribe(n=>{this.chats=n})}loadChats(){this.chatService.loadChats()}openChat(n){this.chatService.openChat(n)}closePanel(){this.chatService.toggleChatsPanel()}static \u0275fac=function(t){return new(t||e)(D(Yi))};static \u0275cmp=L({type:e,selectors:[["app-chats-panel"]],decls:1,vars:1,consts:[["class","chats-panel-container shadow",4,"ngIf"],[1,"chats-panel-container","shadow"],[1,"panel-header","d-flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"btn-close-panel",3,"click"],[1,"chats-list"],["class","chat-item d-flex align-items-center",3,"click",4,"ngFor","ngForOf"],[1,"chat-item","d-flex","align-items-center",3,"click"],[1,"chat-info","flex-grow-1"],[1,"chat-name","fw-medium"],[1,"last-message","text-truncate"],[1,"chat-meta","d-flex","flex-column","align-items-end"],[1,"time","small"]],template:function(t,i){t&1&&C(0,ZA,8,1,"div",0),t&2&&m("ngIf",i.isPanelOpen)},dependencies:[Bt,Be,J,xh],styles:[".chats-panel-container[_ngcontent-%COMP%]{position:fixed;right:10%;top:70px;width:300px;height:400px;background:#fff;border-radius:8px;display:flex;flex-direction:column;z-index:1000;border:1px solid var(--yellow);overflow:hidden}@media (max-width: 400px){.chats-panel-container[_ngcontent-%COMP%]{width:80%;right:10%;top:10%;height:60%}}.panel-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-bottom:1px solid #eaeaea}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.btn-close-panel[_ngcontent-%COMP%]{background:none;border:none;color:var(--yellow);font-size:20px;cursor:pointer}.chats-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.chat-item[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f5f5f5;cursor:pointer}.chat-item[_ngcontent-%COMP%]:hover{background-color:#e99a421a}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;background-color:var(--dark);display:flex;align-items:center;justify-content:center}.chat-name[_ngcontent-%COMP%]{color:var(--dark);margin-bottom:4px}.last-message[_ngcontent-%COMP%]{font-size:12px;color:#888}.time[_ngcontent-%COMP%]{color:#888;margin-bottom:5px}.unread-badge[_ngcontent-%COMP%]{background-color:var(--yellow);color:var(--dark);border-radius:50%;min-width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:12px;padding:0 5px}"]})};var KA=e=>({unread:e});function JA(e,n){if(e&1&&(u(0,"div",9)(1,"div",10),E(2,"i",11),c(),u(3,"div",12)(4,"p",13),f(5),c(),u(6,"small",14),f(7),kt(8,"date"),c()()()),e&2){let t=n.$implicit;m("ngClass",Ot(6,KA,!t.isRead)),p(5),T(t.message),p(2),j(" ",nn(8,3,t.createdAt,"short")," ")}}function XA(e,n){e&1&&(u(0,"div",15),E(1,"i",16),u(2,"p",17),f(3,"No notifications yet"),c()())}function e2(e,n){if(e&1){let t=re();u(0,"div",1)(1,"div",2)(2,"h5",3),f(3,"Notifications"),c(),u(4,"button",4),M("click",function(){N(t);let r=v();return O(r.closePanel())}),E(5,"i",5),c()(),u(6,"div",6),C(7,JA,9,8,"div",7)(8,XA,4,0,"div",8),c()()}if(e&2){let t=v();p(7),m("ngForOf",t.notifications),p(),m("ngIf",t.notifications.length===0)}}var md=class e{constructor(n){this.notificationService=n;this.notificationService.notificationPanelVisible$.subscribe(t=>{this.isPanelOpen=t,t&&this.loadNotifications()})}isPanelOpen=!1;notifications=[];ngOnInit(){this.notificationService.notifications$.subscribe(n=>{this.notifications=n})}loadNotifications(){this.notificationService.loadNotifications()}closePanel(){this.notificationService.toggleNotificationPanel(),this.markAsRead()}markAsRead(){let n=[];this.notifications.forEach(t=>{t.isRead||n.push(t.id)}),n.length!==0&&this.notificationService.markAsRead(n)}static \u0275fac=function(t){return new(t||e)(D(Xo))};static \u0275cmp=L({type:e,selectors:[["app-notification-panel"]],decls:1,vars:1,consts:[["class","notifications-panel-container card shadow position-fixed",4,"ngIf"],[1,"notifications-panel-container","card","shadow","position-fixed"],[1,"card-header","panel-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-white"],[1,"btn-close-panel","btn","btn-link","p-0",3,"click"],[1,"bi","bi-x-lg","text-yellow"],[1,"notifications-list","card-body","p-0","bg-white"],["class","notification-item d-flex align-items-center p-3 border-bottom",3,"ngClass",4,"ngFor","ngForOf"],["class","no-notifications text-center p-4",4,"ngIf"],[1,"notification-item","d-flex","align-items-center","p-3","border-bottom",3,"ngClass"],[1,"notification-icon","me-3"],[1,"bi","fs-5"],[1,"notification-content","flex-grow-1"],[1,"notification-text","mb-1"],[1,"notification-time","text-muted"],[1,"no-notifications","text-center","p-4"],[1,"bi","bi-bell","fs-4","mb-2","text-yellow"],[1,"mb-0","text-muted"]],template:function(t,i){t&1&&C(0,e2,9,2,"div",0),t&2&&m("ngIf",i.isPanelOpen)},dependencies:[ve,bn,Be,J,Bt],styles:[".notifications-panel-container[_ngcontent-%COMP%]{position:fixed;right:100px;top:70px;width:350px;max-height:450px;z-index:1000;border:none;border-radius:8px;overflow:hidden}.panel-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-bottom:1px solid rgba(255,255,255,.1)}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin:0}.btn-close-panel[_ngcontent-%COMP%]{background:none;border:none;color:var(--yellow);font-size:20px;cursor:pointer}.btn-close-panel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.8}.notifications-list[_ngcontent-%COMP%]{flex:1;max-height:400px;overflow-y:auto}.notification-item[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid rgba(0,0,0,.05);cursor:pointer;transition:all .2s ease}.notification-item[_ngcontent-%COMP%]:hover{background-color:#e99a420d}.notification-item.unread[_ngcontent-%COMP%]{background-color:#e99a421a}.notification-item.unread[_ngcontent-%COMP%]   .notification-text[_ngcontent-%COMP%]{font-weight:500}.notification-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;color:var(--dark)}.notification-text[_ngcontent-%COMP%]{color:var(--dark);font-size:14px;margin-bottom:0;line-height:1.4}.notification-time[_ngcontent-%COMP%]{font-size:12px}.no-notifications[_ngcontent-%COMP%]{color:#888;font-size:14px}.no-notifications[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dark);opacity:.5}"]})};function t2(e,n){e&1&&(kn(0),E(1,"app-header"),Pn())}function n2(e,n){e&1&&(kn(0),E(1,"app-footer"),Pn())}var gd=class e{constructor(n,t){this.router=n;this.signalRService=t;this.router.events.subscribe(i=>{i instanceof Dt&&(this.isAuthRoute=["/login","/Register"].includes(i.urlAfterRedirects))})}isAuthRoute=!1;spinnerSerivce=b(Wi);ngOnInit(){this.signalRService.startConnection()}ngOnDestroy(){this.signalRService.stopConnection()}title="P2PDeliveryClientSide";static \u0275fac=function(t){return new(t||e)(D(oe),D(Zn))};static \u0275cmp=L({type:e,selectors:[["app-root"]],decls:7,vars:2,consts:[[4,"ngIf"]],template:function(t,i){t&1&&(C(0,t2,2,0,"ng-container",0),E(1,"app-spinner")(2,"router-outlet")(3,"app-chats-panel")(4,"app-chat-window")(5,"app-notification-panel"),C(6,n2,2,0,"ng-container",0)),t&2&&(m("ngIf",!i.isAuthRoute),p(6),m("ngIf",!i.isAuthRoute))},dependencies:[ia,dd,fd,ve,J,pd,hd,Jo,md],styles:["[_ngcontent-%COMP%]:root{--background: #FEC262;--secondary: #E0F7FA;--accent: #F44336;--text: #212121;--neutral: #FFFFFF;--box: #D7CCC8;--sender: #E64A19;--traveler: #4A6366}"]})};Vh(gd,uC).catch(e=>console.error(e));
