var OD=Object.defineProperty,PD=Object.defineProperties;var kD=Object.getOwnPropertyDescriptors;var ig=Object.getOwnPropertySymbols;var AD=Object.prototype.hasOwnProperty,FD=Object.prototype.propertyIsEnumerable;var rg=(e,n,t)=>n in e?OD(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,I=(e,n)=>{for(var t in n||={})AD.call(n,t)&&rg(e,t,n[t]);if(ig)for(var t of ig(n))FD.call(n,t)&&rg(e,t,n[t]);return e},H=(e,n)=>PD(e,kD(n));var Br=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var X=(e,n,t)=>new Promise((i,r)=>{var o=l=>{try{a(t.next(l))}catch(d){r(d)}},s=l=>{try{a(t.throw(l))}catch(d){r(d)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(e,n)).next())});function Nd(e,n){return Object.is(e,n)}var Ke=null,Ra=!1,Od=1,Kt=Symbol("SIGNAL");function ee(e){let n=Ke;return Ke=e,n}function Pd(){return Ke}var rs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function os(e){if(Ra)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(e);let n=Ke.nextProducerIndex++;if(ka(Ke),n<Ke.producerNode.length&&Ke.producerNode[n]!==e&&is(Ke)){let t=Ke.producerNode[n];Pa(t,Ke.producerIndexOfThis[n])}Ke.producerNode[n]!==e&&(Ke.producerNode[n]=e,Ke.producerIndexOfThis[n]=is(Ke)?sg(e,Ke,n):0),Ke.producerLastReadVersion[n]=e.version}function og(){Od++}function kd(e){if(!(is(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Od)){if(!e.producerMustRecompute(e)&&!Vd(e)){Rd(e);return}e.producerRecomputeValue(e),Rd(e)}}function Ad(e){if(e.liveConsumerNode===void 0)return;let n=Ra;Ra=!0;try{for(let t of e.liveConsumerNode)t.dirty||LD(t)}finally{Ra=n}}function Fd(){return Ke?.consumerAllowSignalWrites!==!1}function LD(e){e.dirty=!0,Ad(e),e.consumerMarkedDirty?.(e)}function Rd(e){e.dirty=!1,e.lastCleanEpoch=Od}function Oa(e){return e&&(e.nextProducerIndex=0),ee(e)}function Ld(e,n){if(ee(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(is(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Pa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Vd(e){ka(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(kd(t),i!==t.version))return!0}return!1}function jd(e){if(ka(e),is(e))for(let n=0;n<e.producerNode.length;n++)Pa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function sg(e,n,t){if(ag(e),e.liveConsumerNode.length===0&&lg(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=sg(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Pa(e,n){if(ag(e),e.liveConsumerNode.length===1&&lg(e))for(let i=0;i<e.producerNode.length;i++)Pa(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];ka(r),r.producerIndexOfThis[i]=n}}function is(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ka(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ag(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function lg(e){return e.producerNode!==void 0}function Bd(e,n){let t=Object.create(VD);t.computation=e,n!==void 0&&(t.equal=n);let i=()=>{if(kd(t),os(t),t.value===Na)throw t.error;return t.value};return i[Kt]=t,i}var xd=Symbol("UNSET"),Td=Symbol("COMPUTING"),Na=Symbol("ERRORED"),VD=H(I({},rs),{value:xd,dirty:!0,error:null,equal:Nd,kind:"computed",producerMustRecompute(e){return e.value===xd||e.value===Td},producerRecomputeValue(e){if(e.value===Td)throw new Error("Detected cycle in computations.");let n=e.value;e.value=Td;let t=Oa(e),i,r=!1;try{i=e.computation(),ee(null),r=n!==xd&&n!==Na&&i!==Na&&e.equal(n,i)}catch(o){i=Na,e.error=o}finally{Ld(e,t)}if(r){e.value=n;return}e.value=i,e.version++}});function jD(){throw new Error}var cg=jD;function ug(e){cg(e)}function Ud(e){cg=e}var BD=null;function Hd(e,n){let t=Object.create(Aa);t.value=e,n!==void 0&&(t.equal=n);let i=()=>(os(t),t.value);return i[Kt]=t,i}function ss(e,n){Fd()||ug(e),e.equal(e.value,n)||(e.value=n,UD(e))}function $d(e,n){Fd()||ug(e),ss(e,n(e.value))}var Aa=H(I({},rs),{equal:Nd,value:void 0,kind:"signal"});function UD(e){e.version++,og(),Ad(e),BD?.()}function qd(e){let n=ee(null);try{return e()}finally{ee(n)}}var zd;function as(){return zd}function Zn(e){let n=zd;return zd=e,n}var Fa=Symbol("NotFound");function B(e){return typeof e=="function"}function Ur(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var La=Ur(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ji(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Fe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(B(i))try{i()}catch(o){n=o instanceof La?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{dg(o)}catch(s){n=n??[],s instanceof La?n=[...n,...s.errors]:n.push(s)}}if(n)throw new La(n)}}add(n){var t;if(n&&n!==this)if(this.closed)dg(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ji(t,n)}remove(n){let{_finalizers:t}=this;t&&Ji(t,n),n instanceof e&&n._removeParent(this)}};Fe.EMPTY=(()=>{let e=new Fe;return e.closed=!0,e})();var Gd=Fe.EMPTY;function Va(e){return e instanceof Fe||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function dg(e){B(e)?e():e.unsubscribe()}var dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hr={setTimeout(e,n,...t){let{delegate:i}=Hr;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Hr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ja(e){Hr.setTimeout(()=>{let{onUnhandledError:n}=dn;if(n)n(e);else throw e})}function Xi(){}var fg=Wd("C",void 0,void 0);function pg(e){return Wd("E",void 0,e)}function hg(e){return Wd("N",e,void 0)}function Wd(e,n,t){return{kind:e,value:n,error:t}}var er=null;function $r(e){if(dn.useDeprecatedSynchronousErrorHandling){let n=!er;if(n&&(er={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=er;if(er=null,t)throw i}}else e()}function mg(e){dn.useDeprecatedSynchronousErrorHandling&&er&&(er.errorThrown=!0,er.error=e)}var tr=class extends Fe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Va(n)&&n.add(this)):this.destination=WD}static create(n,t,i){return new qr(n,t,i)}next(n){this.isStopped?Qd(hg(n),this):this._next(n)}error(n){this.isStopped?Qd(pg(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Qd(fg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zD=Function.prototype.bind;function Yd(e,n){return zD.call(e,n)}var Zd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Ba(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Ba(i)}else Ba(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ba(t)}}},qr=class extends tr{constructor(n,t,i){super();let r;if(B(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&dn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Yd(n.next,o),error:n.error&&Yd(n.error,o),complete:n.complete&&Yd(n.complete,o)}):r=n}this.destination=new Zd(r)}};function Ba(e){dn.useDeprecatedSynchronousErrorHandling?mg(e):ja(e)}function GD(e){throw e}function Qd(e,n){let{onStoppedNotification:t}=dn;t&&Hr.setTimeout(()=>t(e,n))}var WD={closed:!0,next:Xi,error:GD,complete:Xi};var zr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(e){return e}function Kd(...e){return Jd(e)}function Jd(e){return e.length===0?yt:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var Y=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=QD(t)?t:new qr(t,i,r);return $r(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=gg(i),new i((r,o)=>{let s=new qr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[zr](){return this}pipe(...t){return Jd(t)(this)}toPromise(t){return t=gg(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function gg(e){var n;return(n=e??dn.Promise)!==null&&n!==void 0?n:Promise}function YD(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}function QD(e){return e&&e instanceof tr||YD(e)&&Va(e)}function Xd(e){return B(e?.lift)}function se(e){return n=>{if(Xd(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(e,n,t,i,r){return new ef(e,n,t,i,r)}var ef=class extends tr{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Gr(){return se((e,n)=>{let t=null;e._refCount++;let i=Q(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var Wr=class extends Y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Xd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Fe;let t=this.getSubject();n.add(this.source.subscribe(Q(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Fe.EMPTY)}return n}refCount(){return Gr()(this)}};var _g=Ur(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Ua(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new _g}next(t){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Gd:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,Ji(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return e.create=(n,t)=>new Ua(n,t),e})(),Ua=class extends ae{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:Gd}};var le=class extends ae{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var tf={now(){return(tf.delegate||Date).now()},delegate:void 0};var Ha=class extends Fe{constructor(n,t){super()}schedule(n,t=0){return this}};var ls={setInterval(e,n,...t){let{delegate:i}=ls;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=ls;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var $a=class extends Ha{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return ls.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&ls.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ji(i,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var Yr=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}};Yr.now=tf.now;var qa=class extends Yr{constructor(n,t=Yr.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}};var ZD=new qa($a),vg=ZD;var it=new Y(e=>e.complete());function za(e){return e&&B(e.schedule)}function yg(e){return e[e.length-1]}function yi(e){return B(yg(e))?e.pop():void 0}function bi(e){return za(yg(e))?e.pop():void 0}function Dg(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(i.next(p))}catch(m){s(m)}}function l(p){try{d(i.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):r(p.value).then(a,l)}d((i=i.apply(e,n||[])).next())})}function bg(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function nr(e){return this instanceof nr?(this.v=e,this):new nr(e)}function Cg(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(E){return Promise.resolve(E).then(_,m)}}function a(_,E){i[_]&&(r[_]=function(T){return new Promise(function(F,G){o.push([_,T,F,G])>1||l(_,T)})},E&&(r[_]=E(r[_])))}function l(_,E){try{d(i[_](E))}catch(T){v(o[0][3],T)}}function d(_){_.value instanceof nr?Promise.resolve(_.value.v).then(p,m):v(o[0][2],_)}function p(_){l("next",_)}function m(_){l("throw",_)}function v(_,E){_(E),o.shift(),o.length&&l(o[0][0],o[0][1])}}function wg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof bg=="function"?bg(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Qr=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ga(e){return B(e?.then)}function Wa(e){return B(e[zr])}function Ya(e){return Symbol.asyncIterator&&B(e?.[Symbol.asyncIterator])}function Qa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Za=KD();function Ka(e){return B(e?.[Za])}function Ja(e){return Cg(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield nr(t.read());if(r)return yield nr(void 0);yield yield nr(i)}}finally{t.releaseLock()}})}function Xa(e){return B(e?.getReader)}function he(e){if(e instanceof Y)return e;if(e!=null){if(Wa(e))return JD(e);if(Qr(e))return XD(e);if(Ga(e))return eC(e);if(Ya(e))return Eg(e);if(Ka(e))return tC(e);if(Xa(e))return nC(e)}throw Qa(e)}function JD(e){return new Y(n=>{let t=e[zr]();if(B(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XD(e){return new Y(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function eC(e){return new Y(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ja)})}function tC(e){return new Y(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Eg(e){return new Y(n=>{iC(e,n).catch(t=>n.error(t))})}function nC(e){return Eg(Ja(e))}function iC(e,n){var t,i,r,o;return Dg(this,void 0,void 0,function*(){try{for(t=wg(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function Et(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function el(e,n=0){return se((t,i)=>{t.subscribe(Q(i,r=>Et(i,e,()=>i.next(r),n),()=>Et(i,e,()=>i.complete(),n),r=>Et(i,e,()=>i.error(r),n)))})}function tl(e,n=0){return se((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function Sg(e,n){return he(e).pipe(tl(n),el(n))}function Ig(e,n){return he(e).pipe(tl(n),el(n))}function Mg(e,n){return new Y(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function xg(e,n){return new Y(t=>{let i;return Et(t,n,()=>{i=e[Za](),Et(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>B(i?.return)&&i.return()})}function nl(e,n){if(!e)throw new Error("Iterable cannot be null");return new Y(t=>{Et(t,n,()=>{let i=e[Symbol.asyncIterator]();Et(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Tg(e,n){return nl(Ja(e),n)}function Rg(e,n){if(e!=null){if(Wa(e))return Sg(e,n);if(Qr(e))return Mg(e,n);if(Ga(e))return Ig(e,n);if(Ya(e))return nl(e,n);if(Ka(e))return xg(e,n);if(Xa(e))return Tg(e,n)}throw Qa(e)}function ye(e,n){return n?Rg(e,n):he(e)}function L(...e){let n=bi(e);return ye(e,n)}function Pe(e,n){let t=B(e)?e:()=>e,i=r=>r.error(t());return new Y(n?r=>n.schedule(i,0,r):i)}function nf(e){return!!e&&(e instanceof Y||B(e.lift)&&B(e.subscribe))}var Kn=Ur(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ng(e){return e instanceof Date&&!isNaN(e)}function Z(e,n){return se((t,i)=>{let r=0;t.subscribe(Q(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:rC}=Array;function oC(e,n){return rC(n)?e(...n):e(n)}function Zr(e){return Z(n=>oC(e,n))}var{isArray:sC}=Array,{getPrototypeOf:aC,prototype:lC,keys:cC}=Object;function il(e){if(e.length===1){let n=e[0];if(sC(n))return{args:n,keys:null};if(uC(n)){let t=cC(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function uC(e){return e&&typeof e=="object"&&aC(e)===lC}function rl(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Kr(...e){let n=bi(e),t=yi(e),{args:i,keys:r}=il(e);if(i.length===0)return ye([],n);let o=new Y(dC(i,n,r?s=>rl(r,s):yt));return t?o.pipe(Zr(t)):o}function dC(e,n,t=yt){return i=>{Og(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)Og(n,()=>{let d=ye(e[l],n),p=!1;d.subscribe(Q(i,m=>{o[l]=m,p||(p=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Og(e,n,t){e?Et(t,e,n):n()}function Pg(e,n,t,i,r,o,s,a){let l=[],d=0,p=0,m=!1,v=()=>{m&&!l.length&&!d&&n.complete()},_=T=>d<i?E(T):l.push(T),E=T=>{o&&n.next(T),d++;let F=!1;he(t(T,p++)).subscribe(Q(n,G=>{r?.(G),o?_(G):n.next(G)},()=>{F=!0},void 0,()=>{if(F)try{for(d--;l.length&&d<i;){let G=l.shift();s?Et(n,s,()=>E(G)):E(G)}v()}catch(G){n.error(G)}}))};return e.subscribe(Q(n,_,()=>{m=!0,v()})),()=>{a?.()}}function Re(e,n,t=1/0){return B(n)?Re((i,r)=>Z((o,s)=>n(i,o,r,s))(he(e(i,r))),t):(typeof n=="number"&&(t=n),se((i,r)=>Pg(i,r,e,t)))}function Di(e=1/0){return Re(yt,e)}function kg(){return Di(1)}function Ci(...e){return kg()(ye(e,bi(e)))}function ol(e){return new Y(n=>{he(e()).subscribe(n)})}function rf(...e){let n=yi(e),{args:t,keys:i}=il(e),r=new Y(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let m=!1;he(t[p]).subscribe(Q(o,v=>{m||(m=!0,d--),a[p]=v},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(i?rl(i,a):a),o.complete())}))}});return n?r.pipe(Zr(n)):r}var fC=["addListener","removeListener"],pC=["addEventListener","removeEventListener"],hC=["on","off"];function Jt(e,n,t,i){if(B(t)&&(i=t,t=void 0),i)return Jt(e,n,t).pipe(Zr(i));let[r,o]=_C(e)?pC.map(s=>a=>e[s](n,a,t)):mC(e)?fC.map(Ag(e,n)):gC(e)?hC.map(Ag(e,n)):[];if(!r&&Qr(e))return Re(s=>Jt(s,n,t))(he(e));if(!r)throw new TypeError("Invalid event target");return new Y(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Ag(e,n){return t=>i=>e[t](n,i)}function mC(e){return B(e.addListener)&&B(e.removeListener)}function gC(e){return B(e.on)&&B(e.off)}function _C(e){return B(e.addEventListener)&&B(e.removeEventListener)}function of(e=0,n,t=vg){let i=-1;return n!=null&&(za(n)?t=n:i=n),new Y(r=>{let o=Ng(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}var{isArray:vC}=Array;function sl(e){return e.length===1&&vC(e[0])?e[0]:e}function Le(e,n){return se((t,i)=>{let r=0;t.subscribe(Q(i,o=>e.call(n,o,r++)&&i.next(o)))})}function sf(...e){return e=sl(e),e.length===1?he(e[0]):new Y(yC(e))}function yC(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(he(e[i]).subscribe(Q(n,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}n.next(r)})))}}function cs(...e){let n=yi(e),t=sl(e);return t.length?new Y(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)he(t[s]).subscribe(Q(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(d=>d.shift());i.next(n?n(...l):l),r.some((d,p)=>!d.length&&o[p])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):it}function rt(e){return se((n,t)=>{let i=null,r=!1,o;i=n.subscribe(Q(t,void 0,void 0,s=>{o=he(e(s,rt(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Fg(e,n,t,i,r){return(o,s)=>{let a=t,l=n,d=0;o.subscribe(Q(s,p=>{let m=d++;l=a?e(l,p,m):(a=!0,p),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function wn(e,n){return B(n)?Re(e,n,1):Re(e,1)}function wi(e){return se((n,t)=>{let i=!1;n.subscribe(Q(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function St(e){return e<=0?()=>it:se((n,t)=>{let i=0;n.subscribe(Q(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function al(e=bC){return se((n,t)=>{let i=!1;n.subscribe(Q(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function bC(){return new Kn}function af(...e){return n=>Ci(n,L(...e))}function It(e){return se((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Jn(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Le((r,o)=>e(r,o,i)):yt,St(1),t?wi(n):al(()=>new Kn))}function Jr(e){return e<=0?()=>it:se((n,t)=>{let i=[];n.subscribe(Q(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function lf(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Le((r,o)=>e(r,o,i)):yt,Jr(1),t?wi(n):al(()=>new Kn))}function cf(e,n){return se(Fg(e,n,arguments.length>=2,!0))}function ll(...e){let n=bi(e);return se((t,i)=>{(n?Ci(e,t,n):Ci(e,t)).subscribe(i)})}function Ve(e,n){return se((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Q(i,l=>{r?.unsubscribe();let d=0,p=o++;he(e(l,p)).subscribe(r=Q(i,m=>i.next(n?n(l,m,p,d++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ut(e){return se((n,t)=>{he(e).subscribe(Q(t,()=>t.complete(),Xi)),!t.closed&&n.subscribe(t)})}function je(e,n,t){let i=B(e)||n||t?{next:e,error:n,complete:t}:e;return i?se((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Q(o,l=>{var d;(d=i.next)===null||d===void 0||d.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,l),o.error(l)},()=>{var l,d;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):yt}function cl(...e){let n=yi(e);return se((t,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)he(e[l]).subscribe(Q(i,d=>{o[l]=d,!a&&!s[l]&&(s[l]=!0,(a=s.every(yt))&&(s=null))},Xi));t.subscribe(Q(i,l=>{if(a){let d=[l,...o];i.next(n?n(...d):d)}}))})}var x0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",A=class extends Error{code;constructor(n,t){super(T0(n,t)),this.code=n}};function DC(e){return`NG0${Math.abs(e)}`}function T0(e,n){return`${DC(e)}${n?": "+n:""}`}var R0=Symbol("InputSignalNode#UNSET"),CC=H(I({},Aa),{transformFn:void 0,applyValueToInputSignal(e,n){ss(e,n)}});function N0(e,n){let t=Object.create(CC);t.value=e,t.transformFn=n?.transform;function i(){if(os(t),t.value===R0){let r=null;throw new A(-950,r)}return t.value}return i[Kt]=t,i}function Cs(e){return{toString:e}.toString()}var ul="__parameters__";function wC(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function O0(e,n,t){return Cs(()=>{let i=wC(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,p){let m=l.hasOwnProperty(ul)?l[ul]:Object.defineProperty(l,ul,{value:[]})[ul];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),l}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Xn=globalThis;function be(e){for(let n in e)if(e[n]===be)return n;throw Error("Could not find renamed property on target object.")}function EC(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Tt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Tt).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Sf(e,n){return e?n?`${e} ${n}`:e:n||""}var SC=be({__forward_ref__:be});function pt(e){return e.__forward_ref__=pt,e.toString=function(){return Tt(this())},e}function bt(e){return P0(e)?e():e}function P0(e){return typeof e=="function"&&e.hasOwnProperty(SC)&&e.__forward_ref__===pt}function x(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ce(e){return{providers:e.providers||[],imports:e.imports||[]}}function Yl(e){return Lg(e,A0)||Lg(e,F0)}function k0(e){return Yl(e)!==null}function Lg(e,n){return e.hasOwnProperty(n)?e[n]:null}function IC(e){let n=e&&(e[A0]||e[F0]);return n||null}function Vg(e){return e&&(e.hasOwnProperty(jg)||e.hasOwnProperty(MC))?e[jg]:null}var A0=be({\u0275prov:be}),jg=be({\u0275inj:be}),F0=be({ngInjectableDef:be}),MC=be({ngInjectorDef:be}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=x({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function L0(e){return e&&!!e.\u0275providers}var xC=be({\u0275cmp:be}),TC=be({\u0275dir:be}),RC=be({\u0275pipe:be}),NC=be({\u0275mod:be}),Dl=be({\u0275fac:be}),ps=be({__NG_ELEMENT_ID__:be}),Bg=be({__NG_ENV_ID__:be});function sr(e){return typeof e=="string"?e:e==null?"":String(e)}function OC(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():sr(e)}function V0(e,n){throw new A(-200,e)}function Tp(e,n){throw new A(-201,!1)}var ie=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ie||{}),If;function j0(){return If}function Mt(e){let n=If;return If=e,n}function B0(e,n,t){let i=Yl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&ie.Optional)return null;if(n!==void 0)return n;Tp(e,"Injector")}var PC={},rr=PC,Mf="__NG_DI_FLAG__",Cl=class{injector;constructor(n){this.injector=n}retrieve(n,t){let i=t;return this.injector.get(n,i.optional?Fa:rr,i)}},wl="ngTempTokenPath",kC="ngTokenPath",AC=/\n/gm,FC="\u0275",Ug="__source";function LC(e,n=ie.Default){if(as()===void 0)throw new A(-203,!1);if(as()===null)return B0(e,void 0,n);{let t=as(),i;return t instanceof Cl?i=t.injector:i=t,i.get(e,n&ie.Optional?null:void 0,n)}}function P(e,n=ie.Default){return(j0()||LC)(bt(e),n)}function b(e,n=ie.Default){return P(e,Ql(n))}function Ql(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xf(e){let n=[];for(let t=0;t<e.length;t++){let i=bt(e[t]);if(Array.isArray(i)){if(i.length===0)throw new A(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){let a=i[s],l=VC(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(P(r,o))}else n.push(P(i))}return n}function U0(e,n){return e[Mf]=n,e.prototype[Mf]=n,e}function VC(e){return e[Mf]}function jC(e,n,t,i){let r=e[wl];throw n[Ug]&&r.unshift(n[Ug]),e.message=BC(`
`+e.message,r,t,i),e[kC]=r,e[wl]=null,e}function BC(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==FC?e.slice(2):e;let r=Tt(n);if(Array.isArray(n))r=n.map(Tt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(AC,`
  `)}`}var UC=U0(O0("Optional"),8);var HC=U0(O0("SkipSelf"),4);function ar(e,n){let t=e.hasOwnProperty(Dl);return t?e[Dl]:null}function $C(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function qC(e){return e.flat(Number.POSITIVE_INFINITY)}function Rp(e,n){e.forEach(t=>Array.isArray(t)?Rp(t,n):n(t))}function H0(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function El(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function zC(e,n){let t=[];for(let i=0;i<e;i++)t.push(n);return t}function GC(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function Np(e,n,t){let i=ws(e,n);return i>=0?e[i|1]=t:(i=~i,GC(e,i,n,t)),i}function uf(e,n){let t=ws(e,n);if(t>=0)return e[t|1]}function ws(e,n){return WC(e,n,1)}function WC(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var lr={},xt=[],hs=new k(""),$0=new k("",-1),q0=new k(""),Sl=class{get(n,t=rr){if(t===rr){let i=new Error(`NullInjectorError: No provider for ${Tt(n)}!`);throw i.name="NullInjectorError",i}return t}};function z0(e,n){let t=e[NC]||null;if(!t&&n===!0)throw new Error(`Type ${Tt(e)} does not have '\u0275mod' property.`);return t}function Ii(e){return e[xC]||null}function YC(e){return e[TC]||null}function QC(e){return e[RC]||null}function go(e){return{\u0275providers:e}}function ZC(...e){return{\u0275providers:G0(!0,e),\u0275fromNgModule:!0}}function G0(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return Rp(n,s=>{let a=s;Tf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&W0(r,o),t}function W0(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];Op(r,o=>{n(o,i)})}}function Tf(e,n,t,i){if(e=bt(e),!e)return!1;let r=null,o=Vg(e),s=!o&&Ii(e);if(!o&&!s){let l=e.ngModule;if(o=Vg(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Tf(d,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{Rp(o.imports,p=>{Tf(p,n,t,i)&&(d||=[],d.push(p))})}finally{}d!==void 0&&W0(d,n)}if(!a){let d=ar(r)||(()=>new r);n({provide:r,useFactory:d,deps:xt},r),n({provide:q0,useValue:r,multi:!0},r),n({provide:hs,useValue:()=>P(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=e;Op(l,p=>{n(p,d)})}}else return!1;return r!==e&&e.providers!==void 0}function Op(e,n){for(let t of e)L0(t)&&(t=t.\u0275providers),Array.isArray(t)?Op(t,n):n(t)}var KC=be({provide:String,useValue:be});function Y0(e){return e!==null&&typeof e=="object"&&KC in e}function JC(e){return!!(e&&e.useExisting)}function XC(e){return!!(e&&e.useFactory)}function oo(e){return typeof e=="function"}function ew(e){return!!e.useClass}var Zl=new k(""),ml={},Hg={},df;function Kl(){return df===void 0&&(df=new Sl),df}var Xe=class{},ms=class extends Xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Nf(n,s=>this.processProvider(s)),this.records.set($0,Xr(void 0,this)),r.has("environment")&&this.records.set(Xe,Xr(void 0,this));let o=this.records.get(Zl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(q0,xt,ie.Self))}retrieve(n,t){let i=t;return this.get(n,i.optional?Fa:rr,i)}destroy(){ds(this),this._destroyed=!0;let n=ee(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(n)}}onDestroy(n){return ds(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ds(this);let t=Zn(this),i=Mt(void 0),r;try{return n()}finally{Zn(t),Mt(i)}}get(n,t=rr,i=ie.Default){if(ds(this),n.hasOwnProperty(Bg))return n[Bg](this);i=Ql(i);let r,o=Zn(this),s=Mt(void 0);try{if(!(i&ie.SkipSelf)){let l=this.records.get(n);if(l===void 0){let d=ow(n)&&Yl(n);d&&this.injectableDefInScope(d)?l=Xr(Rf(n),ml):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&ie.Self?Kl():this.parent;return t=i&ie.Optional&&t===rr?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[wl]=a[wl]||[]).unshift(Tt(n)),o)throw a;return jC(a,n,"R3InjectorError",this.source)}else throw a}finally{Mt(s),Zn(o)}}resolveInjectorInitializers(){let n=ee(null),t=Zn(this),i=Mt(void 0),r;try{let o=this.get(hs,xt,ie.Self);for(let s of o)s()}finally{Zn(t),Mt(i),ee(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(Tt(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=bt(n);let t=oo(n)?n:bt(n&&n.provide),i=nw(n);if(!oo(n)&&n.multi===!0){let r=this.records.get(t);r||(r=Xr(void 0,ml,!0),r.factory=()=>xf(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=ee(null);try{return t.value===Hg?V0(Tt(n)):t.value===ml&&(t.value=Hg,t.value=t.factory()),typeof t.value=="object"&&t.value&&rw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ee(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=bt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Rf(e){let n=Yl(e),t=n!==null?n.factory:ar(e);if(t!==null)return t;if(e instanceof k)throw new A(204,!1);if(e instanceof Function)return tw(e);throw new A(204,!1)}function tw(e){if(e.length>0)throw new A(204,!1);let t=IC(e);return t!==null?()=>t.factory(e):()=>new e}function nw(e){if(Y0(e))return Xr(void 0,e.useValue);{let n=Q0(e);return Xr(n,ml)}}function Q0(e,n,t){let i;if(oo(e)){let r=bt(e);return ar(r)||Rf(r)}else if(Y0(e))i=()=>bt(e.useValue);else if(XC(e))i=()=>e.useFactory(...xf(e.deps||[]));else if(JC(e))i=()=>P(bt(e.useExisting));else{let r=bt(e&&(e.useClass||e.provide));if(iw(e))i=()=>new r(...xf(e.deps));else return ar(r)||Rf(r)}return i}function ds(e){if(e.destroyed)throw new A(205,!1)}function Xr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function iw(e){return!!e.deps}function rw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function ow(e){return typeof e=="function"||typeof e=="object"&&e instanceof k}function Nf(e,n){for(let t of e)Array.isArray(t)?Nf(t,n):t&&L0(t)?Nf(t.\u0275providers,n):n(t)}function Rt(e,n){let t;e instanceof ms?(ds(e),t=e):t=new Cl(e);let i,r=Zn(t),o=Mt(void 0);try{return n()}finally{Zn(r),Mt(o)}}function Z0(){return j0()!==void 0||as()!=null}function sw(e){if(!Z0())throw new A(-203,!1)}function aw(e){return typeof e=="function"}var oi=0,K=1,W=2,ft=3,hn=4,Nt=5,so=6,Il=7,Je=8,cr=9,ei=10,Be=11,gs=12,$g=13,_o=14,jt=15,ur=16,eo=17,ti=18,Jl=19,K0=20,Ei=21,ff=22,Ml=23,Xt=24,io=25,ze=26,J0=1;var dr=7,xl=8,ao=9,dt=10;function Si(e){return Array.isArray(e)&&typeof e[J0]=="object"}function si(e){return Array.isArray(e)&&e[J0]===!0}function Pp(e){return(e.flags&4)!==0}function vo(e){return e.componentOffset>-1}function Xl(e){return(e.flags&1)===1}function Sn(e){return!!e.template}function Tl(e){return(e[W]&512)!==0}function yo(e){return(e[W]&256)===256}var Of=class{previousValue;currentValue;firstChange;constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function X0(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}var Dt=(()=>{let e=()=>e_;return e.ngInherit=!0,e})();function e_(e){return e.type.prototype.ngOnChanges&&(e.setInput=cw),lw}function lw(){let e=n_(this),n=e?.current;if(n){let t=e.previous;if(t===lr)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function cw(e,n,t,i,r){let o=this.declaredInputs[i],s=n_(e)||uw(e,{previous:lr,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Of(d&&d.currentValue,t,l===lr),X0(e,n,r,t)}var t_="__ngSimpleChanges__";function n_(e){return e[t_]||null}function uw(e,n){return e[t_]=n}var qg=null;var ge=function(e,n=null,t){qg?.(e,n,t)},dw="svg",fw="math";function In(e){for(;Array.isArray(e);)e=e[oi];return e}function i_(e,n){return In(n[e])}function Rn(e,n){return In(n[e.index])}function kp(e,n){return e.data[n]}function ec(e,n){return e[n]}function Mn(e,n){let t=n[e];return Si(t)?t:t[oi]}function pw(e){return(e[W]&4)===4}function Ap(e){return(e[W]&128)===128}function hw(e){return si(e[ft])}function Mi(e,n){return n==null?null:e[n]}function r_(e){e[eo]=0}function o_(e){e[W]&1024||(e[W]|=1024,Ap(e)&&Es(e))}function mw(e,n){for(;e>0;)n=n[_o],e--;return n}function tc(e){return!!(e[W]&9216||e[Xt]?.dirty)}function Pf(e){e[ei].changeDetectionScheduler?.notify(8),e[W]&64&&(e[W]|=1024),tc(e)&&Es(e)}function Es(e){e[ei].changeDetectionScheduler?.notify(0);let n=fr(e);for(;n!==null&&!(n[W]&8192||(n[W]|=8192,!Ap(n)));)n=fr(n)}function s_(e,n){if(yo(e))throw new A(911,!1);e[Ei]===null&&(e[Ei]=[]),e[Ei].push(n)}function gw(e,n){if(e[Ei]===null)return;let t=e[Ei].indexOf(n);t!==-1&&e[Ei].splice(t,1)}function fr(e){let n=e[ft];return si(n)?n[ft]:n}function Fp(e){return e[Il]??=[]}function Lp(e){return e.cleanup??=[]}function _w(e,n,t,i){let r=Fp(n);r.push(t),e.firstCreatePass&&Lp(e).push(i,r.length-1)}var te={lFrame:p_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var kf=!1;function vw(){return te.lFrame.elementDepthCount}function yw(){te.lFrame.elementDepthCount++}function bw(){te.lFrame.elementDepthCount--}function Vp(){return te.bindingsEnabled}function a_(){return te.skipHydrationRootTNode!==null}function Dw(e){return te.skipHydrationRootTNode===e}function Cw(){te.skipHydrationRootTNode=null}function q(){return te.lFrame.lView}function Ue(){return te.lFrame.tView}function R(e){return te.lFrame.contextLView=e,e[Je]}function N(e){return te.lFrame.contextLView=null,e}function ht(){let e=l_();for(;e!==null&&e.type===64;)e=e.parent;return e}function l_(){return te.lFrame.currentTNode}function ww(){let e=te.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function _r(e,n){let t=te.lFrame;t.currentTNode=e,t.isParent=n}function jp(){return te.lFrame.isParent}function Bp(){te.lFrame.isParent=!1}function Ew(){return te.lFrame.contextLView}function c_(){return kf}function zg(e){let n=kf;return kf=e,n}function xi(){let e=te.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Sw(){return te.lFrame.bindingIndex}function Iw(e){return te.lFrame.bindingIndex=e}function bo(){return te.lFrame.bindingIndex++}function Up(e){let n=te.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Mw(){return te.lFrame.inI18n}function xw(e,n){let t=te.lFrame;t.bindingIndex=t.bindingRootIndex=e,Af(n)}function Tw(){return te.lFrame.currentDirectiveIndex}function Af(e){te.lFrame.currentDirectiveIndex=e}function Rw(e){let n=te.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function u_(){return te.lFrame.currentQueryIndex}function Hp(e){te.lFrame.currentQueryIndex=e}function Nw(e){let n=e[K];return n.type===2?n.declTNode:n.type===1?e[Nt]:null}function d_(e,n,t){if(t&ie.SkipSelf){let r=n,o=e;for(;r=r.parent,r===null&&!(t&ie.Host);)if(r=Nw(o),r===null||(o=o[_o],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=te.lFrame=f_();return i.currentTNode=n,i.lView=e,!0}function $p(e){let n=f_(),t=e[K];te.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function f_(){let e=te.lFrame,n=e===null?null:e.child;return n===null?p_(e):n}function p_(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function h_(){let e=te.lFrame;return te.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var m_=h_;function qp(){let e=h_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ow(e){return(te.lFrame.contextLView=mw(e,te.lFrame.contextLView))[Je]}function ai(){return te.lFrame.selectedIndex}function pr(e){te.lFrame.selectedIndex=e}function zp(){let e=te.lFrame;return kp(e.tView,e.selectedIndex)}function Pw(){return te.lFrame.currentNamespace}var g_=!0;function nc(){return g_}function ic(e){g_=e}function kw(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=e_(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Gp(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),p!=null&&(e.destroyHooks??=[]).push(t,p)}}function gl(e,n,t){__(e,n,3,t)}function _l(e,n,t,i){(e[W]&3)===t&&__(e,n,t,i)}function pf(e,n){let t=e[W];(t&3)===n&&(t&=16383,t+=1,e[W]=t)}function __(e,n,t,i){let r=i!==void 0?e[eo]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(e[eo]+=65536),(a<o||o==-1)&&(Aw(e,t,n,l),e[eo]=(e[eo]&4294901760)+l+2),l++}function Gg(e,n){ge(4,e,n);let t=ee(null);try{n.call(e)}finally{ee(t),ge(5,e,n)}}function Aw(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[W]>>14<e[eo]>>16&&(e[W]&3)===n&&(e[W]+=16384,Gg(a,o)):Gg(a,o)}var ro=-1,hr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,i){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=i}};function Fw(e){return(e.flags&8)!==0}function Lw(e){return(e.flags&16)!==0}function Vw(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];jw(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function v_(e){return e===3||e===4||e===6}function jw(e){return e.charCodeAt(0)===64}function lo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Wg(e,t,r,null,n[++i]):Wg(e,t,r,null,null))}}return e}function Wg(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r)}function y_(e){return e!==ro}function Rl(e){return e&32767}function Bw(e){return e>>16}function Nl(e,n){let t=Bw(e),i=n;for(;t>0;)i=i[_o],t--;return i}var Ff=!0;function Ol(e){let n=Ff;return Ff=e,n}var Uw=256,b_=Uw-1,D_=5,Hw=0,En={};function $w(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(ps)&&(i=t[ps]),i==null&&(i=t[ps]=Hw++);let r=i&b_,o=1<<r;n.data[e+(r>>D_)]|=o}function Pl(e,n){let t=C_(e,n);if(t!==-1)return t;let i=n[K];i.firstCreatePass&&(e.injectorIndex=n.length,hf(i.data,e),hf(n,null),hf(i.blueprint,null));let r=Wp(e,n),o=e.injectorIndex;if(y_(r)){let s=Rl(r),a=Nl(r,n),l=a[K].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|l[s+d]}return n[o+8]=r,o}function hf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function C_(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Wp(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=M_(r),i===null)return ro;if(t++,r=r[_o],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ro}function Lf(e,n,t){$w(e,n,t)}function qw(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(v_(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===n)return t[r+1];r=r+2}}}return null}function w_(e,n,t){if(t&ie.Optional||e!==void 0)return e;Tp(n,"NodeInjector")}function E_(e,n,t,i){if(t&ie.Optional&&i===void 0&&(i=null),(t&(ie.Self|ie.Host))===0){let r=e[cr],o=Mt(void 0);try{return r?r.get(n,i,t&ie.Optional):B0(n,i,t&ie.Optional)}finally{Mt(o)}}return w_(i,n,t)}function S_(e,n,t,i=ie.Default,r){if(e!==null){if(n[W]&2048&&!(i&ie.Self)){let s=Yw(e,n,t,i,En);if(s!==En)return s}let o=I_(e,n,t,i,En);if(o!==En)return o}return E_(n,t,i,r)}function I_(e,n,t,i,r){let o=Gw(t);if(typeof o=="function"){if(!d_(n,e,i))return i&ie.Host?w_(r,t,i):E_(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&ie.Optional))Tp(t);else return s}finally{m_()}}else if(typeof o=="number"){let s=null,a=C_(e,n),l=ro,d=i&ie.Host?n[jt][Nt]:null;for((a===-1||i&ie.SkipSelf)&&(l=a===-1?Wp(e,n):n[a+8],l===ro||!Qg(i,!1)?a=-1:(s=n[K],a=Rl(l),n=Nl(l,n)));a!==-1;){let p=n[K];if(Yg(o,a,p.data)){let m=zw(a,n,t,s,i,d);if(m!==En)return m}l=n[a+8],l!==ro&&Qg(i,n[K].data[a+8]===d)&&Yg(o,a,n)?(s=p,a=Rl(l),n=Nl(l,n)):a=-1}}return r}function zw(e,n,t,i,r,o){let s=n[K],a=s.data[e+8],l=i==null?vo(a)&&Ff:i!=s&&(a.type&3)!==0,d=r&ie.Host&&o===a,p=vl(a,s,t,l,d);return p!==null?_s(n,s,p,a):En}function vl(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,d=e.directiveEnd,p=o>>20,m=i?a:a+p,v=r?a+p:d;for(let _=m;_<v;_++){let E=s[_];if(_<l&&t===E||_>=l&&E.type===t)return _}if(r){let _=s[l];if(_&&Sn(_)&&_.type===t)return l}return null}function _s(e,n,t,i){let r=e[t],o=n.data;if(r instanceof hr){let s=r;s.resolving&&V0(OC(o[t]));let a=Ol(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?Mt(s.injectImpl):null,p=d_(e,i,ie.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&kw(t,o[t],n)}finally{d!==null&&Mt(d),Ol(a),s.resolving=!1,m_()}}return r}function Gw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(ps)?e[ps]:void 0;return typeof n=="number"?n>=0?n&b_:Ww:n}function Yg(e,n,t){let i=1<<e;return!!(t[n+(e>>D_)]&i)}function Qg(e,n){return!(e&ie.Self)&&!(e&ie.Host&&n)}var or=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return S_(this._tNode,this._lView,n,Ql(i),t)}};function Ww(){return new or(ht(),q())}function tn(e){return Cs(()=>{let n=e.prototype.constructor,t=n[Dl]||Vf(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Dl]||Vf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Vf(e){return P0(e)?()=>{let n=Vf(bt(e));return n&&n()}:ar(e)}function Yw(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[W]&2048&&!Tl(s);){let a=I_(o,s,t,i|ie.Self,En);if(a!==En)return a;let l=o.parent;if(!l){let d=s[K0];if(d){let p=d.get(t,En,i);if(p!==En)return p}l=M_(s),s=s[_o]}o=l}return r}function M_(e){let n=e[K],t=n.type;return t===2?n.declTNode:t===1?e[Nt]:null}function rc(e){return qw(ht(),e)}function Zg(e,n=null,t=null,i){let r=x_(e,n,t,i);return r.resolveInjectorInitializers(),r}function x_(e,n=null,t=null,i,r=new Set){let o=[t||xt,ZC(e)];return i=i||(typeof e=="object"?void 0:Tt(e)),new ms(o,n||Kl(),i||null,r)}var ot=class e{static THROW_IF_NOT_FOUND=rr;static NULL=new Sl;static create(n,t){if(Array.isArray(n))return Zg({name:""},t,n,"");{let i=n.name??"";return Zg({name:i},n.parent,n.providers,i)}}static \u0275prov=x({token:e,providedIn:"any",factory:()=>P($0)});static __NG_ELEMENT_ID__=-1};var Qw=new k("");Qw.__NG_ELEMENT_ID__=e=>{let n=ht();if(n===null)throw new A(204,!1);if(n.type&2)return n.value;if(e&ie.Optional)return null;throw new A(204,!1)};var T_=!1,Do=(()=>{class e{static __NG_ELEMENT_ID__=Zw;static __NG_ENV_ID__=t=>t}return e})(),jf=class extends Do{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return yo(t)?(n(),()=>{}):(s_(t,n),()=>gw(t,n))}};function Zw(){return new jf(q())}var co=class{},Yp=new k("",{providedIn:"root",factory:()=>!1});var R_=new k(""),N_=new k(""),li=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new le(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})();var Bf=class extends ae{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Z0()&&(this.destroyRef=b(Do,{optional:!0})??void 0,this.pendingTasks=b(li,{optional:!0})??void 0)}emit(n){let t=ee(null);try{super.next(n)}finally{ee(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof Fe&&n.add(a),a}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},me=Bf;function kl(...e){}function O_(e){let n,t;function i(){e=kl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Kg(e){return queueMicrotask(()=>e()),()=>{e=kl}}var Qp="isAngularZone",Al=Qp+"_ID",Kw=0,Ce=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new me(!1);onMicrotaskEmpty=new me(!1);onStable=new me(!1);onError=new me(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=T_}=n;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,eE(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new A(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,Jw,kl,kl);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},Jw={};function Zp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Xw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){O_(()=>{e.callbackScheduled=!1,Uf(e),e.isCheckStableRunning=!0,Zp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Uf(e)}function eE(e){let n=()=>{Xw(e)},t=Kw++;e._inner=e._inner.fork({name:"angular",properties:{[Qp]:!0,[Al]:t,[Al+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(tE(l))return i.invokeTask(o,s,a,l);try{return Jg(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Xg(e)}},onInvoke:(i,r,o,s,a,l,d)=>{try{return Jg(e),i.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!nE(l)&&n(),Xg(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Uf(e),Zp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Uf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Jg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Xg(e){e._nesting--,Zp(e)}var Hf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new me;onMicrotaskEmpty=new me;onStable=new me;onError=new me;run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function tE(e){return P_(e,"__ignore_ng_zone__")}function nE(e){return P_(e,"__scheduler_tick__")}function P_(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var xn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},iE=new k("",{providedIn:"root",factory:()=>{let e=b(Ce),n=b(xn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function e0(e,n){return N0(e,n)}function rE(e){return N0(R0,e)}var k_=(e0.required=rE,e0);function oE(){return Co(ht(),q())}function Co(e,n){return new Ge(Rn(e,n))}var Ge=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=oE}return e})();function sE(e){return e instanceof Ge?e.nativeElement:e}function aE(e){return typeof e=="function"&&e[Kt]!==void 0}function wo(e,n){let t=Hd(e,n?.equal),i=t[Kt];return t.set=r=>ss(i,r),t.update=r=>$d(i,r),t.asReadonly=lE.bind(t),t}function lE(){let e=this[Kt];if(e.readonlyFn===void 0){let n=()=>this();n[Kt]=e,e.readonlyFn=n}return e.readonlyFn}function A_(e){return aE(e)&&typeof e.set=="function"}function cE(){return this._results[Symbol.iterator]()}var $f=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ae}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=qC(n);(this._changesDetected=!$C(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=cE};function F_(e){return(e.flags&128)===128}var L_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(L_||{}),V_=new Map,uE=0;function dE(){return uE++}function fE(e){V_.set(e[Jl],e)}function qf(e){V_.delete(e[Jl])}var t0="__ngContext__";function Eo(e,n){Si(n)?(e[t0]=n[Jl],fE(n)):e[t0]=n}function j_(e){return U_(e[gs])}function B_(e){return U_(e[hn])}function U_(e){for(;e!==null&&!si(e);)e=e[hn];return e}var zf;function H_(e){zf=e}function $_(){if(zf!==void 0)return zf;if(typeof document<"u")return document;throw new A(210,!1)}var oc=new k("",{providedIn:"root",factory:()=>pE}),pE="ng",Kp=new k(""),ci=new k("",{providedIn:"platform",factory:()=>"unknown"});var Jp=new k("",{providedIn:"root",factory:()=>$_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hE="h",mE="b";var q_=!1,gE=new k("",{providedIn:"root",factory:()=>q_});var Xp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Xp||{}),So=new k(""),n0=new Set;function Ti(e){n0.has(e)||(n0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var z_=(()=>{class e{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=_E}return e})();function _E(){return new z_(q(),ht())}var to=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(to||{}),G_=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),vE=[to.EarlyRead,to.Write,to.MixedReadWrite,to.Read],yE=(()=>{class e{ngZone=b(Ce);scheduler=b(co);errorHandler=b(xn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(So,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ge(16),this.executing=!0;for(let i of vE)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ge(17)}register(t){let{view:i}=t;i!==void 0?((i[io]??=[]).push(t),Es(i),i[W]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Xp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),Gf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,i,r,o,s=null){this.impl=n,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[io];n&&(this.view[io]=n.filter(t=>t!==this))}};function Io(e,n){!n?.injector&&sw(Io);let t=n?.injector??b(ot);return Ti("NgAfterNextRender"),DE(e,t,n,!0)}function bE(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function DE(e,n,t,i){let r=n.get(G_);r.impl??=n.get(yE);let o=n.get(So,null,{optional:!0}),s=t?.phase??to.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(Do):null,l=n.get(z_,null,{optional:!0}),d=new Gf(r.impl,bE(e,s),l?.view,i,a,o?.snapshot(null));return r.impl.register(d),d}var CE=()=>null;function W_(e,n,t=!1){return CE(e,n,t)}function Y_(e,n){let t=e.contentQueries;if(t!==null){let i=ee(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];Hp(o),a.contentQueries(2,n[s],s)}}}finally{ee(i)}}}function Wf(e,n,t){Hp(0);let i=ee(null);try{n(e,t)}finally{ee(i)}}function eh(e,n,t){if(Pp(n)){let i=ee(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ee(i)}}}var Tn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Tn||{}),dl;function wE(){if(dl===void 0&&(dl=null,Xn.trustedTypes))try{dl=Xn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dl}function sc(e){return wE()?.createHTML(e)||e}var fl;function Q_(){if(fl===void 0&&(fl=null,Xn.trustedTypes))try{fl=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return fl}function i0(e){return Q_()?.createHTML(e)||e}function r0(e){return Q_()?.createScriptURL(e)||e}var Fl=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${x0})`}};function Mo(e){return e instanceof Fl?e.changingThisBreaksApplicationSecurity:e}function th(e,n){let t=EE(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${x0})`)}return t===n}function EE(e){return e instanceof Fl&&e.getTypeName()||null}function SE(e){let n=new Qf(e);return IE()?new Yf(n):n}var Yf=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(sc(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},Qf=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=sc(n),t}};function IE(){try{return!!new window.DOMParser().parseFromString(sc(""),"text/html")}catch{return!1}}var ME=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Z_(e){return e=String(e),e.match(ME)?e:"unsafe:"+e}function ui(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function Ss(...e){let n={};for(let t of e)for(let i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}var K_=ui("area,br,col,hr,img,wbr"),J_=ui("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),X_=ui("rp,rt"),xE=Ss(X_,J_),TE=Ss(J_,ui("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),RE=Ss(X_,ui("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),o0=Ss(K_,TE,RE,xE),ev=ui("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),NE=ui("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),OE=ui("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),PE=Ss(ev,NE,OE),kE=ui("script,style,template"),Zf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=LE(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=FE(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(n){let t=s0(n).toLowerCase();if(!o0.hasOwnProperty(t))return this.sanitizedSomething=!0,!kE.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!PE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;ev[a]&&(l=Z_(l)),this.buf.push(" ",s,'="',a0(l),'"')}return this.buf.push(">"),!0}endElement(n){let t=s0(n).toLowerCase();o0.hasOwnProperty(t)&&!K_.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(a0(n))}};function AE(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function FE(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw tv(n);return n}function LE(e){let n=e.firstChild;if(n&&AE(e,n))throw tv(n);return n}function s0(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function tv(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var VE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jE=/([^\#-~ |!])/g;function a0(e){return e.replace(/&/g,"&amp;").replace(VE,function(n){let t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(jE,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var pl;function BE(e,n){let t=null;try{pl=pl||SE(e);let i=n?String(n):"";t=pl.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=pl.getInertBodyElement(i)}while(i!==o);let a=new Zf().sanitizeChildren(l0(t)||t);return sc(a)}finally{if(t){let i=l0(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function l0(e){return"content"in e&&UE(e)?e.content:null}function UE(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var ac=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ac||{});function nv(e){let n=nh();return n?i0(n.sanitize(ac.HTML,e)||""):th(e,"HTML")?i0(Mo(e)):BE($_(),sr(e))}function nn(e){let n=nh();return n?n.sanitize(ac.URL,e)||"":th(e,"URL")?Mo(e):Z_(sr(e))}function HE(e){let n=nh();if(n)return r0(n.sanitize(ac.RESOURCE_URL,e)||"");if(th(e,"ResourceURL"))return r0(Mo(e));throw new A(904,!1)}function $E(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?HE:nn}function iv(e,n,t){return $E(n,t)(e)}function nh(){let e=q();return e&&e[ei].sanitizer}var qE=/^>|^->|<!--|-->|--!>|<!-$/g,zE=/(<|>)/g,GE="\u200B$1\u200B";function WE(e){return e.replace(qE,n=>n.replace(zE,GE))}function rv(e){return e.ownerDocument}function ov(e){return e instanceof Function?e():e}function YE(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}var sv="ng-template";function QE(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&YE(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(ih(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ih(e){return e.type===4&&e.value!==sv}function ZE(e,n,t){let i=e.type===4&&!t?sv:e.value;return n===i}function KE(e,n,t){let i=4,r=e.attrs,o=r!==null?eS(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!fn(i)&&!fn(l))return!1;if(s&&fn(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!ZE(e,l,t)||l===""&&n.length===1){if(fn(i))return!1;s=!0}}else if(i&8){if(r===null||!QE(e,r,l,t)){if(fn(i))return!1;s=!0}}else{let d=n[++a],p=JE(l,r,ih(e),t);if(p===-1){if(fn(i))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=r[p+1].toLowerCase(),i&2&&d!==m){if(fn(i))return!1;s=!0}}}}return fn(i)||s}function fn(e){return(e&1)===0}function JE(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return tS(n,e)}function av(e,n,t=!1){for(let i=0;i<n.length;i++)if(KE(e,n[i],t))return!0;return!1}function XE(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function eS(e){for(let n=0;n<e.length;n++){let t=e[n];if(v_(t))return n}return e.length}function tS(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function nS(e,n){e:for(let t=0;t<n.length;t++){let i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function c0(e,n){return e?":not("+n.trim()+")":n}function iS(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!fn(s)&&(n+=c0(o,r),r=""),i=s,o=o||!fn(i);t++}return r!==""&&(n+=c0(o,r)),n}function rS(e){return e.map(iS).join(",")}function oS(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!fn(r))break;r=o}i++}return t.length&&n.push(1,...t),n}var Bt={};function sS(e,n){return e.createText(n)}function aS(e,n,t){e.setValue(n,t)}function lS(e,n){return e.createComment(WE(n))}function lv(e,n,t){return e.createElement(n,t)}function Ll(e,n,t,i,r){e.insertBefore(n,t,i,r)}function cv(e,n,t){e.appendChild(n,t)}function u0(e,n,t,i,r){i!==null?Ll(e,n,t,i,r):cv(e,n,t)}function cS(e,n,t){e.removeChild(null,n,t)}function uS(e,n,t){e.setAttribute(n,"style",t)}function dS(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function uv(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Vw(e,n,i),r!==null&&dS(e,n,r),o!==null&&uS(e,n,o)}function rh(e,n,t,i,r,o,s,a,l,d,p){let m=ze+i,v=m+r,_=fS(m,v),E=typeof d=="function"?d():d;return _[K]={type:e,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:n,data:_.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1,ssrId:p}}function fS(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:Bt);return t}function pS(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=rh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function oh(e,n,t,i,r,o,s,a,l,d,p){let m=n.blueprint.slice();return m[oi]=r,m[W]=i|4|128|8|64|1024,(d!==null||e&&e[W]&2048)&&(m[W]|=2048),r_(m),m[ft]=m[_o]=e,m[Je]=t,m[ei]=s||e&&e[ei],m[Be]=a||e&&e[Be],m[cr]=l||e&&e[cr]||null,m[Nt]=o,m[Jl]=dE(),m[so]=p,m[K0]=d,m[jt]=n.type==2?e[jt]:m,m}function hS(e,n,t){let i=Rn(n,e),r=pS(t),o=e[ei].rendererFactory,s=sh(e,oh(e,r,null,dv(t),i,n,null,o.createRenderer(i,t),null,null,null));return e[n.index]=s}function dv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function fv(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function sh(e,n){return e[gs]?e[$g][hn]=n:e[gs]=n,e[$g]=n,n}function h(e=1){pv(Ue(),q(),ai()+e,!1)}function pv(e,n,t,i){if(!i)if((n[W]&3)===3){let o=e.preOrderCheckHooks;o!==null&&gl(n,o,t)}else{let o=e.preOrderHooks;o!==null&&_l(n,o,0,t)}pr(t)}var lc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(lc||{});function Kf(e,n,t,i){let r=ee(null);try{let[o,s,a]=e.inputs[t],l=null;(s&lc.SignalBased)!==0&&(l=n[o][Kt]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(n,i)),e.setInput!==null?e.setInput(n,l,i,t,o):X0(n,l,o,i)}finally{ee(r)}}function hv(e,n,t,i,r){let o=ai(),s=i&2;try{pr(-1),s&&n.length>ze&&pv(e,n,ze,!1),ge(s?2:0,r),t(i,r)}finally{pr(o),ge(s?3:1,r)}}function cc(e,n,t){bS(e,n,t),(t.flags&64)===64&&DS(e,n,t)}function ah(e,n,t=Rn){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function mS(e,n,t,i){let o=i.get(gE,q_)||t===Tn.ShadowDom,s=e.selectRootElement(n,o);return gS(s),s}function gS(e){_S(e)}var _S=()=>null;function vS(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function mv(e,n,t,i,r,o,s,a){if(!a&&ch(n,e,t,i,r)){vo(n)&&yS(t,n.index);return}if(n.type&3){let l=Rn(n,t);i=vS(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)}else n.type&12}function yS(e,n){let t=Mn(n,e);t[W]&16||(t[W]|=64)}function bS(e,n,t){let i=t.directiveStart,r=t.directiveEnd;vo(t)&&hS(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Pl(t,n);let o=t.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=_s(n,e,s,t);if(Eo(l,n),o!==null&&SS(n,s-i,l,a,t,o),Sn(a)){let d=Mn(t.index,n);d[Je]=_s(n,e,s,t)}}}function DS(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=Tw();try{pr(o);for(let a=i;a<r;a++){let l=e.data[a],d=n[a];Af(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&CS(l,d)}}finally{pr(-1),Af(s)}}function CS(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function lh(e,n){let t=e.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];av(n,o.selectors,!1)&&(i??=[],Sn(o)?i.unshift(o):i.push(o))}return i}function wS(e,n,t,i,r,o){let s=Rn(e,n);ES(n[Be],s,o,e.value,t,i,r)}function ES(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?sr(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function SS(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];Kf(i,t,l,d)}}function IS(e,n){let t=e[cr],i=t?t.get(xn,null):null;i&&i.handleError(n)}function ch(e,n,t,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],p=s[l+1],m=n.data[d];Kf(m,t[d],p,r),a=!0}if(o)for(let l of o){let d=t[l],p=n.data[l];Kf(p,d,i,r),a=!0}return a}function MS(e,n){let t=Mn(n,e),i=t[K];xS(i,t);let r=t[oi];r!==null&&t[so]===null&&(t[so]=W_(r,t[cr])),ge(18),uh(i,t,t[Je]),ge(19,t[Je])}function xS(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function uh(e,n,t){$p(n);try{let i=e.viewQuery;i!==null&&Wf(1,i,t);let r=e.template;r!==null&&hv(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ti]?.finishViewCreation(e),e.staticContentQueries&&Y_(e,n),e.staticViewQueries&&Wf(2,e.viewQuery,t);let o=e.components;o!==null&&TS(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[W]&=-5,qp()}}function TS(e,n){for(let t=0;t<n.length;t++)MS(e,n[t])}function Is(e,n,t,i){let r=ee(null);try{let o=n.tView,a=e[W]&4096?4096:16,l=oh(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=e[n.index];l[ur]=d;let p=e[ti];return p!==null&&(l[ti]=p.createEmbeddedView(o)),uh(o,l,t),l}finally{ee(r)}}function uo(e,n){return!n||n.firstChild===null||F_(e)}var RS;function dh(e,n){return RS(e,n)}var ni=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ni||{});function fh(e){return(e.flags&32)===32}function no(e,n,t,i,r){if(i!=null){let o,s=!1;si(i)?o=i:Si(i)&&(s=!0,i=i[oi]);let a=In(i);e===0&&t!==null?r==null?cv(n,t,a):Ll(n,t,a,r||null,!0):e===1&&t!==null?Ll(n,t,a,r||null,!0):e===2?cS(n,a,s):e===3&&n.destroyNode(a),o!=null&&BS(n,e,o,t,r)}}function NS(e,n){gv(e,n),n[oi]=null,n[Nt]=null}function OS(e,n,t,i,r,o){i[oi]=r,i[Nt]=n,fc(e,i,t,1,r,o)}function gv(e,n){n[ei].changeDetectionScheduler?.notify(9),fc(e,n,n[Be],2,null,null)}function PS(e){let n=e[gs];if(!n)return mf(e[K],e);for(;n;){let t=null;if(Si(n))t=n[gs];else{let i=n[dt];i&&(t=i)}if(!t){for(;n&&!n[hn]&&n!==e;)Si(n)&&mf(n[K],n),n=n[ft];n===null&&(n=e),Si(n)&&mf(n[K],n),t=n&&n[hn]}n=t}}function ph(e,n){let t=e[ao],i=t.indexOf(n);t.splice(i,1)}function uc(e,n){if(yo(n))return;let t=n[Be];t.destroyNode&&fc(e,n,t,3,null,null),PS(n)}function mf(e,n){if(yo(n))return;let t=ee(null);try{n[W]&=-129,n[W]|=256,n[Xt]&&jd(n[Xt]),AS(e,n),kS(e,n),n[K].type===1&&n[Be].destroy();let i=n[ur];if(i!==null&&si(n[ft])){i!==n[ft]&&ph(i,n);let r=n[ti];r!==null&&r.detachView(e)}qf(n)}finally{ee(t)}}function kS(e,n){let t=e.cleanup,i=n[Il];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(n[Il]=null);let r=n[Ei];if(r!==null){n[Ei]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=n[Ml];if(o!==null){n[Ml]=null;for(let s of o)s.destroy()}}function AS(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof hr)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];ge(4,a,l);try{l.call(a)}finally{ge(5,a,l)}}else{ge(4,r,o);try{o.call(r)}finally{ge(5,r,o)}}}}}function _v(e,n,t){return FS(e,n.parent,t)}function FS(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[oi];if(vo(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===Tn.None||r===Tn.Emulated)return null}return Rn(i,t)}function vv(e,n,t){return VS(e,n,t)}function LS(e,n,t){return e.type&40?Rn(e,t):null}var VS=LS,d0;function dc(e,n,t,i){let r=_v(e,i,n),o=n[Be],s=i.parent||n[Nt],a=vv(s,i,n);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)u0(o,r,t[l],a,!1);else u0(o,r,t,a,!1);d0!==void 0&&d0(o,i,n,t,r)}function fs(e,n){if(n!==null){let t=n.type;if(t&3)return Rn(n,e);if(t&4)return Jf(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return fs(e,i);{let r=e[n.index];return si(r)?Jf(-1,r):In(r)}}else{if(t&128)return fs(e,n.next);if(t&32)return dh(n,e)()||In(e[n.index]);{let i=yv(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=fr(e[jt]);return fs(r,i)}else return fs(e,n.next)}}}return null}function yv(e,n){if(n!==null){let i=e[jt][Nt],r=n.projection;return i.projection[r]}return null}function Jf(e,n){let t=dt+e+1;if(t<n.length){let i=n[t],r=i[K].firstChild;if(r!==null)return fs(i,r)}return n[dr]}function hh(e,n,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&n===0&&(a&&Eo(In(a),i),t.flags|=2),!fh(t))if(l&8)hh(e,n,t.child,i,r,o,!1),no(n,e,r,a,o);else if(l&32){let d=dh(t,i),p;for(;p=d();)no(n,e,r,p,o);no(n,e,r,a,o)}else l&16?bv(e,n,i,t,r,o):no(n,e,r,a,o);t=s?t.projectionNext:t.next}}function fc(e,n,t,i,r,o){hh(t,i,e.firstChild,n,r,o,!1)}function jS(e,n,t){let i=n[Be],r=_v(e,t,n),o=t.parent||n[Nt],s=vv(o,t,n);bv(i,0,n,t,r,s)}function bv(e,n,t,i,r,o){let s=t[jt],l=s[Nt].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];no(n,e,r,p,o)}else{let d=l,p=s[ft];F_(i)&&(d.flags|=128),hh(e,n,d,p,r,o,!0)}}function BS(e,n,t,i,r){let o=t[dr],s=In(t);o!==s&&no(n,e,i,o,r);for(let a=dt;a<t.length;a++){let l=t[a];fc(l[K],l,e,n,i,o)}}function US(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ni.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ni.Important),e.setStyle(t,i,r,o))}}function Vl(e,n,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&i.push(In(o)),si(o)&&HS(o,i);let s=t.type;if(s&8)Vl(e,n,t.child,i);else if(s&32){let a=dh(t,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=yv(n,t);if(Array.isArray(a))i.push(...a);else{let l=fr(n[jt]);Vl(l[K],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function HS(e,n){for(let t=dt;t<e.length;t++){let i=e[t],r=i[K].firstChild;r!==null&&Vl(i[K],i,r,n)}e[dr]!==e[oi]&&n.push(e[dr])}function Dv(e){if(e[io]!==null){for(let n of e[io])n.impl.addSequence(n);e[io].length=0}}var Cv=[];function $S(e){return e[Xt]??qS(e)}function qS(e){let n=Cv.pop()??Object.create(GS);return n.lView=e,n}function zS(e){e.lView[Xt]!==e&&(e.lView=null,Cv.push(e))}var GS=H(I({},rs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Es(e.lView)},consumerOnSignalRead(){this.lView[Xt]=this}});function WS(e){let n=e[Xt]??Object.create(YS);return n.lView=e,n}var YS=H(I({},rs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=fr(e.lView);for(;n&&!wv(n[K]);)n=fr(n);n&&o_(n)},consumerOnSignalRead(){this.lView[Xt]=this}});function wv(e){return e.type!==2}function Ev(e){if(e[Ml]===null)return;let n=!0;for(;n;){let t=!1;for(let i of e[Ml])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=t&&!!(e[W]&8192)}}var QS=100;function Sv(e,n=!0,t=0){let r=e[ei].rendererFactory,o=!1;o||r.begin?.();try{ZS(e,t)}catch(s){throw n&&IS(e,s),s}finally{o||r.end?.()}}function ZS(e,n){let t=c_();try{zg(!0),Xf(e,n);let i=0;for(;tc(e);){if(i===QS)throw new A(103,!1);i++,Xf(e,1)}}finally{zg(t)}}function KS(e,n,t,i){if(yo(n))return;let r=n[W],o=!1,s=!1;$p(n);let a=!0,l=null,d=null;o||(wv(e)?(d=$S(n),l=Oa(d)):Pd()===null?(a=!1,d=WS(n),l=Oa(d)):n[Xt]&&(jd(n[Xt]),n[Xt]=null));try{r_(n),Iw(e.bindingStartIndex),t!==null&&hv(e,n,t,2,i);let p=(r&3)===3;if(!o)if(p){let _=e.preOrderCheckHooks;_!==null&&gl(n,_,null)}else{let _=e.preOrderHooks;_!==null&&_l(n,_,0,null),pf(n,0)}if(s||JS(n),Ev(n),Iv(n,0),e.contentQueries!==null&&Y_(e,n),!o)if(p){let _=e.contentCheckHooks;_!==null&&gl(n,_)}else{let _=e.contentHooks;_!==null&&_l(n,_,1),pf(n,1)}eI(e,n);let m=e.components;m!==null&&xv(n,m,0);let v=e.viewQuery;if(v!==null&&Wf(2,v,i),!o)if(p){let _=e.viewCheckHooks;_!==null&&gl(n,_)}else{let _=e.viewHooks;_!==null&&_l(n,_,2),pf(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[ff]){for(let _ of n[ff])_();n[ff]=null}o||(Dv(n),n[W]&=-73)}catch(p){throw o||Es(n),p}finally{d!==null&&(Ld(d,l),a&&zS(d)),qp()}}function Iv(e,n){for(let t=j_(e);t!==null;t=B_(t))for(let i=dt;i<t.length;i++){let r=t[i];Mv(r,n)}}function JS(e){for(let n=j_(e);n!==null;n=B_(n)){if(!(n[W]&2))continue;let t=n[ao];for(let i=0;i<t.length;i++){let r=t[i];o_(r)}}}function XS(e,n,t){ge(18);let i=Mn(n,e);Mv(i,t),ge(19,i[Je])}function Mv(e,n){Ap(e)&&Xf(e,n)}function Xf(e,n){let i=e[K],r=e[W],o=e[Xt],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Vd(o)),s||=!1,o&&(o.dirty=!1),e[W]&=-9217,s)KS(i,e,i.template,e[Je]);else if(r&8192){Ev(e),Iv(e,1);let a=i.components;a!==null&&xv(e,a,1),Dv(e)}}function xv(e,n,t){for(let i=0;i<n.length;i++)XS(e,n[i],t)}function eI(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)pr(~r);else{let o=r,s=t[++i],a=t[++i];xw(s,o);let l=n[o];ge(24,l),a(2,l),ge(25,l)}}}finally{pr(-1)}}function mh(e,n){let t=c_()?64:1088;for(e[ei].changeDetectionScheduler?.notify(n);e;){e[W]|=t;let i=fr(e);if(Tl(e)&&!i)return e;e=i}return null}function Tv(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function Rv(e,n){let t=dt+n;if(t<e.length)return e[t]}function Ms(e,n,t,i=!0){let r=n[K];if(tI(r,n,e,t),i){let s=Jf(t,e),a=n[Be],l=a.parentNode(e[dr]);l!==null&&OS(r,e[Nt],a,n,l,s)}let o=n[so];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nv(e,n){let t=vs(e,n);return t!==void 0&&uc(t[K],t),t}function vs(e,n){if(e.length<=dt)return;let t=dt+n,i=e[t];if(i){let r=i[ur];r!==null&&r!==e&&ph(r,i),n>0&&(e[t-1][hn]=i[hn]);let o=El(e,dt+n);NS(i[K],i);let s=o[ti];s!==null&&s.detachView(o[K]),i[ft]=null,i[hn]=null,i[W]&=-129}return i}function tI(e,n,t,i){let r=dt+i,o=t.length;i>0&&(t[r-1][hn]=n),i<o-dt?(n[hn]=t[r],H0(t,dt+i,n)):(t.push(n),n[hn]=null),n[ft]=t;let s=n[ur];s!==null&&t!==s&&Ov(s,n);let a=n[ti];a!==null&&a.insertView(e),Pf(n),n[W]|=128}function Ov(e,n){let t=e[ao],i=n[ft];if(Si(i))e[W]|=2;else{let r=i[ft][jt];n[jt]!==r&&(e[W]|=2)}t===null?e[ao]=[n]:t.push(n)}var ys=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[K];return Vl(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Je]}set context(n){this._lView[Je]=n}get destroyed(){return yo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ft];if(si(n)){let t=n[xl],i=t?t.indexOf(this):-1;i>-1&&(vs(n,i),El(t,i))}this._attachedToViewContainer=!1}uc(this._lView[K],this._lView)}onDestroy(n){s_(this._lView,n)}markForCheck(){mh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Pf(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,Sv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Tl(this._lView),t=this._lView[ur];t!==null&&!n&&ph(t,this._lView),gv(this._lView[K],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=n;let t=Tl(this._lView),i=this._lView[ur];i!==null&&!t&&Ov(i,this._lView),Pf(this._lView)}};var ii=(()=>{class e{static __NG_ELEMENT_ID__=rI}return e})(),nI=ii,iI=class extends nI{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){let r=Is(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new ys(r)}};function rI(){return pc(ht(),q())}function pc(e,n){return e.type&4?new iI(n,e,Co(e,n)):null}function xs(e,n,t,i,r){let o=e.data[n];if(o===null)o=oI(e,n,t,i,r),Mw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=ww();o.injectorIndex=s===null?-1:s.injectorIndex}return _r(o,!0),o}function oI(e,n,t,i,r){let o=l_(),s=jp(),a=s?o:o&&o.parent,l=e.data[n]=aI(e,a,t,n,i,r);return sI(e,l,o,s),l}function sI(e,n,t,i){e.firstChild===null&&(e.firstChild=n),t!==null&&(i?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function aI(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return a_()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var IU=new RegExp(`^(\\d+)*(${mE}|${hE})*(.*)`);var lI=()=>null;function fo(e,n){return lI(e,n)}var cI=class{},Pv=class{},ep=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Tt(n)}.`)}},hc=class{static NULL=new ep},po=class{},mn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>uI()}return e})();function uI(){let e=q(),n=ht(),t=Mn(n.index,e);return(Si(t)?t:e)[Be]}var dI=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>null})}return e})();var gf={},tp=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=Ql(i);let r=this.injector.get(n,gf,i);return r!==gf||t===gf?r:this.parentInjector.get(n,t,i)}};function np(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=Sf(r,a);else if(o==2){let l=a,d=n[++s];i=Sf(i,l+": "+d+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function C(e,n=ie.Default){let t=q();if(t===null)return P(e,n);let i=ht();return S_(i,t,bt(e),n)}function kv(){let e="invalid";throw new Error(e)}function gh(e,n,t,i,r){let o=i===null?null:{"":-1},s=r(e,t);if(s!==null){let a,l=null,d=null,p=pI(s);p===null?a=s:[a,l,d]=p,gI(e,n,t,a,o,l,d)}o!==null&&i!==null&&fI(t,i,o)}function fI(e,n,t){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new A(-301,!1);i.push(n[r],o)}}function pI(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Sn(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,hI(s,i,o,r)),s===n&&(i??=[],i.push(s));return i!==null?(i.push(...n===null?e:e.slice(1)),[i,r,o]):null}function hI(e,n,t,i){let r=n.length;e.findHostDirectiveDefs(e,n,i),t.set(e,[r,n.length-1])}function mI(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function gI(e,n,t,i,r,o,s){let a=i.length,l=!1;for(let v=0;v<a;v++){let _=i[v];!l&&Sn(_)&&(l=!0,mI(e,t,v)),Lf(Pl(t,n),e,_.type)}CI(t,e.data.length,a);for(let v=0;v<a;v++){let _=i[v];_.providersResolver&&_.providersResolver(_)}let d=!1,p=!1,m=fv(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let _=i[v];if(t.mergedAttrs=lo(t.mergedAttrs,_.hostAttrs),vI(e,t,n,m,_),DI(m,_,r),s!==null&&s.has(_)){let[T,F]=s.get(_);t.directiveToIndex.set(_.type,[m,T+t.directiveStart,F+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,m);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let E=_.type.prototype;!d&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),d=!0),!p&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),p=!0),m++}_I(e,t,o)}function _I(e,n,t){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=e.data[i];if(t===null||!t.has(r))f0(0,n,r,i),f0(1,n,r,i),h0(n,i,!1);else{let o=t.get(r);p0(0,n,o,i),p0(1,n,o,i),h0(n,i,!0)}}}function f0(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(i),Av(n,o)}}function p0(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),Av(n,s)}}function Av(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function h0(e,n,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!t&&r===null||t&&o===null||ih(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let d=r[l];for(let p of d)if(p===n){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let d=o[l];for(let p=0;p<d.length;p+=2)if(d[p]===n){s??=[],s.push(d[p+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function vI(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=ar(r.type,!0)),s=new hr(o,Sn(r),C);e.blueprint[i]=s,t[i]=s,yI(e,n,i,fv(e,t,r.hostVars,Bt),r)}function yI(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;bI(s)!=a&&s.push(a),s.push(t,i,o)}}function bI(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function DI(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Sn(n)&&(t[""]=e)}}function CI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Fv(e,n,t,i,r,o,s,a){let l=n.consts,d=Mi(l,s),p=xs(n,e,2,i,d);return o&&gh(n,t,p,Mi(l,a),r),p.mergedAttrs=lo(p.mergedAttrs,p.attrs),p.attrs!==null&&np(p,p.attrs,!1),p.mergedAttrs!==null&&np(p,p.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,p),p}function Lv(e,n){Gp(e,n),Pp(n)&&e.queries.elementEnd(n)}var jl=class extends hc{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Ii(n);return new mr(t,this.ngModule)}};function wI(e){return Object.keys(e).map(n=>{let[t,i,r]=e[n],o={propName:t,templateName:n,isSignal:(i&lc.SignalBased)!==0};return r&&(o.transform=r),o})}function EI(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function SI(e,n,t){let i=n instanceof Xe?n:n?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new tp(t,i):t}function II(e){let n=e.get(po,null);if(n===null)throw new A(407,!1);let t=e.get(dI,null),i=e.get(co,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:i}}function MI(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return lv(n,t,t==="svg"?dw:t==="math"?fw:null)}var mr=class extends Pv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=EI(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=rS(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,i,r){ge(22);let o=ee(null);try{let s=this.componentDef,a=i?["ng-version","19.2.9"]:oS(this.componentDef.selectors[0]),l=rh(0,null,null,1,0,null,null,null,null,[a],null),d=SI(s,r||this.ngModule,n),p=II(d),m=p.rendererFactory.createRenderer(null,s),v=i?mS(m,i,s.encapsulation,d):MI(s,m),_=oh(null,l,null,512|dv(s),null,null,p,m,d,null,W_(v,d,!0));_[ze]=v,$p(_);let E=null;try{let T=Fv(ze,l,_,"#host",()=>[this.componentDef],!0,0);v&&(uv(m,v,T),Eo(v,_)),cc(l,_,T),eh(l,T,_),Lv(l,T),t!==void 0&&xI(T,this.ngContentSelectors,t),E=Mn(T.index,_),_[Je]=E[Je],uh(l,_,null)}catch(T){throw E!==null&&qf(E),qf(_),T}finally{ge(23),qp()}return new ip(this.componentType,_)}finally{ee(o)}}},ip=class extends cI{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=kp(t[K],ze),this.location=Co(this._tNode,t),this.instance=Mn(this._tNode.index,t)[Je],this.hostView=this.changeDetectorRef=new ys(t,void 0,!1),this.componentType=n}setInput(n,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let r=this._rootLView,o=ch(i,r[K],r,n,t);this.previousInputValues.set(n,t);let s=Mn(i.index,r);mh(s,1)}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function xI(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var di=(()=>{class e{static __NG_ELEMENT_ID__=TI}return e})();function TI(){let e=ht();return jv(e,q())}var RI=di,Vv=class extends RI{_lContainer;_hostTNode;_hostLView;constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){let n=Wp(this._hostTNode,this._hostLView);if(y_(n)){let t=Nl(n,this._hostLView),i=Rl(n),r=t[K].data[i+8];return new or(r,t)}else return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=m0(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=fo(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,uo(this._hostTNode,s)),a}createComponent(n,t,i,r,o){let s=n&&!aw(n),a;if(s)a=t;else{let E=t||{};a=E.index,i=E.injector,r=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}let l=s?n:new mr(Ii(n)),d=i||this.parentInjector;if(!o&&l.ngModule==null){let T=(s?d:this.parentInjector).get(Xe,null);T&&(o=T)}let p=Ii(l.componentType??{}),m=fo(this._lContainer,p?.id??null),v=m?.firstChild??null,_=l.create(d,r,v,o);return this.insertImpl(_.hostView,a,uo(this._hostTNode,m)),_}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(hw(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[ft],d=new Vv(l,l[Nt],l[ft]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Ms(s,r,o,i),n.attachToViewContainerRef(),H0(_f(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=m0(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=vs(this._lContainer,t);i&&(El(_f(this._lContainer),t),uc(i[K],i))}detach(n){let t=this._adjustIndex(n,-1),i=vs(this._lContainer,t);return i&&El(_f(this._lContainer),t)!=null?new ys(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function m0(e){return e[xl]}function _f(e){return e[xl]||(e[xl]=[])}function jv(e,n){let t,i=n[e.index];return si(i)?t=i:(t=Tv(i,n,null,e),n[e.index]=t,sh(n,t)),OI(t,n,e,i),new Vv(t,e,n)}function NI(e,n){let t=e[Be],i=t.createComment(""),r=Rn(n,e),o=t.parentNode(r);return Ll(t,o,i,t.nextSibling(r),!1),i}var OI=AI,PI=()=>!1;function kI(e,n,t){return PI(e,n,t)}function AI(e,n,t,i){if(e[dr])return;let r;t.type&8?r=In(i):r=NI(n,t),e[dr]=r}var rp=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},op=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)_h(n,t).matches!==null&&this.queries[t].setDirty()}},Bl=class{flags;read;predicate;constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=$I(n):this.predicate=n}},sp=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},ap=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,FI(t,o)),this.matchTNodeWithReadOption(n,t,vl(t,n,o,!1,!1))}else i===ii?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,vl(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ge||r===di||r===ii&&t.type&4)this.addMatch(t.index,-2);else{let o=vl(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function FI(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function LI(e,n){return e.type&11?Co(e,n):e.type&4?pc(e,n):null}function VI(e,n,t,i){return t===-1?LI(n,e):t===-2?jI(e,n,i):_s(e,e[K],t,n)}function jI(e,n,t){if(t===Ge)return Co(n,e);if(t===ii)return pc(n,e);if(t===di)return jv(n,e)}function Bv(e,n,t,i){let r=n[ti].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let p=o[d];a.push(VI(n,p,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function lp(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=Bv(e,n,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let d=o[a+1],p=n[-l];for(let m=dt;m<p.length;m++){let v=p[m];v[ur]===v[ft]&&lp(v[K],v,d,i)}if(p[ao]!==null){let m=p[ao];for(let v=0;v<m.length;v++){let _=m[v];lp(_[K],_,d,i)}}}}}return i}function BI(e,n){return e[ti].queries[n].queryList}function Uv(e,n,t){let i=new $f((t&4)===4);return _w(e,n,i,i.destroy),(n[ti]??=new op).queries.push(new rp(i))-1}function UI(e,n,t){let i=Ue();return i.firstCreatePass&&(Hv(i,new Bl(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),Uv(i,q(),n)}function HI(e,n,t,i){let r=Ue();if(r.firstCreatePass){let o=ht();Hv(r,new Bl(n,t,i),o.index),qI(r,e),(t&2)===2&&(r.staticContentQueries=!0)}return Uv(r,q(),t)}function $I(e){return e.split(",").map(n=>n.trim())}function Hv(e,n,t){e.queries===null&&(e.queries=new sp),e.queries.track(new ap(n,t))}function qI(e,n){let t=e.contentQueries||(e.contentQueries=[]),i=t.length?t[t.length-1]:-1;n!==i&&t.push(e.queries.length-1,n)}function _h(e,n){return e.queries.getByIndex(n)}function zI(e,n){let t=e[K],i=_h(t,n);return i.crossesNgTemplate?lp(t,e,n,[]):Bv(t,e,i,n)}var ho=class{},vh=class{};var cp=class extends ho{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jl(this);constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t;let o=z0(n);this._bootstrapComponents=ov(o.bootstrap),this._r3Injector=x_(n,t,[{provide:ho,useValue:this},{provide:hc,useValue:this.componentFactoryResolver},...i],Tt(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},up=class extends vh{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new cp(this.moduleType,n,[])}};var Ul=class extends ho{injector;componentFactoryResolver=new jl(this);instance=null;constructor(n){super();let t=new ms([...n.providers,{provide:ho,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],n.parent||Kl(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ts(e,n,t=null){return new Ul({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var GI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=G0(!1,t.type),r=i.length>0?Ts([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(P(Xe))})}return e})();function V(e){return Cs(()=>{let n=$v(e),t=H(I({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===L_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(GI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Tn.Emulated,styles:e.styles||xt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Ti("NgStandalone"),qv(t);let i=e.dependencies;return t.directiveDefs=g0(i,!1),t.pipeDefs=g0(i,!0),t.id=KI(t),t})}function WI(e){return Ii(e)||YC(e)}function YI(e){return e!==null}function ue(e){return Cs(()=>({type:e.type,bootstrap:e.bootstrap||xt,declarations:e.declarations||xt,imports:e.imports||xt,exports:e.exports||xt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function QI(e,n){if(e==null)return lr;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=lc.None,l=null),t[o]=[i,a,l],n[o]=s}return t}function ZI(e){if(e==null)return lr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function de(e){return Cs(()=>{let n=$v(e);return qv(n),n})}function mc(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function $v(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||lr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||xt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:QI(e.inputs,n),outputs:ZI(e.outputs),debugInfo:null}}function qv(e){e.features?.forEach(n=>n(e))}function g0(e,n){if(!e)return null;let t=n?QC:WI;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(YI)}function KI(e){let n=0,t=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function JI(e){return Object.getPrototypeOf(e.prototype).constructor}function st(e){let n=JI(e.type),t=!0,i=[e];for(;n;){let r;if(Sn(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new A(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let s=e;s.inputs=vf(e.inputs),s.declaredInputs=vf(e.declaredInputs),s.outputs=vf(e.outputs);let a=r.hostBindings;a&&iM(e,a);let l=r.viewQuery,d=r.contentQueries;if(l&&tM(e,l),d&&nM(e,d),XI(e,r),EC(e.outputs,r.outputs),Sn(r)&&r.data.animation){let p=e.data;p.animation=(p.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===st&&(t=!1)}}n=Object.getPrototypeOf(n)}eM(i)}function XI(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t])}}function eM(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=lo(r.hostAttrs,t=lo(t,r.hostAttrs))}}function vf(e){return e===lr?{}:e===xt?[]:e}function tM(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function nM(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function iM(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}function zv(e){return oM(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function rM(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),i;for(;!(i=t.next()).done;)n(i.value)}}function oM(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Rs(e,n,t){return e[n]=t}function sM(e,n){return e[n]}function en(e,n,t){let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function bs(e,n,t,i){let r=en(e,n,t);return en(e,n+1,i)||r}function aM(e,n,t,i,r){let o=bs(e,n,t,i);return en(e,n+2,r)||o}function lM(e,n,t,i,r,o){let s=bs(e,n,t,i);return bs(e,n+2,r,o)||s}function cM(e,n,t,i,r,o,s,a,l){let d=n.consts,p=xs(n,e,4,s||null,a||null);Vp()&&gh(n,t,p,Mi(d,l),lh),p.mergedAttrs=lo(p.mergedAttrs,p.attrs),Gp(n,p);let m=p.tView=rh(2,p,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return n.queries!==null&&(n.queries.template(n,p),m.queries=n.queries.embeddedTView(p)),p}function Hl(e,n,t,i,r,o,s,a,l,d){let p=t+ze,m=n.firstCreatePass?cM(p,n,e,i,r,o,s,a,l):n.data[p];_r(m,!1);let v=uM(n,e,m,t);nc()&&dc(n,e,v,m),Eo(v,e);let _=Tv(v,e,v,m);return e[p]=_,sh(e,_),kI(_,m,e),Xl(m)&&cc(n,e,m),l!=null&&ah(e,m,d),m}function D(e,n,t,i,r,o,s,a){let l=q(),d=Ue(),p=Mi(d.consts,o);return Hl(l,d,e,n,t,i,r,p,s,a),D}var uM=dM;function dM(e,n,t,i){return ic(!0),n[Be].createComment("")}var Gv=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Wv=new k("");var fM=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new dp})}return e})(),dp=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,i=this.queues.get(t);i.has(n)&&(i.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function vr(e){return!!e&&typeof e.then=="function"}function Yv(e){return!!e&&typeof e.subscribe=="function"}var Qv=new k("");function yh(e){return go([{provide:Qv,multi:!0,useValue:e}])}var Zv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=b(Qv,{optional:!0})??[];injector=b(ot);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=Rt(this.injector,r);if(vr(o))t.push(o);else if(Yv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gc=new k("");function pM(){Ud(()=>{throw new A(600,!1)})}function hM(e){return e.isBoundToModule}var mM=10;var ri=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(iE);afterRenderManager=b(G_);zonelessEnabled=b(Yp);rootEffectScheduler=b(fM);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ae;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(li).hasPendingTasks.pipe(Z(t=>!t));constructor(){b(So,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=b(Xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=ot.NULL){ge(10);let o=t instanceof Pv;if(!this._injector.get(Zv).done){let _="";throw new A(405,_)}let a;o?a=t:a=this._injector.get(hc).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=hM(a)?void 0:this._injector.get(ho),d=i||a.selector,p=a.create(r,[],d,l),m=p.location.nativeElement,v=p.injector.get(Wv,null);return v?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),yl(this.components,p),v?.unregisterApplication(m)}),this._loadComponent(p),ge(11,p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Xp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new A(101,!1);let t=ee(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(po,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<mM;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)gM(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>tc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;yl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(gc,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new A(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yl(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function gM(e,n,t,i){if(!t&&!tc(e))return;Sv(e,n,t&&!i?0:1)}function Ri(e,n,t,i){let r=q(),o=bo();if(en(r,o,n)){let s=Ue(),a=zp();wS(a,r,e,n,t,i)}return Ri}function _M(e,n,t,i){return en(e,bo(),t)?n+sr(t)+i:Bt}function vM(e,n,t,i,r,o){let s=Sw(),a=bs(e,s,t,r);return Up(2),a?n+sr(t)+i+sr(r)+o:Bt}function hl(e,n){return e<<17|n<<2}function gr(e){return e>>17&32767}function yM(e){return(e&2)==2}function bM(e,n){return e&131071|n<<17}function fp(e){return e|2}function mo(e){return(e&131068)>>2}function yf(e,n){return e&-131069|n<<2}function DM(e){return(e&1)===1}function pp(e){return e|1}function CM(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=gr(s),l=mo(s);e[i]=t;let d=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||ws(m,p)>0)&&(d=!0)}else p=t;if(r)if(l!==0){let v=gr(e[a+1]);e[i+1]=hl(v,a),v!==0&&(e[v+1]=yf(e[v+1],i)),e[a+1]=bM(e[a+1],i)}else e[i+1]=hl(a,0),a!==0&&(e[a+1]=yf(e[a+1],i)),a=i;else e[i+1]=hl(l,0),a===0?a=i:e[l+1]=yf(e[l+1],i),l=i;d&&(e[i+1]=fp(e[i+1])),_0(e,p,i,!0),_0(e,p,i,!1),wM(n,p,e,i,o),s=hl(a,l),o?n.classBindings=s:n.styleBindings=s}function wM(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&ws(o,n)>=0&&(t[i+1]=pp(t[i+1]))}function _0(e,n,t,i){let r=e[t+1],o=n===null,s=i?gr(r):mo(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],d=e[s+1];EM(l,n)&&(a=!0,e[s+1]=i?pp(d):fp(d)),s=i?gr(d):mo(d)}a&&(e[t+1]=i?fp(r):pp(r))}function EM(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?ws(e,n)>=0:!1}var pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SM(e){return e.substring(pn.key,pn.keyEnd)}function IM(e){return MM(e),Kv(e,Jv(e,0,pn.textEnd))}function Kv(e,n){let t=pn.textEnd;return t===n?-1:(n=pn.keyEnd=xM(e,pn.key=n,t),Jv(e,n,t))}function MM(e){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=e.length}function Jv(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function xM(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function g(e,n,t){let i=q(),r=bo();if(en(i,r,n)){let o=Ue(),s=zp();mv(o,s,i,e,n,i[Be],t,!1)}return g}function hp(e,n,t,i,r){ch(n,e,t,r?"class":"style",i)}function mt(e,n){return RM(e,n,null,!0),mt}function _c(e){NM(LM,TM,e,!0)}function TM(e,n){for(let t=IM(n);t>=0;t=Kv(n,t))Np(e,SM(n),!0)}function RM(e,n,t,i){let r=q(),o=Ue(),s=Up(2);if(o.firstUpdatePass&&ey(o,e,s,i),n!==Bt&&en(r,s,n)){let a=o.data[ai()];ty(o,a,r,r[Be],e,r[s+1]=jM(n,t),i,s)}}function NM(e,n,t,i){let r=Ue(),o=Up(2);r.firstUpdatePass&&ey(r,null,o,i);let s=q();if(t!==Bt&&en(s,o,t)){let a=r.data[ai()];if(ny(a,i)&&!Xv(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Sf(l,t||"")),hp(r,a,s,t,i)}else VM(r,a,s,s[Be],s[o+1],s[o+1]=FM(e,n,t),i,o)}}function Xv(e,n){return n>=e.expandoStartIndex}function ey(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[ai()],s=Xv(e,t);ny(o,i)&&n===null&&!s&&(n=!1),n=OM(r,o,n,i),CM(r,o,n,t,s,i)}}function OM(e,n,t,i){let r=Rw(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=bf(null,e,n,t,i),t=Ds(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=bf(r,e,n,t,i),o===null){let l=PM(e,n,i);l!==void 0&&Array.isArray(l)&&(l=bf(null,e,n,l[1],i),l=Ds(l,n.attrs,i),kM(e,n,i,l))}else o=AM(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function PM(e,n,t){let i=t?n.classBindings:n.styleBindings;if(mo(i)!==0)return e[gr(i)]}function kM(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[gr(r)]=i}function AM(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Ds(i,s,t)}return Ds(i,n.attrs,t)}function bf(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=Ds(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function Ds(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Np(e,s,t?!0:n[++o]))}return e===void 0?null:e}function FM(e,n,t){if(t==null||t==="")return xt;let i=[],r=Mo(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function LM(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&Np(e,i,t)}function VM(e,n,t,i,r,o,s,a){r===Bt&&(r=xt);let l=0,d=0,p=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;p!==null||m!==null;){let v=l<r.length?r[l+1]:void 0,_=d<o.length?o[d+1]:void 0,E=null,T;p===m?(l+=2,d+=2,v!==_&&(E=m,T=_)):m===null||p!==null&&p<m?(l+=2,E=p):(d+=2,E=m,T=_),E!==null&&ty(e,n,t,i,E,T,s,a),p=l<r.length?r[l]:null,m=d<o.length?o[d]:null}}function ty(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let l=e.data,d=l[a+1],p=DM(d)?v0(l,n,t,r,mo(d),s):void 0;if(!$l(p)){$l(o)||yM(d)&&(o=v0(l,null,t,r,a,s));let m=i_(ai(),t);US(i,s,m,r,o)}}function v0(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let l=e[r],d=Array.isArray(l),p=d?l[1]:l,m=p===null,v=t[r+1];v===Bt&&(v=m?xt:void 0);let _=m?uf(v,i):p===i?v:void 0;if(d&&!$l(_)&&(_=uf(l,i)),$l(_)&&(a=_,s))return a;let E=e[r+1];r=s?gr(E):mo(E)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=uf(l,i))}return a}function $l(e){return e!==void 0}function jM(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Tt(Mo(e)))),e}function ny(e,n){return(e.flags&(n?8:16))!==0}var mp=class{destroy(n){}updateValue(n,t){}swap(n,t){let i=Math.min(n,t),r=Math.max(n,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,t){this.attach(t,this.detach(n))}};function Df(e,n,t,i,r){return e===t&&Object.is(n,i)?1:Object.is(r(e,n),r(t,i))?-1:0}function BM(e,n,t){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=s&&o<=l;){let d=e.at(o),p=n[o],m=Df(o,d,o,p,t);if(m!==0){m<0&&e.updateValue(o,p),o++;continue}let v=e.at(s),_=n[l],E=Df(s,v,l,_,t);if(E!==0){E<0&&e.updateValue(s,_),s--,l--;continue}let T=t(o,d),F=t(s,v),G=t(o,p);if(Object.is(G,F)){let nt=t(l,_);Object.is(nt,T)?(e.swap(o,s),e.updateValue(s,_),l--,s--):e.move(s,o),e.updateValue(o,p),o++;continue}if(i??=new ql,r??=b0(e,o,s,t),gp(e,i,o,G))e.updateValue(o,p),o++,s++;else if(r.has(G))i.set(T,e.detach(o)),s--;else{let nt=e.create(o,n[o]);e.attach(o,nt),o++,s++}}for(;o<=l;)y0(e,i,t,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),d=l.next();for(;!d.done&&o<=s;){let p=e.at(o),m=d.value,v=Df(o,p,o,m,t);if(v!==0)v<0&&e.updateValue(o,m),o++,d=l.next();else{i??=new ql,r??=b0(e,o,s,t);let _=t(o,m);if(gp(e,i,o,_))e.updateValue(o,m),o++,s++,d=l.next();else if(!r.has(_))e.attach(o,e.create(o,m)),o++,s++,d=l.next();else{let E=t(o,p);i.set(E,e.detach(o)),s--}}}for(;!d.done;)y0(e,i,t,e.length,d.value),d=l.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(l=>{e.destroy(l)})}function gp(e,n,t,i){return n!==void 0&&n.has(i)?(e.attach(t,n.get(i)),n.delete(i),!0):!1}function y0(e,n,t,i,r){if(gp(e,n,i,t(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function b0(e,n,t,i){let r=new Set;for(let o=n;o<=t;o++)r.add(i(o,e.at(o)));return r}var ql=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,i]of this.kvMap)if(n(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,t)}}};function fe(e,n){Ti("NgControlFlow");let t=q(),i=bo(),r=t[i]!==Bt?t[i]:-1,o=r!==-1?zl(t,ze+r):void 0,s=0;if(en(t,i,e)){let a=ee(null);try{if(o!==void 0&&Nv(o,s),e!==-1){let l=ze+e,d=zl(t,l),p=bp(t[K],l),m=fo(d,p.tView.ssrId),v=Is(t,p,n,{dehydratedView:m});Ms(d,v,s,uo(p,m))}}finally{ee(a)}}else if(o!==void 0){let a=Rv(o,s);a!==void 0&&(a[Je]=n)}}var _p=class{lContainer;$implicit;$index;constructor(n,t,i){this.lContainer=n,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-dt}};function Ns(e,n){return n}var vp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,i){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=i}};function yr(e,n,t,i,r,o,s,a,l,d,p,m,v){Ti("NgControlFlow");let _=q(),E=Ue(),T=l!==void 0,F=q(),G=a?s.bind(F[jt][Je]):s,nt=new vp(T,G);F[ze+e]=nt,Hl(_,E,e+1,n,t,i,r,Mi(E.consts,o)),T&&Hl(_,E,e+2,l,d,p,m,Mi(E.consts,v))}var yp=class extends mp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,i){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-dt}at(n){return this.getLView(n)[Je].$implicit}attach(n,t){let i=t[so];this.needsIndexUpdate||=n!==this.length,Ms(this.lContainer,t,n,uo(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,UM(this.lContainer,n)}create(n,t){let i=fo(this.lContainer,this.templateTNode.tView.ssrId),r=Is(this.hostLView,this.templateTNode,new _p(this.lContainer,t,n),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(n){uc(n[K],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[Je].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Je].$index=n}getLView(n){return HM(this.lContainer,n)}};function br(e){let n=ee(null),t=ai();try{let i=q(),r=i[K],o=i[t],s=t+1,a=zl(i,s);if(o.liveCollection===void 0){let d=bp(r,s);o.liveCollection=new yp(a,i,d)}else o.liveCollection.reset();let l=o.liveCollection;if(BM(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let d=bo(),p=l.length===0;if(en(i,d,p)){let m=t+2,v=zl(i,m);if(p){let _=bp(r,m),E=fo(v,_.tView.ssrId),T=Is(i,_,void 0,{dehydratedView:E});Ms(v,T,0,uo(_,E))}else Nv(v,0)}}}finally{ee(n)}}function zl(e,n){return e[n]}function UM(e,n){return vs(e,n)}function HM(e,n){return Rv(e,n)}function bp(e,n){return kp(e,n)}function u(e,n,t,i){let r=q(),o=Ue(),s=ze+e,a=r[Be],l=o.firstCreatePass?Fv(s,o,r,n,lh,Vp(),t,i):o.data[s],d=$M(o,r,l,a,n,e);r[s]=d;let p=Xl(l);return _r(l,!0),uv(a,d,l),!fh(l)&&nc()&&dc(o,r,d,l),(vw()===0||p)&&Eo(d,r),yw(),p&&(cc(o,r,l),eh(o,l,r)),i!==null&&ah(r,l),u}function c(){let e=ht();jp()?Bp():(e=e.parent,_r(e,!1));let n=e;Dw(n)&&Cw(),bw();let t=Ue();return t.firstCreatePass&&Lv(t,n),n.classesWithoutHost!=null&&Fw(n)&&hp(t,n,q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Lw(n)&&hp(t,n,q(),n.stylesWithoutHost,!1),c}function S(e,n,t,i){return u(e,n,t,i),c(),S}var $M=(e,n,t,i,r,o)=>(ic(!0),lv(i,r,Pw()));function qM(e,n,t,i,r){let o=n.consts,s=Mi(o,i),a=xs(n,e,8,"ng-container",s);s!==null&&np(a,s,!0);let l=Mi(o,r);return Vp()&&gh(n,t,a,l,lh),a.mergedAttrs=lo(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function Nn(e,n,t){let i=q(),r=Ue(),o=e+ze,s=r.firstCreatePass?qM(o,r,i,n,t):r.data[o];_r(s,!0);let a=zM(r,i,s,e);return i[o]=a,nc()&&dc(r,i,a,s),Eo(a,i),Xl(s)&&(cc(r,i,s),eh(r,s,i)),t!=null&&ah(i,s),Nn}function On(){let e=ht(),n=Ue();return jp()?Bp():(e=e.parent,_r(e,!1)),n.firstCreatePass&&(Gp(n,e),Pp(e)&&n.queries.elementEnd(e)),On}var zM=(e,n,t,i)=>(ic(!0),lS(n[Be],""));function ne(){return q()}var ir=void 0;function GM(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var WM=["en",[["a","p"],["AM","PM"],ir],[["AM","PM"],ir,ir],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ir,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ir,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ir,"{1} 'at' {0}",ir],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",GM],Cf={};function Ot(e){let n=YM(e),t=D0(n);if(t)return t;let i=n.split("-")[0];if(t=D0(i),t)return t;if(i==="en")return WM;throw new A(701,!1)}function D0(e){return e in Cf||(Cf[e]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[e]),Cf[e]}var ke=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ke||{});function YM(e){return e.toLowerCase().replace(/_/g,"-")}var Gl="en-US",QM="USD";var ZM=Gl;function KM(e){typeof e=="string"&&(ZM=e.toLowerCase().replace(/_/g,"-"))}function C0(e,n,t){return function i(r){if(r===Function)return t;let o=vo(e)?Mn(e.index,n):n;mh(o,5);let s=n[Je],a=w0(n,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=w0(n,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function w0(e,n,t,i){let r=ee(null);try{return ge(6,n,t),t(i)!==!1}catch(o){return JM(e,o),!1}finally{ge(7,n,t),ee(r)}}function JM(e,n){let t=e[cr],i=t?t.get(xn,null):null;i&&i.handleError(n)}function E0(e,n,t,i,r,o){let s=n[t],a=n[K],d=a.data[t].outputs[i],p=s[d],m=a.firstCreatePass?Lp(a):null,v=Fp(n),_=p.subscribe(o),E=v.length;v.push(o,_),m&&m.push(r,e.index,E,-(E+1))}var XM=new Map;function M(e,n,t,i){let r=q(),o=Ue(),s=ht();return iy(o,r,r[Be],s,e,n,i),M}function ex(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[Il],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function iy(e,n,t,i,r,o,s){let a=Xl(i),d=e.firstCreatePass?Lp(e):null,p=Fp(n),m=!0;if(i.type&3||s){let v=Rn(i,n),_=s?s(v):v,E=p.length,T=s?G=>s(In(G[i.index])):i.index,F=null;if(!s&&a&&(F=ex(e,n,r,i.index)),F!==null){let G=F.__ngLastListenerFn__||F;G.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,m=!1}else{o=C0(i,n,o);let G=n[cr].get(oc);XM.get(G)?.(_,r,o);let Te=t.listen(_,r,o);p.push(o,Te),d&&d.push(r,T,E,E+1)}}else o=C0(i,n,o);if(m){let v=i.outputs?.[r],_=i.hostDirectiveOutputs?.[r];if(_&&_.length)for(let E=0;E<_.length;E+=2){let T=_[E],F=_[E+1];E0(i,n,T,F,r,o)}if(v&&v.length)for(let E of v)E0(i,n,E,r,r,o)}}function y(e=1){return Ow(e)}function tx(e,n){let t=null,i=XE(e);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){t=r;continue}if(i===null?av(e,o,!0):nS(i,o))return r}return t}function ry(e){let n=q()[jt][Nt];if(!n.projection){let t=e?e.length:1,i=n.projection=zC(t,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=e?tx(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function oy(e,n=0,t,i,r,o){let s=q(),a=Ue(),l=i?e+1:null;l!==null&&Hl(s,a,l,i,r,o,null,t);let d=xs(a,ze+e,16,null,t||null);d.projection===null&&(d.projection=n),Bp();let m=!s[so]||a_();s[jt][Nt].projection[d.projection]===null&&l!==null?nx(s,a,l):m&&!fh(d)&&jS(a,s,d)}function nx(e,n,t){let i=ze+t,r=n.data[i],o=e[i],s=fo(o,r.tView.ssrId),a=Is(e,r,void 0,{dehydratedView:s});Ms(o,a,0,uo(r,s))}function bh(e,n,t,i){HI(e,n,t,i)}function fi(e,n,t){UI(e,n,t)}function gn(e){let n=q(),t=Ue(),i=u_();Hp(i+1);let r=_h(t,i);if(e.dirty&&pw(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=zI(n,i);e.reset(o,sE),e.notifyOnChanges()}return!0}return!1}function _n(){return BI(q(),u_())}function ix(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function Os(e){let n=Ew();return ec(n,ze+e)}function f(e,n=""){let t=q(),i=Ue(),r=e+ze,o=i.firstCreatePass?xs(i,r,1,n,null):i.data[r],s=rx(i,t,o,n,e);t[r]=s,nc()&&dc(i,t,s,o),_r(o,!1)}var rx=(e,n,t,i,r)=>(ic(!0),sS(n[Be],i));function O(e){return j("",e,""),O}function j(e,n,t){let i=q(),r=_M(i,e,n,t);return r!==Bt&&sy(i,ai(),r),j}function Ps(e,n,t,i,r){let o=q(),s=vM(o,e,n,t,i,r);return s!==Bt&&sy(o,ai(),s),Ps}function sy(e,n,t){let i=i_(n,e);aS(e[Be],i,t)}function we(e,n,t){A_(n)&&(n=n());let i=q(),r=bo();if(en(i,r,n)){let o=Ue(),s=zp();mv(o,s,i,e,n,i[Be],t,!1)}return we}function xe(e,n){let t=A_(e);return t&&e.set(n),t}function Ee(e,n){let t=q(),i=Ue(),r=ht();return iy(i,t,t[Be],r,e,n),Ee}function ox(e,n,t){let i=Ue();if(i.firstCreatePass){let r=Sn(e);Dp(t,i.data,i.blueprint,r,!0),Dp(n,i.data,i.blueprint,r,!1)}}function Dp(e,n,t,i,r){if(e=bt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Dp(e[o],n,t,i,r);else{let o=Ue(),s=q(),a=ht(),l=oo(e)?e:bt(e.provide),d=Q0(e),p=a.providerIndexes&1048575,m=a.directiveStart,v=a.providerIndexes>>20;if(oo(e)||!e.multi){let _=new hr(d,r,C),E=Ef(l,n,r?p:p+v,m);E===-1?(Lf(Pl(a,s),o,l),wf(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[E]=_,s[E]=_)}else{let _=Ef(l,n,p+v,m),E=Ef(l,n,p,p+v),T=_>=0&&t[_],F=E>=0&&t[E];if(r&&!F||!r&&!T){Lf(Pl(a,s),o,l);let G=lx(r?ax:sx,t.length,r,i,d);!r&&F&&(t[E].providerFactory=G),wf(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(G),s.push(G)}else{let G=ay(t[r?E:_],d,!r&&i);wf(o,e,_>-1?_:E,G)}!r&&i&&F&&t[E].componentProviders++}}}function wf(e,n,t,i){let r=oo(n),o=ew(n);if(r||o){let l=(o?bt(n.useClass):n).prototype.ngOnDestroy;if(l){let d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let p=d.indexOf(t);p===-1?d.push(t,[i,l]):d[p+1].push(i,l)}else d.push(t,l)}}}function ay(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Ef(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function sx(e,n,t,i){return Cp(this.multi,[])}function ax(e,n,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=_s(t,t[K],this.providerFactory.index,i);o=a.slice(0,s),Cp(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Cp(r,o);return o}function Cp(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function lx(e,n,t,i,r){let o=new hr(e,t,C);return o.multi=[],o.index=n,o.componentProviders=0,ay(o,r,i&&!t),o}function Pt(e,n=[]){return t=>{t.providersResolver=(i,r)=>ox(i,r?r(e):e,n)}}function Pn(e,n,t){let i=xi()+e,r=q();return r[i]===Bt?Rs(r,i,t?n.call(t):n()):sM(r,i)}function kt(e,n,t,i){return cy(q(),xi(),e,n,t,i)}function ks(e,n,t,i,r){return uy(q(),xi(),e,n,t,i,r)}function As(e,n,t,i,r,o){return dy(q(),xi(),e,n,t,i,r,o)}function ly(e,n,t,i,r,o,s){return cx(q(),xi(),e,n,t,i,r,o,s)}function vc(e,n){let t=e[n];return t===Bt?void 0:t}function cy(e,n,t,i,r,o){let s=n+t;return en(e,s,r)?Rs(e,s+1,o?i.call(o,r):i(r)):vc(e,s+1)}function uy(e,n,t,i,r,o,s){let a=n+t;return bs(e,a,r,o)?Rs(e,a+2,s?i.call(s,r,o):i(r,o)):vc(e,a+2)}function dy(e,n,t,i,r,o,s,a){let l=n+t;return aM(e,l,r,o,s)?Rs(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):vc(e,l+3)}function cx(e,n,t,i,r,o,s,a,l){let d=n+t;return lM(e,d,r,o,s,a)?Rs(e,d+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):vc(e,d+4)}function gt(e,n){let t=Ue(),i,r=e+ze;t.firstCreatePass?(i=ux(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=ar(i.type,!0)),s,a=Mt(C);try{let l=Ol(!1),d=o();return Ol(l),ix(t,q(),r,d),d}finally{Mt(a)}}function ux(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function Dh(e,n,t){let i=e+ze,r=q(),o=ec(r,i);return Ch(r,i)?cy(r,xi(),n,o.transform,t,o):o.transform(t)}function rn(e,n,t,i){let r=e+ze,o=q(),s=ec(o,r);return Ch(o,r)?uy(o,xi(),n,s.transform,t,i,s):s.transform(t,i)}function fy(e,n,t,i,r){let o=e+ze,s=q(),a=ec(s,o);return Ch(s,o)?dy(s,xi(),n,a.transform,t,i,r,a):a.transform(t,i,r)}function Ch(e,n){return e[K].data[n].pure}function Fs(e,n){return pc(e,n)}var wp=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},py=(()=>{class e{compileModuleSync(t){return new up(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=z0(t),o=ov(r.declarations).reduce((s,a)=>{let l=Ii(a);return l&&s.push(new mr(l)),s},[]);return new wp(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dx=(()=>{class e{zone=b(Ce);changeDetectionScheduler=b(co);applicationRef=b(ri);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fx=new k("",{factory:()=>!1});function hy({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Ce(H(I({},gy()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:e},{provide:hs,multi:!0,useFactory:()=>{let i=b(dx,{optional:!0});return()=>i.initialize()}},{provide:hs,multi:!0,useFactory:()=>{let i=b(px);return()=>{i.initialize()}}},n===!0?{provide:R_,useValue:!0}:[],{provide:N_,useValue:t??T_}]}function my(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,i=hy({ngZoneFactory:()=>{let r=gy(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Ti("NgZone_CoalesceEvent"),new Ce(r)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return go([{provide:fx,useValue:!0},{provide:Yp,useValue:!1},i])}function gy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var px=(()=>{class e{subscription=new Fe;initialized=!1;zone=b(Ce);pendingTasks=b(li);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hx=(()=>{class e{appRef=b(ri);taskService=b(li);ngZone=b(Ce);zonelessEnabled=b(Yp);tracing=b(So,{optional:!0});disableScheduling=b(R_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Al):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(N_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Kg:O_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Al+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mx(){return typeof $localize<"u"&&$localize.locale||Gl}var xo=new k("",{providedIn:"root",factory:()=>b(xo,ie.Optional|ie.SkipSelf)||mx()}),_y=new k("",{providedIn:"root",factory:()=>QM});var Ep=new k(""),gx=new k("");function us(e){return!e.moduleRef}function _x(e){let n=us(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Ce);return t.run(()=>{us(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(xn,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),us(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Ep);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ep);s.add(o),e.moduleRef.onDestroy(()=>{yl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return yx(i,t,()=>{let o=n.get(Zv);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(xo,Gl);if(KM(s||Gl),!n.get(gx,!0))return us(e)?n.get(ri):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(us(e)){let l=n.get(ri);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return vx(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function vx(e,n){let t=e.injector.get(ri);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new A(-403,!1);n.push(e)}function yx(e,n,t){try{let i=t();return vr(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}var bl=null;function bx(e=[],n){return ot.create({name:n,providers:[{provide:Zl,useValue:"platform"},{provide:Ep,useValue:new Set([()=>bl=null])},...e]})}function Dx(e=[]){if(bl)return bl;let n=bx(e);return bl=n,pM(),Cx(n),n}function Cx(e){let n=e.get(Kp,null);Rt(e,()=>{n?.forEach(t=>t())})}var kn=(()=>{class e{static __NG_ELEMENT_ID__=wx}return e})();function wx(e){return Ex(ht(),q(),(e&16)===16)}function Ex(e,n,t){if(vo(e)&&!t){let i=Mn(e.index,n);return new ys(i,i)}else if(e.type&175){let i=n[jt];return new ys(i,n)}return null}var Sp=class{constructor(){}supports(n){return zv(n)}create(n){return new Ip(n)}},Sx=(e,n)=>n,Ip=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||Sx}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<S0(i,r,o)?t:i,a=S0(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,p=l-r;if(d!=p){for(let v=0;v<d;v++){let _=v<o.length?o[v]:o[v]=0,E=_+v;p<=E&&E<d&&(o[v]=_+1)}let m=s.previousIndex;o[m]=p-d}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!zv(n))throw new A(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,rM(n,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new Mp(t,i),o,r)),n}_verifyReinsertion(n,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){let r=t===null?this._itHead:t._next;return n._next=r,n._prev=t,r===null?this._itTail=n:r._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Wl),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,i=n._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Mp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},xp=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let t=n._prevDup,i=n._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Wl=class{map=new Map;put(n){let t=n.trackById,i=this.map.get(t);i||(i=new xp,this.map.set(t,i)),i.add(n)}get(n,t){let i=n,r=this.map.get(i);return r?r.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function S0(e,n,t){let i=e.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function I0(){return new wh([new Sp])}var wh=(()=>{class e{factories;static \u0275prov=x({token:e,providedIn:"root",factory:I0});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||I0()),deps:[[e,new HC,new UC]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new A(901,!1)}}return e})();function vy(e){ge(8);try{let{rootComponent:n,appProviders:t,platformProviders:i}=e,r=Dx(i),o=[hy({}),{provide:co,useExisting:hx},...t||[]],s=new Ul({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return _x({r3Injector:s.injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}finally{ge(9)}}function Ni(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function An(e){return qd(e)}function To(e,n){return Bd(e,n?.equal)}var M0=class{[Kt];constructor(n){this[Kt]=n}destroy(){this[Kt].destroy()}};function yc(e,n){let t=Ii(e),i=n.elementInjector||Kl();return new mr(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function yy(e){let n=Ii(e);if(!n)return null;let t=new mr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Ne=new k("");var Cy=null;function on(){return Cy}function Eh(e){Cy??=e}var Ls=class{},Vs=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(wy),providedIn:"platform"})}return e})(),Sh=new k(""),wy=(()=>{class e extends Vs{_location;_history;_doc=b(Ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return on().getBaseHref(this._doc)}onPopState(t){let i=on().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=on().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function bc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function by(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function vn(e){return e&&e[0]!=="?"?`?${e}`:e}var sn=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(Cc),providedIn:"root"})}return e})(),Dc=new k(""),Cc=(()=>{class e extends sn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bc(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+vn(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(P(Vs),P(Dc,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Oi=(()=>{class e{_subject=new ae;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=xx(by(Dy(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+vn(i))}normalize(t){return e.stripTrailingSlash(Mx(this._basePath,Dy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vn(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=vn;static joinWithSlash=bc;static stripTrailingSlash=by;static \u0275fac=function(i){return new(i||e)(P(sn))};static \u0275prov=x({token:e,factory:()=>Ix(),providedIn:"root"})}return e})();function Ix(){return new Oi(P(sn))}function Mx(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Dy(e){return e.replace(/\/index.html$/,"")}function xx(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Oc=(()=>{class e extends sn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=bc(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+vn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+vn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(P(Vs),P(Dc,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Ry={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Oh=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Oh||{});var _t=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(_t||{}),_e=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(_e||{}),At=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(At||{}),Ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ny(e){return Ot(e)[ke.LocaleId]}function Oy(e,n,t){let i=Ot(e),r=[i[ke.DayPeriodsFormat],i[ke.DayPeriodsStandalone]],o=an(r,n);return an(o,t)}function Py(e,n,t){let i=Ot(e),r=[i[ke.DaysFormat],i[ke.DaysStandalone]],o=an(r,n);return an(o,t)}function ky(e,n,t){let i=Ot(e),r=[i[ke.MonthsFormat],i[ke.MonthsStandalone]],o=an(r,n);return an(o,t)}function Ay(e,n){let i=Ot(e)[ke.Eras];return an(i,n)}function js(e,n){let t=Ot(e);return an(t[ke.DateFormat],n)}function Bs(e,n){let t=Ot(e);return an(t[ke.TimeFormat],n)}function Us(e,n){let i=Ot(e)[ke.DateTimeFormat];return an(i,n)}function Fn(e,n){let t=Ot(e),i=t[ke.NumberSymbols][n];if(typeof i>"u"){if(n===Ft.CurrencyDecimal)return t[ke.NumberSymbols][Ft.Decimal];if(n===Ft.CurrencyGroup)return t[ke.NumberSymbols][Ft.Group]}return i}function Fy(e,n){return Ot(e)[ke.NumberFormats][n]}function Tx(e){return Ot(e)[ke.Currencies]}function Ly(e){if(!e[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vy(e){let n=Ot(e);return Ly(n),(n[ke.ExtraData][2]||[]).map(i=>typeof i=="string"?Ih(i):[Ih(i[0]),Ih(i[1])])}function jy(e,n,t){let i=Ot(e);Ly(i);let r=[i[ke.ExtraData][0],i[ke.ExtraData][1]],o=an(r,n)||[];return an(o,t)||[]}function an(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Ih(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}function By(e,n,t="en"){let i=Tx(t)[e]||Ry[e]||[],r=i[1];return n==="narrow"&&typeof r=="string"?r:i[0]||e}var Rx=2;function Uy(e){let n,t=Ry[e];return t&&(n=t[2]),typeof n=="number"?n:Rx}var Nx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wc={},Ox=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ph(e,n,t,i){let r=Ux(e);n=pi(t,n)||n;let s=[],a;for(;n;)if(a=Ox.exec(n),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;n=p}else{s.push(n);break}let l=r.getTimezoneOffset();i&&(l=$y(i,l),r=Bx(r,i));let d="";return s.forEach(p=>{let m=Vx(p);d+=m?m(r,t,l):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function xc(e,n,t){let i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function pi(e,n){let t=Ny(e);if(wc[t]??={},wc[t][n])return wc[t][n];let i="";switch(n){case"shortDate":i=js(e,At.Short);break;case"mediumDate":i=js(e,At.Medium);break;case"longDate":i=js(e,At.Long);break;case"fullDate":i=js(e,At.Full);break;case"shortTime":i=Bs(e,At.Short);break;case"mediumTime":i=Bs(e,At.Medium);break;case"longTime":i=Bs(e,At.Long);break;case"fullTime":i=Bs(e,At.Full);break;case"short":let r=pi(e,"shortTime"),o=pi(e,"shortDate");i=Ec(Us(e,At.Short),[r,o]);break;case"medium":let s=pi(e,"mediumTime"),a=pi(e,"mediumDate");i=Ec(Us(e,At.Medium),[s,a]);break;case"long":let l=pi(e,"longTime"),d=pi(e,"longDate");i=Ec(Us(e,At.Long),[l,d]);break;case"full":let p=pi(e,"fullTime"),m=pi(e,"fullDate");i=Ec(Us(e,At.Full),[p,m]);break}return i&&(wc[t][n]=i),i}function Ec(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return n!=null&&i in n?n[i]:t})),e}function yn(e,n,t="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function Px(e,n){return yn(e,3).substring(0,n)}function We(e,n,t=0,i=!1,r=!1){return function(o,s){let a=kx(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return Px(a,n);let l=Fn(s,Ft.MinusSign);return yn(a,n,l,i,r)}}function kx(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Se(e,n,t=_t.Format,i=!1){return function(r,o){return Ax(r,o,e,n,t,i)}}function Ax(e,n,t,i,r,o){switch(t){case 2:return ky(n,r,i)[e.getMonth()];case 1:return Py(n,r,i)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let d=Vy(n),p=jy(n,r,i),m=d.findIndex(v=>{if(Array.isArray(v)){let[_,E]=v,T=s>=_.hours&&a>=_.minutes,F=s<E.hours||s===E.hours&&a<E.minutes;if(_.hours<E.hours){if(T&&F)return!0}else if(T||F)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(m!==-1)return p[m]}return Oy(n,r,i)[s<12?0:1];case 3:return Ay(n,i)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Sc(e){return function(n,t,i){let r=-1*i,o=Fn(t,Ft.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case 0:return(r>=0?"+":"")+yn(s,2,o)+yn(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+yn(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var Fx=0,Mc=4;function Lx(e){let n=xc(e,Fx,1).getDay();return xc(e,0,1+(n<=Mc?Mc:Mc+7)-n)}function Hy(e){let n=e.getDay(),t=n===0?-3:Mc-n;return xc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Mh(e,n=!1){return function(t,i){let r;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=Hy(t),s=Lx(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return yn(r,e,Fn(i,Ft.MinusSign))}}function Ic(e,n=!1){return function(t,i){let o=Hy(t).getFullYear();return yn(o,e,Fn(i,Ft.MinusSign),n)}}var xh={};function Vx(e){if(xh[e])return xh[e];let n;switch(e){case"G":case"GG":case"GGG":n=Se(3,_e.Abbreviated);break;case"GGGG":n=Se(3,_e.Wide);break;case"GGGGG":n=Se(3,_e.Narrow);break;case"y":n=We(0,1,0,!1,!0);break;case"yy":n=We(0,2,0,!0,!0);break;case"yyy":n=We(0,3,0,!1,!0);break;case"yyyy":n=We(0,4,0,!1,!0);break;case"Y":n=Ic(1);break;case"YY":n=Ic(2,!0);break;case"YYY":n=Ic(3);break;case"YYYY":n=Ic(4);break;case"M":case"L":n=We(1,1,1);break;case"MM":case"LL":n=We(1,2,1);break;case"MMM":n=Se(2,_e.Abbreviated);break;case"MMMM":n=Se(2,_e.Wide);break;case"MMMMM":n=Se(2,_e.Narrow);break;case"LLL":n=Se(2,_e.Abbreviated,_t.Standalone);break;case"LLLL":n=Se(2,_e.Wide,_t.Standalone);break;case"LLLLL":n=Se(2,_e.Narrow,_t.Standalone);break;case"w":n=Mh(1);break;case"ww":n=Mh(2);break;case"W":n=Mh(1,!0);break;case"d":n=We(2,1);break;case"dd":n=We(2,2);break;case"c":case"cc":n=We(7,1);break;case"ccc":n=Se(1,_e.Abbreviated,_t.Standalone);break;case"cccc":n=Se(1,_e.Wide,_t.Standalone);break;case"ccccc":n=Se(1,_e.Narrow,_t.Standalone);break;case"cccccc":n=Se(1,_e.Short,_t.Standalone);break;case"E":case"EE":case"EEE":n=Se(1,_e.Abbreviated);break;case"EEEE":n=Se(1,_e.Wide);break;case"EEEEE":n=Se(1,_e.Narrow);break;case"EEEEEE":n=Se(1,_e.Short);break;case"a":case"aa":case"aaa":n=Se(0,_e.Abbreviated);break;case"aaaa":n=Se(0,_e.Wide);break;case"aaaaa":n=Se(0,_e.Narrow);break;case"b":case"bb":case"bbb":n=Se(0,_e.Abbreviated,_t.Standalone,!0);break;case"bbbb":n=Se(0,_e.Wide,_t.Standalone,!0);break;case"bbbbb":n=Se(0,_e.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":n=Se(0,_e.Abbreviated,_t.Format,!0);break;case"BBBB":n=Se(0,_e.Wide,_t.Format,!0);break;case"BBBBB":n=Se(0,_e.Narrow,_t.Format,!0);break;case"h":n=We(3,1,-12);break;case"hh":n=We(3,2,-12);break;case"H":n=We(3,1);break;case"HH":n=We(3,2);break;case"m":n=We(4,1);break;case"mm":n=We(4,2);break;case"s":n=We(5,1);break;case"ss":n=We(5,2);break;case"S":n=We(6,1);break;case"SS":n=We(6,2);break;case"SSS":n=We(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Sc(0);break;case"ZZZZZ":n=Sc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Sc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Sc(2);break;default:return null}return xh[e]=n,n}function $y(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function jx(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function Bx(e,n,t){let r=e.getTimezoneOffset(),o=$y(n,r);return jx(e,-1*(o-r))}function Ux(e){if(Ey(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,o=1,s=1]=e.split("-").map(a=>+a);return xc(r,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(Nx))return Hx(i)}let n=new Date(e);if(!Ey(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function Hx(e){let n=new Date(0),t=0,i=0,r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-i,l=Number(e[6]||0),d=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,d),n}function Ey(e){return e instanceof Date&&!isNaN(e.valueOf())}var $x=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Sy=22,Tc=".",Hs="0",qx=";",zx=",",Th="#",Iy="\xA4";function Gx(e,n,t,i,r,o,s=!1){let a="",l=!1;if(!isFinite(e))a=Fn(t,Ft.Infinity);else{let d=Qx(e);s&&(d=Yx(d));let p=n.minInt,m=n.minFrac,v=n.maxFrac;if(o){let nt=o.match($x);if(nt===null)throw new Error(`${o} is not a valid digit info`);let Te=nt[1],Ki=nt[3],Ta=nt[5];Te!=null&&(p=Rh(Te)),Ki!=null&&(m=Rh(Ki)),Ta!=null?v=Rh(Ta):Ki!=null&&m>v&&(v=m)}Zx(d,m,v);let _=d.digits,E=d.integerLen,T=d.exponent,F=[];for(l=_.every(nt=>!nt);E<p;E++)_.unshift(0);for(;E<0;E++)_.unshift(0);E>0?F=_.splice(E,_.length):(F=_,_=[0]);let G=[];for(_.length>=n.lgSize&&G.unshift(_.splice(-n.lgSize,_.length).join(""));_.length>n.gSize;)G.unshift(_.splice(-n.gSize,_.length).join(""));_.length&&G.unshift(_.join("")),a=G.join(Fn(t,i)),F.length&&(a+=Fn(t,r)+F.join("")),T&&(a+=Fn(t,Ft.Exponential)+"+"+T)}return e<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function qy(e,n,t,i,r){let o=Fy(n,Oh.Currency),s=Wx(o,Fn(n,Ft.MinusSign));return s.minFrac=Uy(i),s.maxFrac=s.minFrac,Gx(e,s,n,Ft.CurrencyGroup,Ft.CurrencyDecimal,r).replace(Iy,t).replace(Iy,"").trim()}function Wx(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(qx),r=i[0],o=i[1],s=r.indexOf(Tc)!==-1?r.split(Tc):[r.substring(0,r.lastIndexOf(Hs)+1),r.substring(r.lastIndexOf(Hs)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(Th));for(let p=0;p<l.length;p++){let m=l.charAt(p);m===Hs?t.minFrac=t.maxFrac=p+1:m===Th?t.maxFrac=p+1:t.posSuf+=m}let d=a.split(zx);if(t.gSize=d[1]?d[1].length:0,t.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let p=r.length-t.posPre.length-t.posSuf.length,m=o.indexOf(Th);t.negPre=o.substring(0,m).replace(/'/g,""),t.negSuf=o.slice(m+p).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function Yx(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function Qx(e){let n=Math.abs(e)+"",t=0,i,r,o,s,a;for((r=n.indexOf(Tc))>-1&&(n=n.replace(Tc,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===Hs;o++);if(o===(a=n.length))i=[0],r=1;else{for(a--;n.charAt(a)===Hs;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(n.charAt(o))}return r>Sy&&(i=i.splice(0,Sy-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function Zx(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(n,r),t),s=o+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let m=s;m<i.length;m++)i[m]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let m=1;m<s;m++)i[m]=0}if(a>=5)if(s-1<0){for(let m=0;m>s;m--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,d=n+e.integerLen,p=i.reduceRight(function(m,v,_,E){return v=v+m,E[_]=v<10?v:v-10,l&&(E[_]===0&&_>=d?E.pop():l=!1),v>=10?1:0},0);p&&(i.unshift(p),e.integerLen++)}function Rh(e){let n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}var Nh=/\s+/,My=[],Ct=(()=>{class e{_ngEl;_renderer;initialClasses=My;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Nh):My}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Nh):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Nh).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(C(Ge),C(mn))};static \u0275dir=de({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Rc=class{$implicit;ngForOf;index;count;constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},He=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Rc(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),xy(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);xy(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||e)(C(di),C(ii),C(wh))};static \u0275dir=de({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function xy(e,n){e.context.$implicit=n.item}var re=(()=>{class e{_viewContainer;_context=new Nc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ty(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ty(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||e)(C(di),C(ii))};static \u0275dir=de({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Nc=class{$implicit=null;ngIf=null};function Ty(e,n){if(e&&!e.createEmbeddedView)throw new A(2020,!1)}var kh=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=t===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})();function Ah(e,n){return new A(2100,!1)}var Kx="mediumDate",zy=new k(""),Gy=new k(""),Ut=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??Kx,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ph(t,s,o||this.locale,a)}catch(s){throw Ah(e,s.message)}}static \u0275fac=function(i){return new(i||e)(C(xo,16),C(zy,24),C(Gy,24))};static \u0275pipe=mc({name:"date",type:e,pure:!0})}return e})();var Fh=(()=>{class e{_locale;_defaultCurrencyCode;constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",o,s){if(!Jx(t))return null;s||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=By(a,r==="symbol"?"wide":"narrow",s):a=r);try{let l=Xx(t);return qy(l,s,a,i,o)}catch(l){throw Ah(e,l.message)}}static \u0275fac=function(i){return new(i||e)(C(xo,16),C(_y,16))};static \u0275pipe=mc({name:"currency",type:e,pure:!0})}return e})();function Jx(e){return!(e==null||e===""||e!==e)}function Xx(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var Lh=(()=>{class e{transform(t,i,r){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw Ah(e,t);return t.slice(i,r)}static \u0275fac=function(i){return new(i||e)};static \u0275pipe=mc({name:"slice",type:e,pure:!1})}return e})();var Ie=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})();function $s(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Vh="browser",Wy="server";function Pc(e){return e===Wy}var Dr=class{};var Yy=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new jh(b(Ne),window)})}return e})(),jh=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=iT(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function iT(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var Fc=new k(""),$h=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||e)(P(Fc),P(Ce))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),qs=class{_doc;constructor(n){this._doc=n}manager},kc="ng-app-id";function Qy(e){for(let n of e)n.remove()}function Zy(e,n){let t=n.createElement("style");return t.textContent=e,t}function rT(e,n,t,i){let r=e.head?.querySelectorAll(`style[${kc}="${n}"],link[${kc}="${n}"]`);if(r)for(let o of r)o.removeAttribute(kc),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Uh(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var qh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Pc(o),rT(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,Zy);i?.forEach(r=>this.addUsage(r,this.external,Uh))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(Qy(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Qy(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,Zy(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Uh(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(kc,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||e)(P(Ne),P(oc),P(Jp,8),P(ci))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Bh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zh=/%COMP%/g;var Jy="%COMP%",oT=`_nghost-${Jy}`,sT=`_ngcontent-${Jy}`,aT=!0,lT=new k("",{providedIn:"root",factory:()=>aT});function cT(e){return sT.replace(zh,e)}function uT(e){return oT.replace(zh,e)}function Xy(e,n){return n.map(t=>t.replace(zh,e))}var Gh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l,d=null,p=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=p,this.platformIsServer=Pc(a),this.defaultRenderer=new zs(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Tn.ShadowDom&&(i=H(I({},i),{encapsulation:Tn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Ac?r.applyToHost(t):r instanceof Gs&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer,v=this.tracingService;switch(i.encapsulation){case Tn.Emulated:o=new Ac(l,d,i,this.appId,p,s,a,m,v);break;case Tn.ShadowDom:return new Hh(l,d,t,i,s,a,this.nonce,m,v);default:o=new Gs(l,d,i,p,s,a,m,v);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||e)(P($h),P(qh),P(oc),P(lT),P(Ne),P(ci),P(Ce),P(Jp),P(So,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),zs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,i,r,o){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Bh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Ky(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(Ky(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new A(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=Bh[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=Bh[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(ni.DashCase|ni.Important)?n.style.setProperty(t,i,r&ni.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&ni.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i,r){if(typeof n=="string"&&(n=on().getGlobalEventTarget(this.doc,n),!n))throw new A(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,r)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Ky(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Hh=class extends zs{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,i,r,o,s,a,l,d){super(n,o,s,l,d),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=r.styles;p=Xy(r.id,p);for(let v of p){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=v,this.shadowRoot.appendChild(_)}let m=r.getExternalStyles?.();if(m)for(let v of m){let _=Uh(v,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gs=class extends zs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,i,r,o,s,a,l,d){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let p=i.styles;this.styles=d?Xy(d,p):p,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ac=class extends Gs{contentAttr;hostAttr;constructor(n,t,i,r,o,s,a,l,d){let p=r+"-"+i.id;super(n,t,i,o,s,a,l,d,p),this.contentAttr=cT(p),this.hostAttr=uT(p)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}};var Lc=class e extends Ls{supportsDOMEvents=!0;static makeCurrent(){Eh(new e)}onAndCancel(n,t,i,r){return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=dT();return t==null?null:fT(t)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return $s(document.cookie,n)}},Ws=null;function dT(){return Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null}function fT(e){return new URL(e,document.baseURI).pathname}var pT=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),tb=(()=>{class e extends qs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(P(Ne))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),eb=["alt","control","meta","shift"],hT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},nb=(()=>{class e extends qs{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>on().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),eb.forEach(d=>{let p=i.indexOf(d);p>-1&&(i.splice(p,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=hT[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),eb.forEach(s=>{if(s!==r){let a=mT[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||e)(P(Ne))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function Wh(e,n){return vy(I({rootComponent:e},gT(n)))}function gT(e){return{appProviders:[...DT,...e?.providers??[]],platformProviders:bT}}function _T(){Lc.makeCurrent()}function vT(){return new xn}function yT(){return H_(document),document}var bT=[{provide:ci,useValue:Vh},{provide:Kp,useValue:_T,multi:!0},{provide:Ne,useFactory:yT}];var DT=[{provide:Zl,useValue:"root"},{provide:xn,useFactory:vT},{provide:Fc,useClass:tb,multi:!0,deps:[Ne]},{provide:Fc,useClass:nb,multi:!0,deps:[Ne]},Gh,qh,$h,{provide:po,useExisting:Gh},{provide:Dr,useClass:pT},[]];var No=class{},Ys=class{},at=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,t);let r=(n.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(n,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var jc=class{encodeKey(n){return ib(n)}encodeValue(n){return ib(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function CT(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var wT=/%(\d[a-f0-9])/gi,ET={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ib(e){return encodeURIComponent(e).replace(wT,(n,t)=>ET[t]??n)}function Vc(e){return`${e}`}var Lt=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new jc,n.fromString){if(n.fromObject)throw new A(2805,!1);this.map=CT(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let i=n.fromObject[t],r=Array.isArray(i)?i.map(Vc):[Vc(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Vc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Vc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Bc=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function ST(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ob(e){return typeof Blob<"u"&&e instanceof Blob}function sb(e){return typeof FormData<"u"&&e instanceof FormData}function IT(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ab="Content-Type",lb="Accept",ub="X-Request-URL",db="text/plain",fb="application/json",MT=`${fb}, ${db}, */*`,Ro=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,i,r){this.url=t,this.method=n.toUpperCase();let o;if(ST(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new at,this.context??=new Bc,!this.params)this.params=new Lt,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rb(this.body)||ob(this.body)||sb(this.body)||IT(this.body)?this.body:this.body instanceof Lt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sb(this.body)?null:ob(this.body)?this.body.type||null:rb(this.body)?null:typeof this.body=="string"?db:this.body instanceof Lt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?fb:null}clone(n={}){let t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,d=n.headers||this.headers,p=n.params||this.params,m=n.context??this.context;return n.setHeaders!==void 0&&(d=Object.keys(n.setHeaders).reduce((v,_)=>v.set(_,n.setHeaders[_]),d)),n.setParams&&(p=Object.keys(n.setParams).reduce((v,_)=>v.set(_,n.setParams[_]),p)),new e(t,i,s,{params:p,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Cr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Cr||{}),Oo=class{headers;status;statusText;url;ok;type;constructor(n,t=200,i="OK"){this.headers=n.headers||new at,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Uc=class e extends Oo{constructor(n={}){super(n)}type=Cr.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Qs=class e extends Oo{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Cr.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Pi=class extends Oo{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},xT=200,TT=204;function Yh(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var vt=(()=>{class e{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Ro)o=t;else{let l;r.headers instanceof at?l=r.headers:l=new at(r.headers);let d;r.params&&(r.params instanceof Lt?d=r.params:d=new Lt({fromObject:r.params})),o=new Ro(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=L(o).pipe(wn(l=>this.handler.handle(l)));if(t instanceof Ro||r.observe==="events")return s;let a=s.pipe(Le(l=>l instanceof Qs));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new A(2806,!1);return l.body}));case"blob":return a.pipe(Z(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new A(2807,!1);return l.body}));case"text":return a.pipe(Z(l=>{if(l.body!==null&&typeof l.body!="string")throw new A(2808,!1);return l.body}));case"json":default:return a.pipe(Z(l=>l.body))}case"response":return a;default:throw new A(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Lt().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Yh(r,i))}post(t,i,r={}){return this.request("POST",t,Yh(r,i))}put(t,i,r={}){return this.request("PUT",t,Yh(r,i))}static \u0275fac=function(i){return new(i||e)(P(No))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var RT=new k("");function pb(e,n){return n(e)}function NT(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}function OT(e,n,t){return(i,r)=>Rt(t,()=>n(i,o=>e(o,r)))}var hb=new k(""),$c=new k(""),mb=new k(""),Zh=new k("",{providedIn:"root",factory:()=>!0});function PT(){let e=null;return(n,t)=>{e===null&&(e=(b(hb,{optional:!0})??[]).reduceRight(NT,pb));let i=b(li);if(b(Zh)){let o=i.add();return e(n,t).pipe(It(()=>i.remove(o)))}else return e(n,t)}}var Hc=(()=>{class e extends No{backend;injector;chain=null;pendingTasks=b(li);contributeToStability=b(Zh);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get($c),...this.injector.get(mb,[])]));this.chain=i.reduceRight((r,o)=>OT(r,o,this.injector),pb)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(It(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(P(Ys),P(Xe))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var kT=/^\)\]\}',?\n/,AT=RegExp(`^${ub}:`,"m");function FT(e){return"responseURL"in e&&e.responseURL?e.responseURL:AT.test(e.getAllResponseHeaders())?e.getResponseHeader(ub):null}var Qh=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new A(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ye(i.\u0275loadImpl()):L(null)).pipe(Ve(()=>new Y(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,F)=>s.setRequestHeader(T,F.join(","))),t.headers.has(lb)||s.setRequestHeader(lb,MT),!t.headers.has(ab)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(ab,T)}if(t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let T=s.statusText||"OK",F=new at(s.getAllResponseHeaders()),G=FT(s)||t.url;return l=new Uc({headers:F,status:s.status,statusText:T,url:G}),l},p=()=>{let{headers:T,status:F,statusText:G,url:nt}=d(),Te=null;F!==TT&&(Te=typeof s.response>"u"?s.responseText:s.response),F===0&&(F=Te?xT:0);let Ki=F>=200&&F<300;if(t.responseType==="json"&&typeof Te=="string"){let Ta=Te;Te=Te.replace(kT,"");try{Te=Te!==""?JSON.parse(Te):null}catch(ND){Te=Ta,Ki&&(Ki=!1,Te={error:ND,text:Te})}}Ki?(o.next(new Qs({body:Te,headers:T,status:F,statusText:G,url:nt||void 0})),o.complete()):o.error(new Pi({error:Te,headers:T,status:F,statusText:G,url:nt||void 0}))},m=T=>{let{url:F}=d(),G=new Pi({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(G)},v=!1,_=T=>{v||(o.next(d()),v=!0);let F={type:Cr.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(F.total=T.total),t.responseType==="text"&&s.responseText&&(F.partialText=s.responseText),o.next(F)},E=T=>{let F={type:Cr.UploadProgress,loaded:T.loaded};T.lengthComputable&&(F.total=T.total),o.next(F)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",E)),s.send(a),o.next({type:Cr.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(P(Dr))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),gb=new k(""),LT="XSRF-TOKEN",VT=new k("",{providedIn:"root",factory:()=>LT}),jT="X-XSRF-TOKEN",BT=new k("",{providedIn:"root",factory:()=>jT}),Zs=class{},UT=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$s(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||e)(P(Ne),P(ci),P(VT))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function HT(e,n){let t=e.url.toLowerCase();if(!b(gb)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let i=b(Zs).getToken(),r=b(BT);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var qc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(qc||{});function _b(e,n){return{\u0275kind:e,\u0275providers:n}}function zc(...e){let n=[vt,Qh,Hc,{provide:No,useExisting:Hc},{provide:Ys,useFactory:()=>b(RT,{optional:!0})??b(Qh)},{provide:$c,useValue:HT,multi:!0},{provide:gb,useValue:!0},{provide:Zs,useClass:UT}];for(let t of e)n.push(...t.\u0275providers);return go(n)}function Kh(e){return _b(qc.Interceptors,e.map(n=>({provide:$c,useValue:n,multi:!0})))}var cb=new k("");function vb(){return _b(qc.LegacyInterceptors,[{provide:cb,useFactory:PT},{provide:$c,useExisting:cb,multi:!0}])}var Jh=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({providers:[zc(vb())]})}return e})();var yb=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||e)(P(Ne))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var J="primary",ca=Symbol("RouteTitle"),im=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ir(e){return new im(e)}function Mb(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function qT(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ln(e[t],n[t]))return!1;return!0}function Ln(e,n){let t=e?rm(e):void 0,i=n?rm(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!xb(e[r],n[r]))return!1;return!0}function rm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function xb(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function Tb(e){return e.length>0?e[e.length-1]:null}function Vi(e){return nf(e)?e:vr(e)?ye(Promise.resolve(e)):L(e)}var zT={exact:Nb,subset:Ob},Rb={exact:GT,subset:WT,ignored:()=>!0};function bb(e,n,t){return zT[t.paths](e.root,n.root,t.matrixParams)&&Rb[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function GT(e,n){return Ln(e,n)}function Nb(e,n,t){if(!Er(e.segments,n.segments)||!Yc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!Nb(e.children[i],n.children[i],t))return!1;return!0}function WT(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>xb(e[t],n[t]))}function Ob(e,n,t){return Pb(e,n,n.segments,t)}function Pb(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!Er(r,t)||n.hasChildren()||!Yc(r,t,i))}else if(e.segments.length===t.length){if(!Er(e.segments,t)||!Yc(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!Ob(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Er(e.segments,r)||!Yc(e.segments,r,i)||!e.children[J]?!1:Pb(e.children[J],n,o,i)}}function Yc(e,n,t){return n.every((i,r)=>Rb[t](e[r].parameters,i.parameters))}var jn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new pe([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ir(this.queryParams),this._queryParamMap}toString(){return ZT.serialize(this)}},pe=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qc(this)}},ki=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ir(this.parameters),this._parameterMap}toString(){return Ab(this)}};function YT(e,n){return Er(e,n)&&e.every((t,i)=>Ln(t.parameters,n[i].parameters))}function Er(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function QT(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===J&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==J&&(t=t.concat(n(r,i)))}),t}var Mr=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>new Ai,providedIn:"root"})}return e})(),Ai=class{parse(n){let t=new sm(n);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Ks(n.root,!0)}`,i=XT(n.queryParams),r=typeof n.fragment=="string"?`#${KT(n.fragment)}`:"";return`${t}${i}${r}`}},ZT=new Ai;function Qc(e){return e.segments.map(n=>Ab(n)).join("/")}function Ks(e,n){if(!e.hasChildren())return Qc(e);if(n){let t=e.children[J]?Ks(e.children[J],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==J&&i.push(`${r}:${Ks(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=QT(e,(i,r)=>r===J?[Ks(e.children[J],!1)]:[`${r}:${Ks(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[J]!=null?`${Qc(e)}/${t[0]}`:`${Qc(e)}/(${t.join("//")})`}}function kb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gc(e){return kb(e).replace(/%3B/gi,";")}function KT(e){return encodeURI(e)}function om(e){return kb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zc(e){return decodeURIComponent(e)}function Db(e){return Zc(e.replace(/\+/g,"%20"))}function Ab(e){return`${om(e.path)}${JT(e.parameters)}`}function JT(e){return Object.entries(e).map(([n,t])=>`;${om(n)}=${om(t)}`).join("")}function XT(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Gc(t)}=${Gc(r)}`).join("&"):`${Gc(t)}=${Gc(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var eR=/^[^\/()?;#]+/;function Xh(e){let n=e.match(eR);return n?n[0]:""}var tR=/^[^\/()?;=#]+/;function nR(e){let n=e.match(tR);return n?n[0]:""}var iR=/^[^=?&#]+/;function rR(e){let n=e.match(iR);return n?n[0]:""}var oR=/^[^&#]+/;function sR(e){let n=e.match(oR);return n?n[0]:""}var sm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[J]=new pe(n,t)),i}parseSegment(){let n=Xh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(n),new ki(Zc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=nR(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Xh(this.remaining);r&&(i=r,this.capture(i))}n[Zc(t)]=Zc(i)}parseQueryParam(n){let t=rR(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=sR(this.remaining);s&&(i=s,this.capture(i))}let r=Db(t),o=Db(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Xh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new A(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=J);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[J]:new pe([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new A(4011,!1)}};function Fb(e){return e.segments.length>0?new pe([],{[J]:e}):e}function Lb(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=Lb(r);if(i===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new pe(e.segments,n);return aR(t)}function aR(e){if(e.numberOfChildren===1&&e.children[J]){let n=e.children[J];return new pe(e.segments.concat(n.segments),n.children)}return e}function Fi(e){return e instanceof jn}function Vb(e,n,t=null,i=null){let r=jb(e);return Bb(r,n,t,i)}function jb(e){let n;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new pe(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=Fb(i);return n??r}function Bb(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return em(r,r,r,t,i);let o=lR(n);if(o.toRoot())return em(r,r,new pe([],{}),t,i);let s=cR(o,r,e),a=s.processChildren?Xs(s.segmentGroup,s.index,o.commands):Hb(s.segmentGroup,s.index,o.commands);return em(r,s.segmentGroup,a,t,i)}function Jc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ta(e){return typeof e=="object"&&e!=null&&e.outlets}function em(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;e===n?s=t:s=Ub(e,n,t);let a=Fb(Lb(s));return new jn(a,o,r)}function Ub(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=Ub(o,n,t)}),new pe(e.segments,i)}var Xc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Jc(i[0]))throw new A(4003,!1);let r=i.find(ta);if(r&&r!==Tb(i))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Xc(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Xc(t,n,i)}var Ao=class{segmentGroup;processChildren;index;constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function cR(e,n,t){if(e.isAbsolute)return new Ao(n,!0,0);if(!t)return new Ao(n,!1,NaN);if(t.parent===null)return new Ao(t,!0,0);let i=Jc(e.commands[0])?0:1,r=t.segments.length-1+i;return uR(t,r,e.numberOfDoubleDots)}function uR(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new A(4005,!1);r=i.segments.length}return new Ao(i,!1,r-o)}function dR(e){return ta(e[0])?e[0].outlets:{[J]:e}}function Hb(e,n,t){if(e??=new pe([],{}),e.segments.length===0&&e.hasChildren())return Xs(e,n,t);let i=fR(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new pe(e.segments.slice(0,i.pathIndex),{});return o.children[J]=new pe(e.segments.slice(i.pathIndex),e.children),Xs(o,0,r)}else return i.match&&r.length===0?new pe(e.segments,{}):i.match&&!e.hasChildren()?am(e,n,t):i.match?Xs(e,0,r):am(e,n,t)}function Xs(e,n,t){if(t.length===0)return new pe(e.segments,{});{let i=dR(t),r={};if(Object.keys(i).some(o=>o!==J)&&e.children[J]&&e.numberOfChildren===1&&e.children[J].segments.length===0){let o=Xs(e.children[J],n,t);return new pe(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Hb(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new pe(e.segments,r)}}function fR(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(ta(a))break;let l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!wb(l,d,s))return o;i+=2}else{if(!wb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function am(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(ta(o)){let l=pR(o.outlets);return new pe(i,l)}if(r===0&&Jc(t[0])){let l=e.segments[n];i.push(new ki(l.path,Cb(t[0]))),r++;continue}let s=ta(o)?o.outlets[J]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Jc(a)?(i.push(new ki(s,Cb(a))),r+=2):(i.push(new ki(s,{})),r++)}return new pe(i,{})}function pR(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=am(new pe([],{}),0,i))}),n}function Cb(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function wb(e,n,t){return e==t.path&&Ln(n,t.parameters)}var Kc="imperative",et=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(et||{}),qt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Li=class extends qt{type=et.NavigationStart;navigationTrigger;restoredState;constructor(n,t,i="imperative",r=null){super(n,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wt=class extends qt{urlAfterRedirects;type=et.NavigationEnd;constructor(n,t,i){super(n,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Vt||{}),Lo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Lo||{}),Vn=class extends qt{reason;code;type=et.NavigationCancel;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bn=class extends qt{reason;code;type=et.NavigationSkipped;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}},Vo=class extends qt{error;target;type=et.NavigationError;constructor(n,t,i,r){super(n,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},na=class extends qt{urlAfterRedirects;state;type=et.RoutesRecognized;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eu=class extends qt{urlAfterRedirects;state;type=et.GuardsCheckStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tu=class extends qt{urlAfterRedirects;state;shouldActivate;type=et.GuardsCheckEnd;constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nu=class extends qt{urlAfterRedirects;state;type=et.ResolveStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iu=class extends qt{urlAfterRedirects;state;type=et.ResolveEnd;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ru=class{route;type=et.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ou=class{route;type=et.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},su=class{snapshot;type=et.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},au=class{snapshot;type=et.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lu=class{snapshot;type=et.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cu=class{snapshot;type=et.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jo=class{routerEvent;position;anchor;type=et.Scroll;constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},ia=class{},Bo=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function hR(e,n){return e.providers&&!e._injector&&(e._injector=Ts(e.providers,n,`Route: ${e.path}`)),e._injector??n}function bn(e){return e.outlet||J}function mR(e,n){let t=e.filter(i=>bn(i)===n);return t.push(...e.filter(i=>bn(i)!==n)),t}function ua(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var uu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ua(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new xr(this.rootInjector)}},xr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new uu(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||e)(P(Xe))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),du=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=lm(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=lm(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=cm(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return cm(n,this._root).map(t=>t.value)}};function lm(e,n){if(e===n.value)return n;for(let t of n.children){let i=lm(e,t);if(i)return i}return null}function cm(e,n){if(e===n.value)return[n];for(let t of n.children){let i=cm(e,t);if(i.length)return i.unshift(n),i}return[]}var $t=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function ko(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ra=class extends du{snapshot;constructor(n,t){super(n),this.snapshot=t,_m(this,n)}toString(){return this.snapshot.toString()}};function $b(e){let n=gR(e),t=new le([new ki("",{})]),i=new le({}),r=new le({}),o=new le({}),s=new le(""),a=new lt(t,i,o,s,r,J,e,n.root);return a.snapshot=n.root,new ra(new $t(a,[]),n)}function gR(e){let n={},t={},i={},r="",o=new Sr([],n,i,r,t,J,e,null,{});return new oa("",new $t(o,[]))}var lt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Z(d=>d[ca]))??L(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(n=>Ir(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(n=>Ir(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fu(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:I(I({},n.params),e.params),data:I(I({},n.data),e.data),resolve:I(I(I(I({},e.data),n.data),r?.data),e._resolvedData)}:i={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},r&&zb(r)&&(i.resolve[ca]=r.title),i}var Sr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ca]}constructor(n,t,i,r,o,s,a,l,d){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ir(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ir(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},oa=class extends du{url;constructor(n,t){super(t),this.url=n,_m(this,t)}toString(){return qb(this._root)}};function _m(e,n){n.value._routerState=e,n.children.forEach(t=>_m(e,t))}function qb(e){let n=e.children.length>0?` { ${e.children.map(qb).join(", ")} } `:"";return`${e.value}${n}`}function tm(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ln(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ln(n.params,t.params)||e.paramsSubject.next(t.params),qT(n.url,t.url)||e.urlSubject.next(t.url),Ln(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function um(e,n){let t=Ln(e.params,n.params)&&YT(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||um(e.parent,n.parent))}function zb(e){return typeof e.title=="string"||e.title===null}var Gb=new k(""),da=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new me;deactivateEvents=new me;attachEvents=new me;detachEvents=new me;routerOutletData=k_(void 0);parentContexts=b(xr);location=b(di);changeDetector=b(kn);inputBinder=b(fa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new dm(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Dt]})}return e})(),dm=class{route;childContexts;parent;outletData;constructor(n,t,i,r){this.route=n,this.childContexts=t,this.parent=i,this.outletData=r}get(n,t){return n===lt?this.route:n===xr?this.childContexts:n===Gb?this.outletData:this.parent.get(n,t)}},fa=new k(""),vm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Kr([i.queryParams,i.params,i.data]).pipe(Ve(([o,s,a],l)=>(a=I(I(I({},o),s),a),l===0?L(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=yy(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function _R(e,n,t){let i=sa(e,n._root,t?t._root:void 0);return new ra(i,n)}function sa(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=vR(e,n,t);return new $t(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>sa(e,a)),s}}let i=yR(n.value),r=n.children.map(o=>sa(e,o));return new $t(i,r)}}function vR(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return sa(e,i,r);return sa(e,i)})}function yR(e){return new lt(new le(e.url),new le(e.params),new le(e.queryParams),new le(e.fragment),new le(e.data),e.outlet,e.component,e)}var Uo=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Wb="ngNavigationCancelingError";function pu(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=Fi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=Yb(!1,Vt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Yb(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Wb]=!0,t.cancellationCode=n,t}function bR(e){return Qb(e)&&Fi(e.url)}function Qb(e){return!!e&&e[Wb]}var DR=(e,n,t,i)=>Z(r=>(new fm(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),fm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),tm(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=ko(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=ko(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=ko(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=ko(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new cu(o.value.snapshot))}),n.children.length&&this.forwardEvent(new au(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(tm(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tm(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},hu=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Fo=class{component;route;constructor(n,t){this.component=n,this.route=t}};function CR(e,n,t){let i=e._root,r=n?n._root:null;return Js(i,r,t,[i.value])}function wR(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function $o(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!k0(e)?e:n.get(e):i}function Js(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ko(n);return e.children.forEach(s=>{ER(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ea(a,t.getContext(s),r)),r}function ER(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=SR(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new hu(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Js(e,n,a?a.children:null,i,r):Js(e,n,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fo(a.outlet.component,s))}else s&&ea(n,a,r),r.canActivateChecks.push(new hu(i)),o.component?Js(e,null,a?a.children:null,i,r):Js(e,null,t,i,r);return r}function SR(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Er(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Er(e.url,n.url)||!Ln(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(e,n)||!Ln(e.queryParams,n.queryParams);case"paramsChange":default:return!um(e,n)}}function ea(e,n,t){let i=ko(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?ea(s,n.children.getContext(o),t):ea(s,null,t):ea(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Fo(n.outlet.component,r)):t.canDeactivateChecks.push(new Fo(null,r)):t.canDeactivateChecks.push(new Fo(null,r))}function pa(e){return typeof e=="function"}function IR(e){return typeof e=="boolean"}function MR(e){return e&&pa(e.canLoad)}function xR(e){return e&&pa(e.canActivate)}function TR(e){return e&&pa(e.canActivateChild)}function RR(e){return e&&pa(e.canDeactivate)}function NR(e){return e&&pa(e.canMatch)}function Zb(e){return e instanceof Kn||e?.name==="EmptyError"}var Wc=Symbol("INITIAL_VALUE");function Ho(){return Ve(e=>Kr(e.map(n=>n.pipe(St(1),ll(Wc)))).pipe(Z(n=>{for(let t of n)if(t!==!0){if(t===Wc)return Wc;if(t===!1||OR(t))return t}return!0}),Le(n=>n!==Wc),St(1)))}function OR(e){return Fi(e)||e instanceof Uo}function PR(e,n){return Re(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?L(H(I({},t),{guardsResult:!0})):kR(s,i,r,e).pipe(Re(a=>a&&IR(a)?AR(i,o,e,n):L(a)),Z(a=>H(I({},t),{guardsResult:a})))})}function kR(e,n,t,i){return ye(e).pipe(Re(r=>BR(r.component,r.route,t,n,i)),Jn(r=>r!==!0,!0))}function AR(e,n,t,i){return ye(n).pipe(wn(r=>Ci(LR(r.route.parent,i),FR(r.route,i),jR(e,r.path,t),VR(e,r.route,t))),Jn(r=>r!==!0,!0))}function FR(e,n){return e!==null&&n&&n(new lu(e)),L(!0)}function LR(e,n){return e!==null&&n&&n(new su(e)),L(!0)}function VR(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return L(!0);let r=i.map(o=>ol(()=>{let s=ua(n)??t,a=$o(o,s),l=xR(a)?a.canActivate(n,e):Rt(s,()=>a(n,e));return Vi(l).pipe(Jn())}));return L(r).pipe(Ho())}function jR(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>wR(s)).filter(s=>s!==null).map(s=>ol(()=>{let a=s.guards.map(l=>{let d=ua(s.node)??t,p=$o(l,d),m=TR(p)?p.canActivateChild(i,e):Rt(d,()=>p(i,e));return Vi(m).pipe(Jn())});return L(a).pipe(Ho())}));return L(o).pipe(Ho())}function BR(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let s=o.map(a=>{let l=ua(n)??r,d=$o(a,l),p=RR(d)?d.canDeactivate(e,n,t,i):Rt(l,()=>d(e,n,t,i));return Vi(p).pipe(Jn())});return L(s).pipe(Ho())}function UR(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return L(!0);let o=r.map(s=>{let a=$o(s,e),l=MR(a)?a.canLoad(n,t):Rt(e,()=>a(n,t));return Vi(l)});return L(o).pipe(Ho(),Kb(i))}function Kb(e){return Kd(je(n=>{if(typeof n!="boolean")throw pu(e,n)}),Z(n=>n===!0))}function HR(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return L(!0);let o=r.map(s=>{let a=$o(s,e),l=NR(a)?a.canMatch(n,t):Rt(e,()=>a(n,t));return Vi(l)});return L(o).pipe(Ho(),Kb(i))}var aa=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},la=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Po(e){return Pe(new aa(e))}function $R(e){return Pe(new A(4e3,!1))}function qR(e){return Pe(Yb(!1,Vt.GuardRejected))}var pm=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return L(i);if(r.numberOfChildren>1||!r.children[J])return $R(`${n.redirectTo}`);r=r.children[J]}}applyRedirectCommands(n,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:p,url:m,outlet:v,params:_,data:E,title:T}=r,F=Rt(o,()=>a({params:_,data:E,queryParams:l,fragment:d,routeConfig:p,url:m,outlet:v,title:T}));if(F instanceof jn)throw new la(F);t=F}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t[0]==="/")throw new la(s);return s}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new jn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new pe(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new A(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}},hm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zR(e,n,t,i,r){let o=Jb(e,n,t);return o.matched?(i=hR(n,i),HR(i,n,t,r).pipe(Z(s=>s===!0?o:I({},hm)))):L(o)}function Jb(e,n,t){if(n.path==="**")return GR(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?I({},hm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||Mb)(t,e,n);if(!r)return I({},hm);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?I(I({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function GR(e){return{matched:!0,parameters:e.length>0?Tb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Eb(e,n,t,i){return t.length>0&&QR(e,t,i)?{segmentGroup:new pe(n,YR(i,new pe(t,e.children))),slicedSegments:[]}:t.length===0&&ZR(e,t,i)?{segmentGroup:new pe(e.segments,WR(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new pe(e.segments,e.children),slicedSegments:t}}function WR(e,n,t,i){let r={};for(let o of t)if(gu(e,n,o)&&!i[bn(o)]){let s=new pe([],{});r[bn(o)]=s}return I(I({},i),r)}function YR(e,n){let t={};t[J]=n;for(let i of e)if(i.path===""&&bn(i)!==J){let r=new pe([],{});t[bn(i)]=r}return t}function QR(e,n,t){return t.some(i=>gu(e,n,i)&&bn(i)!==J)}function ZR(e,n,t){return t.some(i=>gu(e,n,i))}function gu(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function KR(e,n,t){return n.length===0&&!e.children[t]}var mm=class{};function JR(e,n,t,i,r,o,s="emptyOnly"){return new gm(e,n,t,i,r,s,o).recognize()}var XR=31,gm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new pm(this.urlSerializer,this.urlTree)}noMatchError(n){return new A(4002,`'${n.segmentGroup}'`)}recognize(){let n=Eb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Z(({children:t,rootSnapshot:i})=>{let r=new $t(i,t),o=new oa("",r),s=Vb(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Sr([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,J,t).pipe(Z(i=>({children:i,rootSnapshot:t})),rt(i=>{if(i instanceof la)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof aa?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe(Z(s=>s instanceof $t?[s]:[]))}processChildren(n,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ye(o).pipe(wn(s=>{let a=i.children[s],l=mR(t,s);return this.processSegmentGroup(n,l,a,s,r)}),cf((s,a)=>(s.push(...a),s)),wi(null),lf(),Re(s=>{if(s===null)return Po(i);let a=Xb(s);return eN(a),L(a)}))}processSegment(n,t,i,r,o,s,a){return ye(t).pipe(wn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,i,r,o,s,a).pipe(rt(d=>{if(d instanceof aa)return L(null);throw d}))),Jn(l=>!!l),rt(l=>{if(Zb(l))return KR(i,r,o)?L(new mm):Po(i);throw l}))}processSegmentAgainstRoute(n,t,i,r,o,s,a,l){return bn(i)!==s&&(s===J||!gu(r,o,i))?Po(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s,l):Po(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s,a){let{matched:l,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:v}=Jb(t,r,o);if(!l)return Po(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XR&&(this.allowRedirects=!1));let _=new Sr(o,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Sb(r),bn(r),r.component??r._loadedComponent??null,r,Ib(r)),E=fu(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(E.params),_.data=Object.freeze(E.data);let T=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,m,_,n);return this.applyRedirects.lineralizeSegments(r,T).pipe(Re(F=>this.processSegment(n,i,t,F.concat(v),s,!1,a)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let a=zR(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Ve(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Ve(({routes:d})=>{let p=i._loadedInjector??n,{parameters:m,consumedSegments:v,remainingSegments:_}=l,E=new Sr(v,m,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Sb(i),bn(i),i.component??i._loadedComponent??null,i,Ib(i)),T=fu(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data);let{segmentGroup:F,slicedSegments:G}=Eb(t,v,_,d);if(G.length===0&&F.hasChildren())return this.processChildren(p,d,F,E).pipe(Z(Te=>new $t(E,Te)));if(d.length===0&&G.length===0)return L(new $t(E,[]));let nt=bn(i)===o;return this.processSegment(p,d,F,G,nt?J:o,!0,E).pipe(Z(Te=>new $t(E,Te instanceof $t?[Te]:[])))}))):Po(t)))}getChildConfig(n,t,i){return t.children?L({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?L({routes:t._loadedRoutes,injector:t._loadedInjector}):UR(n,t,i,this.urlSerializer).pipe(Re(r=>r?this.configLoader.loadChildren(n,t).pipe(je(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):qR(t))):L({routes:[],injector:n})}};function eN(e){e.sort((n,t)=>n.value.outlet===J?-1:t.value.outlet===J?1:n.value.outlet.localeCompare(t.value.outlet))}function tN(e){let n=e.value.routeConfig;return n&&n.path===""}function Xb(e){let n=[],t=new Set;for(let i of e){if(!tN(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=Xb(i.children);n.push(new $t(i.value,r))}return n.filter(i=>!t.has(i))}function Sb(e){return e.data||{}}function Ib(e){return e.resolve||{}}function nN(e,n,t,i,r,o){return Re(s=>JR(e,n,t,i,s.extractedUrl,r,o).pipe(Z(({state:a,tree:l})=>H(I({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function iN(e,n){return Re(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return L(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of e1(l))s.add(d);let a=0;return ye(s).pipe(wn(l=>o.has(l)?rN(l,i,e,n):(l.data=fu(l,l.parent,e).resolve,L(void 0))),je(()=>a++),Jr(1),Re(l=>a===s.size?L(t):it))})}function e1(e){let n=e.children.map(t=>e1(t)).flat();return[e,...n]}function rN(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!zb(r)&&(o[ca]=r.title),oN(o,e,n,i).pipe(Z(s=>(e._resolvedData=s,e.data=fu(e,e.parent,t).resolve,null)))}function oN(e,n,t,i){let r=rm(e);if(r.length===0)return L({});let o={};return ye(r).pipe(Re(s=>sN(e[s],n,t,i).pipe(Jn(),je(a=>{if(a instanceof Uo)throw pu(new Ai,a);o[s]=a}))),Jr(1),Z(()=>o),rt(s=>Zb(s)?it:Pe(s)))}function sN(e,n,t,i){let r=ua(n)??i,o=$o(e,r),s=o.resolve?o.resolve(n,t):Rt(r,()=>o(n,t));return Vi(s)}function nm(e){return Ve(n=>{let t=e(n);return t?ye(t).pipe(Z(()=>n)):L(n)})}var ym=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===J);return i}getResolvedTitleForRoute(t){return t.data[ca]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(t1),providedIn:"root"})}return e})(),t1=(()=>{class e extends ym{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(P(yb))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Tr=new k("",{providedIn:"root",factory:()=>({})}),bm=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=V({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&S(0,"router-outlet")},dependencies:[da],encapsulation:2})}return e})();function Dm(e){let n=e.children&&e.children.map(Dm),t=n?H(I({},e),{children:n}):I({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=bm),t}var Rr=new k(""),_u=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(py);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return L(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Vi(t.loadComponent()).pipe(Z(i1),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),It(()=>{this.componentLoaders.delete(t)})),r=new Wr(i,()=>new ae).pipe(Gr());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return L({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=n1(i,this.compiler,t,this.onLoadEndListener).pipe(It(()=>{this.childrenLoaders.delete(i)})),s=new Wr(o,()=>new ae).pipe(Gr());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function n1(e,n,t,i){return Vi(e.loadChildren()).pipe(Z(i1),Re(r=>r instanceof vh||Array.isArray(r)?L(r):ye(n.compileModuleAsync(r))),Z(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Rr,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dm),injector:o}}))}function aN(e){return e&&typeof e=="object"&&"default"in e}function i1(e){return aN(e)?e.default:e}var vu=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(lN),providedIn:"root"})}return e})(),lN=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cm=new k(""),wm=new k("");function r1(e,n,t){let i=e.get(wm),r=e.get(Ne);return e.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),cN(e))),{onViewTransitionCreated:l}=i;return l&&Rt(e,()=>l({transition:a,from:n,to:t})),s})}function cN(e){return new Promise(n=>{Io({read:()=>setTimeout(n)},{injector:e})})}var Em=new k(""),yu=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ae;transitionAbortSubject=new ae;configLoader=b(_u);environmentInjector=b(Xe);destroyRef=b(Do);urlSerializer=b(Mr);rootContexts=b(xr);location=b(Oi);inputBindingEnabled=b(fa,{optional:!0})!==null;titleStrategy=b(ym);options=b(Tr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(vu);createViewTransition=b(Cm,{optional:!0});navigationErrorHandler=b(Em,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>L(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new ru(r)),i=r=>this.events.next(new ou(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(H(I({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new le(null),this.transitions.pipe(Le(i=>i!==null),Ve(i=>{let r=!1,o=!1;return L(i).pipe(Ve(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Vt.SupersededByNewNavigation),it;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?H(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let d="";return this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.rawUrl),d,Lo.IgnoredSameUrlNavigation)),s.resolve(!1),it}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return L(s).pipe(Ve(d=>(this.events.next(new Li(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?it:Promise.resolve(d))),nN(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),je(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=H(I({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new na(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:p,source:m,restoredState:v,extras:_}=s,E=new Li(d,this.urlSerializer.serialize(p),m,v);this.events.next(E);let T=$b(this.rootComponentType).snapshot;return this.currentTransition=i=H(I({},s),{targetSnapshot:T,urlAfterRedirects:p,extras:H(I({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,L(i)}else{let d="";return this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),d,Lo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),it}}),je(s=>{let a=new eu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Z(s=>(this.currentTransition=i=H(I({},s),{guards:CR(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),PR(this.environmentInjector,s=>this.events.next(s)),je(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw pu(this.urlSerializer,s.guardsResult);let a=new tu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Le(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Vt.GuardRejected),!1)),nm(s=>{if(s.guards.canActivateChecks.length!==0)return L(s).pipe(je(a=>{let l=new nu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ve(a=>{let l=!1;return L(a).pipe(iN(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Vt.NoDataFromResolver)}}))}),je(a=>{let l=new iu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),nm(s=>{let a=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(je(p=>{l.component=p}),Z(()=>{})));for(let p of l.children)d.push(...a(p));return d};return Kr(a(s.targetSnapshot.root)).pipe(wi(null),St(1))}),nm(()=>this.afterPreactivation()),Ve(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ye(l).pipe(Z(()=>i)):L(i)}),Z(s=>{let a=_R(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=H(I({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),je(()=>{this.events.next(new ia)}),DR(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),St(1),je({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),ut(this.transitionAbortSubject.pipe(je(s=>{throw s}))),It(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),rt(s=>{if(this.destroyed)return i.resolve(!1),it;if(o=!0,Qb(s))this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),bR(s)?this.events.next(new Bo(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Vo(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Uo){let{message:d,cancellationCode:p}=pu(this.urlSerializer,l);this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.extractedUrl),d,p)),this.events.next(new Bo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return it}))}))}cancelNavigationTransition(t,i,r){let o=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uN(e){return e!==Kc}var o1=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(dN),providedIn:"root"})}return e})(),mu=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},dN=(()=>{class e extends mu{static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),s1=(()=>{class e{urlSerializer=b(Mr);options=b(Tr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Oi);urlHandlingStrategy=b(vu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof jn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=$b(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:()=>b(fN),providedIn:"root"})}return e})(),fN=(()=>{class e extends s1{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Li?this.updateStateMemento():t instanceof Bn?this.commitTransition(i):t instanceof na?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof ia?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Vn&&(t.code===Vt.GuardRejected||t.code===Vt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Vo?this.restoreHistory(i,!0):t instanceof wt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=I(I({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",l)}else{let a=I(I({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bu(e,n){e.events.pipe(Le(t=>t instanceof wt||t instanceof Vn||t instanceof Vo||t instanceof Bn),Z(t=>t instanceof wt||t instanceof Bn?0:(t instanceof Vn?t.code===Vt.Redirect||t.code===Vt.SupersededByNewNavigation:!1)?2:1),Le(t=>t!==2),St(1)).subscribe(()=>{n()})}var pN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},oe=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(Gv);stateManager=b(s1);options=b(Tr,{optional:!0})||{};pendingTasks=b(li);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(yu);urlSerializer=b(Mr);location=b(Oi);urlHandlingStrategy=b(vu);_events=new ae;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(o1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Rr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(fa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vn&&i.code!==Vt.Redirect&&i.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof wt)this.navigated=!0;else if(i instanceof Bo){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=I({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uN(r.source)},s);this.scheduleNavigation(a,Kc,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}gN(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=I({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Dm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=r?r.snapshot:this.routerState.snapshot.root;m=jb(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return Bb(m,t,p,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Fi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Kc,null,i)}navigate(t,i={skipLocationChange:!1}){return mN(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=I({},pN):i===!1?r=I({},hN):r=i,Fi(t))return bb(this.currentUrlTree,t,r);let o=this.parseUrl(t);return bb(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,v)=>{a=m,l=v});let p=this.pendingTasks.add();return bu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mN(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new A(4008,!1)}function gN(e){return!(e instanceof ia)&&!(e instanceof Bo)}var Ye=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ae;constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof wt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:iv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||e)(C(oe),C(lt),rc("tabindex"),C(mn),C(Ge),C(sn))};static \u0275dir=de({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&M("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Ri("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ni],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ni],replaceUrl:[2,"replaceUrl","replaceUrl",Ni],routerLink:"routerLink"},features:[Dt]})}return e})(),ma=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new me;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof wt&&this.update()})}ngAfterContentInit(){L(this.links.changes,L(null)).pipe(Di()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ye(t).pipe(Di()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=_N(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||e)(C(oe),C(Ge),C(mn),C(kn),C(Ye,8))};static \u0275dir=de({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&bh(o,Ye,5),i&2){let s;gn(s=_n())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Dt]})}return e})();function _N(e){return!!e.paths}var ha=class{};var a1=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Le(t=>t instanceof wt),wn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Ts(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ye(r).pipe(Di())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=L(null);let o=r.pipe(Re(s=>s===null?L(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ye([o,s]).pipe(Di())}else return o})}static \u0275fac=function(i){return new(i||e)(P(oe),P(Xe),P(ha),P(_u))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),l1=new k(""),vN=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bn&&t.code===Lo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jo&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){kv()};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function Im(e,...n){return go([{provide:Rr,multi:!0,useValue:e},[],{provide:lt,useFactory:c1,deps:[oe]},{provide:gc,multi:!0,useFactory:u1},n.map(t=>t.\u0275providers)])}function c1(e){return e.routerState.root}function qo(e,n){return{\u0275kind:e,\u0275providers:n}}function u1(){let e=b(ot);return n=>{let t=e.get(ri);if(n!==t.components[0])return;let i=e.get(oe),r=e.get(d1);e.get(Mm)===1&&i.initialNavigation(),e.get(h1,null,ie.Optional)?.setUpPreloading(),e.get(l1,null,ie.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var d1=new k("",{factory:()=>new ae}),Mm=new k("",{providedIn:"root",factory:()=>1});function f1(){let e=[{provide:Mm,useValue:0},yh(()=>{let n=b(ot);return n.get(Sh,Promise.resolve()).then(()=>new Promise(i=>{let r=n.get(oe),o=n.get(d1);bu(r,()=>{i(!0)}),n.get(yu).afterPreactivation=()=>(i(!0),o.closed?L(void 0):o),r.initialNavigation()}))})];return qo(2,e)}function p1(){let e=[yh(()=>{b(oe).setUpLocationChangeListener()}),{provide:Mm,useValue:2}];return qo(3,e)}var h1=new k("");function m1(e){return qo(0,[{provide:h1,useExisting:a1},{provide:ha,useExisting:e}])}function xm(){return qo(6,[{provide:sn,useClass:Oc}])}function g1(){return qo(8,[vm,{provide:fa,useExisting:vm}])}function _1(e){Ti("NgRouterViewTransitions");let n=[{provide:Cm,useValue:r1},{provide:wm,useValue:I({skipNextTransition:!!e?.skipInitialTransition},e)}];return qo(9,n)}var v1=[Oi,{provide:Mr,useClass:Ai},oe,xr,{provide:lt,useFactory:c1,deps:[oe]},_u,[]],Nr=(()=>{class e{constructor(){}static forRoot(t,i){return{ngModule:e,providers:[v1,[],{provide:Rr,multi:!0,useValue:t},[],i?.errorHandler?{provide:Em,useValue:i.errorHandler}:[],{provide:Tr,useValue:i||{}},i?.useHash?bN():DN(),yN(),i?.preloadingStrategy?m1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?CN(i):[],i?.bindToComponentInputs?g1().\u0275providers:[],i?.enableViewTransitions?_1().\u0275providers:[],wN()]}}static forChild(t){return{ngModule:e,providers:[{provide:Rr,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})();function yN(){return{provide:l1,useFactory:()=>{let e=b(Yy),n=b(Ce),t=b(Tr),i=b(yu),r=b(Mr);return t.scrollOffset&&e.setOffset(t.scrollOffset),new vN(r,i,e,n,t)}}}function bN(){return{provide:sn,useClass:Oc}}function DN(){return{provide:sn,useClass:Cc}}function CN(e){return[e.initialNavigation==="disabled"?p1().\u0275providers:[],e.initialNavigation==="enabledBlocking"?f1().\u0275providers:[]]}var Sm=new k("");function wN(){return[{provide:Sm,useFactory:u1},{provide:gc,multi:!0,useExisting:Sm}]}var M1=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(C(mn),C(Ge))};static \u0275dir=de({type:e})}return e})(),Ca=(()=>{class e extends M1{static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,features:[st]})}return e})(),Bi=new k(""),EN={provide:Bi,useExisting:pt(()=>Om),multi:!0},Om=(()=>{class e extends Ca{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Pt([EN]),st]})}return e})(),SN={provide:Bi,useExisting:pt(()=>Oe),multi:!0};function IN(){let e=on()?on().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var MN=new k(""),Oe=(()=>{class e extends M1{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!IN())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(C(mn),C(Ge),C(MN,8))};static \u0275dir=de({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&M("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Pt([SN]),st]})}return e})();function Pm(e){return e==null||km(e)===0}function km(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Pr=new k(""),wa=new k(""),xN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,U=class{static min(n){return x1(n)}static max(n){return TN(n)}static required(n){return T1(n)}static requiredTrue(n){return RN(n)}static email(n){return NN(n)}static minLength(n){return ON(n)}static maxLength(n){return PN(n)}static pattern(n){return kN(n)}static nullValidator(n){return Cu()}static compose(n){return A1(n)}static composeAsync(n){return F1(n)}};function x1(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function TN(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function T1(e){return Pm(e.value)?{required:!0}:null}function RN(e){return e.value===!0?null:{required:!0}}function NN(e){return Pm(e.value)||xN.test(e.value)?null:{email:!0}}function ON(e){return n=>{let t=n.value?.length??km(n.value);return t===null||t===0?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}function PN(e){return n=>{let t=n.value?.length??km(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function kN(e){if(!e)return Cu;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(Pm(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Cu(e){return null}function R1(e){return e!=null}function N1(e){return vr(e)?ye(e):e}function O1(e){let n={};return e.forEach(t=>{n=t!=null?I(I({},n),t):n}),Object.keys(n).length===0?null:n}function P1(e,n){return n.map(t=>t(e))}function AN(e){return!e.validate}function k1(e){return e.map(n=>AN(n)?n:t=>n.validate(t))}function A1(e){if(!e)return null;let n=e.filter(R1);return n.length==0?null:function(t){return O1(P1(t,n))}}function Am(e){return e!=null?A1(k1(e)):null}function F1(e){if(!e)return null;let n=e.filter(R1);return n.length==0?null:function(t){let i=P1(t,n).map(N1);return rf(i).pipe(Z(O1))}}function Fm(e){return e!=null?F1(k1(e)):null}function y1(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function L1(e){return e._rawValidators}function V1(e){return e._rawAsyncValidators}function Tm(e){return e?Array.isArray(e)?e:[e]:[]}function wu(e,n){return Array.isArray(e)?e.includes(n):e===n}function b1(e,n){let t=Tm(n);return Tm(e).forEach(r=>{wu(t,r)||t.push(r)}),t}function D1(e,n){return Tm(n).filter(t=>!wu(e,t))}var Eu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Am(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Fm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},hi=class extends Eu{name;get formDirective(){return null}get path(){return null}},mi=class extends Eu{_parent=null;name=null;valueAccessor=null},Su=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},FN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},i5=H(I({},FN),{"[class.ng-submitted]":"isSubmitted"}),$e=(()=>{class e extends Su{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(C(mi,2))};static \u0275dir=de({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&mt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[st]})}return e})(),ln=(()=>{class e extends Su{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(C(hi,10))};static \u0275dir=de({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&mt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[st]})}return e})();var ga="VALID",Du="INVALID",zo="PENDING",_a="DISABLED",ji=class{},Iu=class extends ji{value;source;constructor(n,t){super(),this.value=n,this.source=t}},ya=class extends ji{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},ba=class extends ji{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Go=class extends ji{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Mu=class extends ji{source;constructor(n){super(),this.source=n}},xu=class extends ji{source;constructor(n){super(),this.source=n}};function Lm(e){return(Ou(e)?e.validators:e)||null}function LN(e){return Array.isArray(e)?Am(e):e||null}function Vm(e,n){return(Ou(n)?n.asyncValidators:e)||null}function VN(e){return Array.isArray(e)?Fm(e):e||null}function Ou(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function j1(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new A(1e3,"");if(!i[t])throw new A(1001,"")}function B1(e,n,t){e._forEachChild((i,r)=>{if(t[r]===void 0)throw new A(1002,"")})}var Wo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return An(this.statusReactive)}set status(n){An(()=>this.statusReactive.set(n))}_status=To(()=>this.statusReactive());statusReactive=wo(void 0);get valid(){return this.status===ga}get invalid(){return this.status===Du}get pending(){return this.status==zo}get disabled(){return this.status===_a}get enabled(){return this.status!==_a}errors;get pristine(){return An(this.pristineReactive)}set pristine(n){An(()=>this.pristineReactive.set(n))}_pristine=To(()=>this.pristineReactive());pristineReactive=wo(!0);get dirty(){return!this.pristine}get touched(){return An(this.touchedReactive)}set touched(n){An(()=>this.touchedReactive.set(n))}_touched=To(()=>this.touchedReactive());touchedReactive=wo(!1);get untouched(){return!this.touched}_events=new ae;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(b1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(b1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(D1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(D1(n,this._rawAsyncValidators))}hasValidator(n){return wu(this._rawValidators,n)}hasAsyncValidator(n){return wu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(H(I({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new ba(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new ba(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(H(I({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new ya(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new ya(!0,i))}markAsPending(n={}){this.status=zo;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Go(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(H(I({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=_a,this.errors=null,this._forEachChild(r=>{r.disable(H(I({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Iu(this.value,i)),this._events.next(new Go(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(I({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ga,this._forEachChild(i=>{i.enable(H(I({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(H(I({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ga||this.status===zo)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Iu(this.value,t)),this._events.next(new Go(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(H(I({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_a:ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=N1(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Go(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?_a:this.errors?Du:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(Du)?Du:ga}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new ya(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new ba(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Ou(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=LN(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=VN(this._rawAsyncValidators)}},Yo=class extends Wo{constructor(n,t,i){super(Lm(t),Vm(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){B1(this,!0,n),Object.keys(n).forEach(i=>{j1(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Rm=class extends Yo{};var Qo=new k("",{providedIn:"root",factory:()=>Pu}),Pu="always";function U1(e,n){return[...n.path,e]}function Da(e,n,t=Pu){jm(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),BN(e,n),HN(e,n),UN(e,n),jN(e,n)}function Tu(e,n,t=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Nu(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Ru(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function jN(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function jm(e,n){let t=L1(e);n.validator!==null?e.setValidators(y1(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=V1(e);n.asyncValidator!==null?e.setAsyncValidators(y1(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Ru(n._rawValidators,r),Ru(n._rawAsyncValidators,r)}function Nu(e,n){let t=!1;if(e!==null){if(n.validator!==null){let r=L1(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let r=V1(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(t=!0,e.setAsyncValidators(o))}}}let i=()=>{};return Ru(n._rawValidators,i),Ru(n._rawAsyncValidators,i),t}function BN(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&H1(e,n)})}function UN(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&H1(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function H1(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function HN(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function $1(e,n){e==null,jm(e,n)}function $N(e,n){return Nu(e,n)}function Bm(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function qN(e){return Object.getPrototypeOf(e.constructor)===Ca}function q1(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Um(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===Oe?t=o:qN(o)?i=o:r=o}),r||i||t||null}function zN(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var GN={provide:hi,useExisting:pt(()=>Ea)},va=Promise.resolve(),Ea=(()=>{class e extends hi{callSetDisabledState;get submitted(){return An(this.submittedReactive)}_submitted=To(()=>this.submittedReactive());submittedReactive=wo(!1);_directives=new Set;form;ngSubmit=new me;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new Yo({},Am(t),Fm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){va.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Da(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){va.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){va.then(()=>{let i=this._findContainer(t.path),r=new Yo({});$1(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){va.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){va.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),q1(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Mu(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new xu(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||e)(C(Pr,10),C(wa,10),C(Qo,8))};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&M("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pt([GN]),st]})}return e})();function C1(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function w1(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Or=class extends Wo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(Lm(t),Vm(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ou(t)&&(t.nonNullable||t.initialValueIsDefault)&&(w1(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){C1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){C1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){w1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var WN=e=>e instanceof Or;var YN={provide:mi,useExisting:pt(()=>Gt)},E1=Promise.resolve(),Gt=(()=>{class e extends mi{_changeDetectorRef;callSetDisabledState;control=new Or;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new me;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Um(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Bm(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Da(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){E1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Ni(i);E1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?U1(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(C(hi,9),C(Pr,10),C(wa,10),C(Bi,10),C(kn,8),C(Qo,8))};static \u0275dir=de({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pt([YN]),st,Dt]})}return e})();var cn=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),QN={provide:Bi,useExisting:pt(()=>Dn),multi:!0},Dn=(()=>{class e extends Ca{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&M("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Pt([QN]),st]})}return e})();var Hm=new k(""),ZN={provide:mi,useExisting:pt(()=>$m)},$m=(()=>{class e extends mi{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Um(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&Tu(i,this,!1),Da(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Bm(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Tu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||e)(C(Pr,10),C(wa,10),C(Bi,10),C(Hm,8),C(Qo,8))};static \u0275dir=de({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Pt([ZN]),st,Dt]})}return e})(),KN={provide:hi,useExisting:pt(()=>gi)},gi=(()=>{class e extends hi{callSetDisabledState;get submitted(){return An(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=To(()=>this._submittedReactive());_submittedReactive=wo(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new me;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Da(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Tu(t.control||null,t,!1),zN(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),q1(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Mu(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new xu(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Tu(i||null,t),WN(r)&&(Da(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);$1(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&$N(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jm(this.form,this),this._oldForm&&Nu(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(C(Pr,10),C(wa,10),C(Qo,8))};static \u0275dir=de({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&M("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pt([KN]),st,Dt]})}return e})();var JN={provide:mi,useExisting:pt(()=>_i)},_i=(()=>{class e extends mi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Um(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Bm(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return U1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||e)(C(hi,13),C(Pr,10),C(wa,10),C(Bi,10),C(Hm,8))};static \u0275dir=de({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Pt([JN]),st,Dt]})}return e})();var XN={provide:Bi,useExisting:pt(()=>Un),multi:!0};function z1(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function eO(e){return e.split(":")[0]}var Un=(()=>{class e extends Ca{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),r=z1(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=eO(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pt([XN]),st]})}return e})(),Hn=(()=>{class e{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(z1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(C(Ge),C(mn),C(Un,9))};static \u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),tO={provide:Bi,useExisting:pt(()=>G1),multi:!0};function S1(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function nO(e){return e.split(":")[0]}var G1=(()=>{class e extends Ca{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);r.push(d)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=nO(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pt([tO]),st]})}return e})(),$n=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(S1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(S1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(C(Ge),C(mn),C(G1,9))};static \u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function iO(e){return typeof e=="number"?e:parseFloat(e)}var W1=(()=>{class e{_validator=Cu;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Cu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=de({type:e,features:[Dt]})}return e})();var rO={provide:Pr,useExisting:pt(()=>qm),multi:!0},qm=(()=>{class e extends W1{min;inputName="min";normalizeInput=t=>iO(t);createValidator=t=>x1(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Pt([rO]),st]})}return e})(),oO={provide:Pr,useExisting:pt(()=>zm),multi:!0};var zm=(()=>{class e extends W1{required;inputName="required";normalizeInput=Ni;createValidator=t=>T1;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=tn(e)))(r||e)}})();static \u0275dir=de({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Pt([oO]),st]})}return e})();var Y1=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({})}return e})(),Nm=class extends Wo{constructor(n,t,i){super(Lm(t),Vm(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){B1(this,!1,n),n.forEach((i,r)=>{j1(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function I1(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Ui=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return I1(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Yo(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Rm(r,i)}control(t,i,r){let o={};return this.useNonNullable?(I1(i)?o=i:(o.validators=i,o.asyncValidators=r),new Or(t,H(I({},o),{nonNullable:!0}))):new Or(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Nm(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Or)return t;if(t instanceof Wo)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Qe=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Qo,useValue:t.callSetDisabledState??Pu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({imports:[Y1]})}return e})(),qn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Hm,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Qo,useValue:t.callSetDisabledState??Pu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ue({type:e});static \u0275inj=ce({imports:[Y1]})}return e})();var Zo=class{static priceRangeValidator(n,t){return i=>{let r=i.get(n)?.value,o=i.get(t)?.value;return r!==null&&o!==null&&r>o?{priceRange:!0}:null}}};var Wt=class e{constructor(n){this.http=n}endpoint="api/deliveryrequest";endpoint2="api/DRApplication";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getAuthHeaders(){let n=this.getAuthToken();if(!n)throw console.error("No token found"),new Error("No token");return new at({Authorization:`Bearer ${n}`})}create(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(!t)return console.error("No token found"),Pe(()=>new Error("No token"));let i=new at({Authorization:`Bearer ${t}`});return this.http.post(`${this.endpoint}`,n,{headers:i})}getallDRs(n,t){let i=new Lt;return n&&(n.title&&(i=i.set("title",n.title)),n.status?.length&&n.status.forEach(r=>{i=i.append("Status",r.toString())}),n.pickupLocation&&(i=i.set("PickupLocation",n.pickupLocation)),n.dropoffLocation&&(i=i.set("DropOffLocation",n.dropoffLocation)),n.pickupDate&&(i=i.set("StartPickUpDate",n.pickupDate)),n.minPrice!=null&&(i=i.set("StartPrice",n.minPrice.toString()))),t>0&&(i=i.set("pageNumber",t)),this.http.get(`${this.endpoint}`,{params:i})}getMyDeliveryRequests(){let n=this.getAuthHeaders();return this.http.get(`${this.endpoint}/my`,{headers:n})}getById(n){return this.http.get(`${this.endpoint}/${n}`)}update(n,t){return this.http.put(`${this.endpoint}/${n}`,t)}delete(n){return this.http.delete(`${this.endpoint}/${n}`)}getRequestDetails(n){return this.http.get(`${this.endpoint}/details/${n}`)}changeStatus(n){let t=this.getAuthHeaders();return this.http.put(`${this.endpoint2}/updatestatus`,n,{headers:t})}static \u0275fac=function(t){return new(t||e)(P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function sO(e,n){e&1&&(u(0,"small"),f(1,"Title is required"),c())}function aO(e,n){e&1&&(u(0,"small"),f(1,"Title must be less than 100 characters"),c())}function lO(e,n){if(e&1&&(u(0,"div",5),D(1,sO,2,0,"small")(2,aO,2,0,"small"),c()),e&2){let t,i,r=y();h(),fe(!((t=r.updateForm.get("title"))==null||t.errors==null)&&t.errors.required?1:-1),h(),fe(!((i=r.updateForm.get("title"))==null||i.errors==null)&&i.errors.maxlength?2:-1)}}function cO(e,n){e&1&&(u(0,"small"),f(1,"Description is required"),c())}function uO(e,n){e&1&&(u(0,"small"),f(1,"Description must be less than 500 characters"),c())}function dO(e,n){if(e&1&&(u(0,"div",5),D(1,cO,2,0,"small")(2,uO,2,0,"small"),c()),e&2){let t,i,r=y();h(),fe(!((t=r.updateForm.get("description"))==null||t.errors==null)&&t.errors.required?1:-1),h(),fe(!((i=r.updateForm.get("description"))==null||i.errors==null)&&i.errors.maxlength?2:-1)}}function fO(e,n){e&1&&(u(0,"small"),f(1,"Pickup location is required"),c())}function pO(e,n){if(e&1&&(u(0,"div",5),D(1,fO,2,0,"small"),c()),e&2){let t,i=y();h(),fe(!((t=i.updateForm.get("pickUpLocation"))==null||t.errors==null)&&t.errors.required?1:-1)}}function hO(e,n){e&1&&(u(0,"small"),f(1,"Dropoff location is required"),c())}function mO(e,n){if(e&1&&(u(0,"div",5),D(1,hO,2,0,"small"),c()),e&2){let t,i=y();h(),fe(!((t=i.updateForm.get("dropOffLocation"))==null||t.errors==null)&&t.errors.required?1:-1)}}function gO(e,n){e&1&&(u(0,"small"),f(1,"Pickup date is required"),c())}function _O(e,n){if(e&1&&(u(0,"div",5),D(1,gO,2,0,"small"),c()),e&2){let t,i=y();h(),fe(!((t=i.updateForm.get("pickUpDate"))==null||t.errors==null)&&t.errors.required?1:-1)}}function vO(e,n){e&1&&(u(0,"small"),f(1,"Minimum price is required"),c())}function yO(e,n){e&1&&(u(0,"small"),f(1,"Price must be 0 or more"),c())}function bO(e,n){if(e&1&&(u(0,"div",5),D(1,vO,2,0,"small")(2,yO,2,0,"small"),c()),e&2){let t,i,r=y();h(),fe(!((t=r.updateForm.get("minPrice"))==null||t.errors==null)&&t.errors.required?1:-1),h(),fe(!((i=r.updateForm.get("minPrice"))==null||i.errors==null)&&i.errors.min?2:-1)}}function DO(e,n){e&1&&(u(0,"small"),f(1,"Maximum price is required"),c())}function CO(e,n){e&1&&(u(0,"small"),f(1,"Price must be 0 or more"),c())}function wO(e,n){if(e&1&&(u(0,"div",5),D(1,DO,2,0,"small")(2,CO,2,0,"small"),c()),e&2){let t,i,r=y();h(),fe(!((t=r.updateForm.get("maxPrice"))==null||t.errors==null)&&t.errors.required?1:-1),h(),fe(!((i=r.updateForm.get("maxPrice"))==null||i.errors==null)&&i.errors.min?2:-1)}}function EO(e,n){e&1&&(u(0,"div",22),f(1," Maximum price must be greater than minimum price "),c())}var ku=class e{constructor(n,t,i,r){this.deliveryRequestService=n;this.fb=t;this.route=i;this.router=r}updateForm;deliveryRequestId;ngOnInit(){this.deliveryRequestId=this.route.snapshot.params.id,this.initForm(),this.loadDeliveryRequest()}initForm(){this.updateForm=this.fb.group({title:["",[U.required,U.maxLength(50)]],description:["",[U.required,U.maxLength(500)]],pickUpLocation:["",[U.required]],dropOffLocation:["",[U.required]],pickUpDate:["",[U.required]],minPrice:[0,[U.required,U.min(0)]],maxPrice:[0,[U.required,U.min(0)]],DRimage:[null]},{validators:[Zo.priceRangeValidator("minPrice","maxPrice")]})}onFileChange(n){let t=n.target.files[0];t&&this.updateForm.patchValue({DRimage:t})}loadDeliveryRequest(){this.deliveryRequestService.getById(this.deliveryRequestId).subscribe({next:n=>{this.updateForm.patchValue({title:n.title,description:n.description,pickUpLocation:n.pickUpLocation,dropOffLocation:n.dropOffLocation,pickUpDate:n.pickUpDate,minPrice:n.minPrice,maxPrice:n.maxPrice})}})}onSubmit(){if(this.updateForm.valid){let n=new FormData;n.append("title",this.updateForm.value.title),n.append("description",this.updateForm.value.description),n.append("totalWeight","0"),n.append("pickUpLocation",this.updateForm.value.pickUpLocation),n.append("dropOffLocation",this.updateForm.value.dropOffLocation),n.append("pickUpDate",this.updateForm.value.pickUpDate),n.append("minPrice",this.updateForm.value.minPrice),n.append("maxPrice",this.updateForm.value.maxPrice);let t=this.updateForm.get("DRimage")?.value;t&&n.append("DRimage",t),this.deliveryRequestService.update(this.deliveryRequestId,n).subscribe({next:()=>this.router.navigate(["/deliveryrequest"]),error:i=>console.error("Error updating delivery request:",i)})}}static \u0275fac=function(t){return new(t||e)(C(Wt),C(Ui),C(lt),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-delivery-request-update"]],decls:46,vars:10,consts:[[1,"container","mt-4"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control"],[1,"text-danger"],["for","description",1,"form-label"],["id","description","rows","3","formControlName","description",1,"form-control"],["for","pickUpLocation",1,"form-label"],["type","text","id","pickUpLocation","formControlName","pickUpLocation",1,"form-control"],["for","dropOffLocation",1,"form-label"],["type","text","id","dropOffLocation","formControlName","dropOffLocation",1,"form-control"],["for","pickUpDate",1,"form-label"],["type","date","id","pickUpDate","formControlName","pickUpDate",1,"form-control"],[1,"row","mb-3"],[1,"col-md-6"],["for","minPrice",1,"form-label"],["type","number","id","minPrice","formControlName","minPrice",1,"form-control"],["for","maxPrice",1,"form-label"],["type","number","id","maxPrice","formControlName","maxPrice",1,"form-control"],["for","DRimage",1,"form-label"],["type","file","id","DRimage","accept","image/*",1,"form-control",3,"change"],[1,"alert","alert-danger","mb-3"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"form",1),M("ngSubmit",function(){return i.onSubmit()}),u(2,"div",2)(3,"label",3),f(4,"Title"),c(),S(5,"input",4),D(6,lO,3,2,"div",5),c(),u(7,"div",2)(8,"label",6),f(9,"Description"),c(),S(10,"textarea",7),D(11,dO,3,2,"div",5),c(),u(12,"div",2)(13,"label",8),f(14,"Pickup Location"),c(),S(15,"input",9),D(16,pO,2,1,"div",5),c(),u(17,"div",2)(18,"label",10),f(19,"Dropoff Location"),c(),S(20,"input",11),D(21,mO,2,1,"div",5),c(),u(22,"div",2)(23,"label",12),f(24,"Pickup Date"),c(),S(25,"input",13),D(26,_O,2,1,"div",5),c(),u(27,"div",14)(28,"div",15)(29,"label",16),f(30,"Minimum Price ($)"),c(),S(31,"input",17),D(32,bO,3,2,"div",5),c(),u(33,"div",15)(34,"label",18),f(35,"Maximum Price ($)"),c(),S(36,"input",19),D(37,wO,3,2,"div",5),c(),u(38,"div",2)(39,"label",20),f(40,"Update Image"),c(),u(41,"input",21),M("change",function(o){return i.onFileChange(o)}),c()()(),D(42,EO,2,0,"div",22),u(43,"div",23)(44,"button",24),f(45," Update Delivery Request "),c()()()()),t&2){let r,o,s,a,l,d,p;h(),g("formGroup",i.updateForm),h(5),fe((r=i.updateForm.get("title"))!=null&&r.invalid&&((r=i.updateForm.get("title"))!=null&&r.dirty||(r=i.updateForm.get("title"))!=null&&r.touched)?6:-1),h(5),fe((o=i.updateForm.get("description"))!=null&&o.invalid&&((o=i.updateForm.get("description"))!=null&&o.dirty||(o=i.updateForm.get("description"))!=null&&o.touched)?11:-1),h(5),fe((s=i.updateForm.get("pickUpLocation"))!=null&&s.invalid&&((s=i.updateForm.get("pickUpLocation"))!=null&&s.dirty||(s=i.updateForm.get("pickUpLocation"))!=null&&s.touched)?16:-1),h(5),fe((a=i.updateForm.get("dropOffLocation"))!=null&&a.invalid&&((a=i.updateForm.get("dropOffLocation"))!=null&&a.dirty||(a=i.updateForm.get("dropOffLocation"))!=null&&a.touched)?21:-1),h(5),fe((l=i.updateForm.get("pickUpDate"))!=null&&l.invalid&&((l=i.updateForm.get("pickUpDate"))!=null&&l.dirty||(l=i.updateForm.get("pickUpDate"))!=null&&l.touched)?26:-1),h(6),fe((d=i.updateForm.get("minPrice"))!=null&&d.invalid&&((d=i.updateForm.get("minPrice"))!=null&&d.dirty||(d=i.updateForm.get("minPrice"))!=null&&d.touched)?32:-1),h(5),fe((p=i.updateForm.get("maxPrice"))!=null&&p.invalid&&((p=i.updateForm.get("maxPrice"))!=null&&p.dirty||(p=i.updateForm.get("maxPrice"))!=null&&p.touched)?37:-1),h(5),fe(i.updateForm.errors!=null&&i.updateForm.errors.priceRange?42:-1),h(2),g("disabled",i.updateForm.invalid)}},dependencies:[qn,cn,Oe,Dn,$e,ln,gi,_i],encapsulation:2})};var qe=class e{constructor(n,t){this.router=n;this.http=t}isLoggedInSubject=new le(this.hasToken());isLoggedIn$=this.isLoggedInSubject.asObservable();response="";apiUrl="api/user";refreshTokenTimeout;isAuthRoute=!1;_confirmPassword="";login(n){return this._confirmPassword=n.password,localStorage.setItem("password",this._confirmPassword),this.http.post(`${this.apiUrl}/login`,n).pipe(Ve(t=>(t.isSuccess&&(this.storeTokens(t.data,n.rememberMe),this.startRefreshTokenTimer(),this.isLoggedInSubject.next(!0)),L(t))),rt(t=>(console.error("Login error:",t),Pe(()=>t))))}recoverAccount(n){let t=new Lt().set("user",n);return this.http.put(`${this.apiUrl}/Recover`,null,{params:t}).pipe(je(i=>console.log("Recover response:",i)),rt(i=>(console.error("Recover error:",i),Pe(i))))}guardedRoute=!1;setGuardedRoute(n){this.guardedRoute=n}isGuarded(){return this.guardedRoute}refreshToken(){let n=this.getRefreshToken();return n?this.http.post(`${this.apiUrl}/refresh-token`,{refreshToken:n}).pipe(Ve(t=>(t.isSuccess&&(this.storeTokens(t.data,this.isRememberMe()),this.startRefreshTokenTimer()),t)),rt(t=>(console.error("Refresh token error:",t),this.logout(),Pe(()=>t)))):(this.logout(),Pe(()=>new Error("No refresh token available")))}isRememberMe(){return!!localStorage.getItem("token")}storeTokens(n,t){let i=t?localStorage:sessionStorage;i.setItem("token",n.token),i.setItem("exp",new Date(n.expiration).getTime().toString()),i.setItem("refreshToken",n.refreshToken),i.setItem("refreshExp",new Date(n.refreshTokenExpiration).getTime().toString())}clearTokens(){localStorage.clear(),sessionStorage.clear(),this.refreshTokenTimeout&&clearTimeout(this.refreshTokenTimeout)}getRefreshToken(){return localStorage.getItem("refreshToken")||sessionStorage.getItem("refreshToken")}startRefreshTokenTimer(){let n=localStorage.getItem("exp")||sessionStorage.getItem("exp");if(!n)return;let i=parseInt(n)-Date.now()-6e4;i>0&&(this.refreshTokenTimeout=setTimeout(()=>{this.refreshToken().subscribe()},i))}logout(){this.clearTokens(),this.isLoggedInSubject.next(!1),this.isGuarded()?this.router.navigate(["/login"]):window.location.reload()}hasToken(){return!!localStorage.getItem("token")||!!sessionStorage.getItem("token")}getUser(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(!t)return console.error("No token found"),Pe(()=>new Error("No token"));let i=new at({Authorization:`Bearer ${t}`}),r=new Lt().set("Name",n);return this.http.get(`${this.apiUrl}/findbyname`,{headers:i,params:r})}getToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getUserProfile(){console.log("Fetching user profile...");let n=localStorage.getItem("token")||sessionStorage.getItem("token");if(!n)return console.error("Token not found!"),Pe(()=>new Error("Token missing"));let t=new at().set("Authorization",`Bearer ${n}`);return this.http.get(`${this.apiUrl}/profile`,{headers:t})}updateUser(n,t){let i=this.getToken();if(!i)return Pe(()=>new Error("Token missing"));let r=new at().set("Authorization",`Bearer ${i}`),o=new FormData;for(let s in n)n.hasOwnProperty(s)&&o.append(s,n[s]);return t&&o.append("profileImage",t),this.http.put(`${this.apiUrl}/update`,o,{headers:r})}deleteUser(n){let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(t)if(n==localStorage.getItem("password")){let i=new at().set("Authorization",`Bearer ${t}`);return this.http.delete(`${this.apiUrl}/delete`,{headers:i})}else return console.error("Password does not match!"),Pe(()=>new Error("Password does not match"));else return console.error("Token not found!"),Pe(()=>new Error("Token missing"))}uploadUserProfileImage(n){return this.http.post("https://localhost:7176/api/Auth/upload-profile-image",n)}static \u0275fac=function(t){return new(t||e)(P(oe),P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function SO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Full Name:"),c(),f(3),c()),e&2){let t=y(2);h(3),j(" ",t.user.fullName," ")}}function IO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Address:"),c(),f(3),c()),e&2){let t=y(2);h(3),j(" ",t.user.address," ")}}function MO(e,n){if(e&1&&(u(0,"p",10)(1,"strong"),f(2,"Phone:"),c(),f(3),c()),e&2){let t=y(2);h(3),j(" ",t.user.phone," ")}}function xO(e,n){if(e&1&&(u(0,"div",3),S(1,"i",4),u(2,"div",5)(3,"h5",6),f(4),c(),D(5,SO,4,1,"p",7)(6,IO,4,1,"p",7)(7,MO,4,1,"p",7),u(8,"button",8),S(9,"i",9),f(10," Send Message "),c()()()),e&2){let t=y();h(4),O(t.user.userName),h(),g("ngIf",t.user.fullName),h(),g("ngIf",t.user.address),h(),g("ngIf",t.user.phone)}}function TO(e,n){if(e&1&&(u(0,"div",11),f(1),c()),e&2){let t=y();h(),j(" ",t.error," ")}}var Au=class e{constructor(n,t){this.route=n;this.authService=t}user;error="";ngOnInit(){this.route.queryParams.subscribe(n=>{let t=n.name;t&&this.authService.getUser(t).subscribe({next:i=>{this.user=i.data,this.error=""},error:i=>{this.user="",console.error("Error fetching user:",i),this.error="User not exist, please check the name you entered."}})})}static \u0275fac=function(t){return new(t||e)(C(lt),C(qe))};static \u0275cmp=V({type:e,selectors:[["app-user-details"]],decls:4,vars:2,consts:[["errorTpl",""],[1,"container","mt-5"],["class","card mx-auto shadow","style","width: 22rem;",4,"ngIf","ngIfElse"],[1,"card","mx-auto","shadow",2,"width","22rem"],[1,"bi","bi-person-fill",2,"font-size","150px","color","#F44336","text-align","center","border-radius","10px"],[1,"card-body","text-center"],[1,"card-title",2,"color","#000000"],["class","card-text mb-1",4,"ngIf"],[1,"btn","btn-danger","mt-3","bg-danger"],[1,"bi","bi-envelope-fill","me-1"],[1,"card-text","mb-1"],["role","alert",1,"alert","alert-danger","text-center","mt-4"]],template:function(t,i){if(t&1&&(u(0,"div",1),D(1,xO,11,4,"div",2)(2,TO,2,1,"ng-template",null,0,Fs),c()),t&2){let r=Os(3);h(),g("ngIf",i.user)("ngIfElse",r)}},dependencies:[re],encapsulation:2})};var Hi=["Cairo","Giza","Alexandria","Qalyubia","Port Said","Suez","Dakahlia","Sharqia","Kafr El Sheikh","Gharbia","Monufia","Beheira","Ismailia","Fayoum","Beni Suef","Minya","Asyut","Sohag","Qena","Luxor","Aswan","Red Sea","New Valley","Matrouh","North Sinai","South Sinai","Damietta"];var RO=()=>["/"];function NO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=y();h(),O(t.errors.fullName)}}function OO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=y();h(),O(t.errors.email)}}function PO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=y();h(),O(t.notvalidemail)}}function kO(e,n){if(e&1&&(u(0,"div",26),f(1),c()),e&2){let t=y();h(),O(t.errors.phone)}}function AO(e,n){if(e&1&&(u(0,"option",27),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),O(t)}}function FO(e,n){if(e&1){let t=ne();u(0,"button",28),M("click",function(){R(t);let r=y();return N(r.startEdit())}),f(1,"Edit Profile"),c()}}function LO(e,n){e&1&&(u(0,"button",29),f(1,"Go to home"),c()),e&2&&g("routerLink",Pn(1,RO))}function VO(e,n){if(e&1){let t=ne();Nn(0),u(1,"button",30),f(2,"Save"),c(),u(3,"button",31),M("click",function(){R(t);let r=y();return N(r.cancelEdit())}),f(4,"Cancel"),c(),On()}}var Fu=class e{constructor(n){this.router=n}authService=b(qe);user={};selectedImage=null;uploadingImage=!1;loading=!1;notvalidemail=null;editingProfile=!1;errors={fullName:"",email:"",phone:""};showPopup=!1;egyptGovernorates=Hi;ngOnInit(){if(!this.authService.hasToken()){this.router.navigate(["/login"]);return}this.loadUser()}loadUser(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}})}validate(){let n=!0;this.errors={fullName:"",email:"",phone:""},(!this.user.fullName||this.user.fullName.trim().length<3)&&(this.errors.fullName="Full name must be at least 3 characters.",n=!1);let t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return(!this.user.email||!t.test(this.user.email))&&(this.errors.email="Enter a valid email.",n=!1),this.user.phone&&!/^(010|011|012|015)\d{8}$/.test(this.user.phone)&&(this.errors.phone="Phone must be a valid Egyptian number.",n=!1),n}onFileSelected(n){let t=n.target.files[0];t&&(this.selectedImage=t)}uploadImage(){if(!this.selectedImage)return;let n=new FormData;n.append("image",this.selectedImage),this.uploadingImage=!0,this.authService.uploadUserProfileImage(n).subscribe({next:t=>{alert("Image uploaded successfully."),this.uploadingImage=!1,this.loadUser()},error:t=>{console.error("Image upload failed:",t),alert("Image upload failed."),this.uploadingImage=!1}})}startEdit(){this.editingProfile=!0}saveProfile(){this.validate()&&(this.loading=!0,this.authService.updateUser(this.user,this.selectedImage).subscribe({next:()=>{alert("User updated successfully!"),this.loading=!1,this.loadUser(),this.editingProfile=!1},error:n=>{console.error("Update failed:",n),n.error?.message==="Email is already taken."?this.notvalidemail="Email is already taken. Please choose another one.":this.notvalidemail="An error occurred. Please try again later.",this.loading=!1}}))}togglePopup(){this.showPopup=!this.showPopup}cancelEdit(){this.editingProfile=!1,this.loadUser()}static \u0275fac=function(t){return new(t||e)(C(oe))};static \u0275cmp=V({type:e,selectors:[["app-edit-user"]],decls:41,vars:18,consts:[["editForm","ngForm"],[1,"auth-background","d-flex","justify-content-center","align-items-center","py-5","px-3"],[1,"registerForm","w-100","bg-white","p-4","p-md-5","shadow","rounded",2,"max-width","800px",3,"ngSubmit"],[1,"text-center","mb-4","text-dark","fw-bold"],[1,"row","g-3"],[1,"col-12","col-md-6"],["for","userName",1,"form-label","fw-semibold"],["type","text","id","userName","name","userName","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["for","fullName",1,"form-label","fw-semibold"],["type","text","id","fullName","name","fullName",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","text-danger mt-1",4,"ngIf"],["for","email",1,"form-label","fw-semibold"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","phone",1,"form-label","fw-semibold"],["type","text","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","governorate",1,"form-label","fw-semibold"],["id","governorate","name","address",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["for","natId",1,"form-label","fw-semibold"],["type","text","id","natId","name","natId","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"profile-section"],["type","file",3,"change"],[1,"d-flex","flex-column","flex-md-row","justify-content-center","gap-2","mt-4","flex-wrap"],["type","button","class","btn btn-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary","routerLinkActive","active-link",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"text-danger","mt-1"],[3,"value"],["type","button",1,"btn","btn-warning",3,"click"],["type","button","routerLinkActive","active-link",1,"btn","btn-outline-secondary",3,"routerLink"],["type","submit",1,"btn","btn-warning"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(t,i){if(t&1){let r=ne();u(0,"div",1)(1,"form",2,0),M("ngSubmit",function(){return R(r),N(i.saveProfile())}),u(3,"h2",3),f(4,"Edit Profile"),c(),u(5,"div",4)(6,"div",5)(7,"label",6),f(8,"Username"),c(),u(9,"input",7),Ee("ngModelChange",function(s){return R(r),xe(i.user.userName,s)||(i.user.userName=s),N(s)}),c()(),u(10,"div",5)(11,"label",8),f(12,"Full Name"),c(),u(13,"input",9),Ee("ngModelChange",function(s){return R(r),xe(i.user.fullName,s)||(i.user.fullName=s),N(s)}),M("ngModelChange",function(){return R(r),N(i.errors.fullName="")}),c(),D(14,NO,2,1,"div",10),c(),u(15,"div",5)(16,"label",11),f(17,"Email"),c(),u(18,"input",12),Ee("ngModelChange",function(s){return R(r),xe(i.user.email,s)||(i.user.email=s),N(s)}),M("ngModelChange",function(){return R(r),N(i.errors.email="")}),c(),D(19,OO,2,1,"div",10)(20,PO,2,1,"div",10),c(),u(21,"div",5)(22,"label",13),f(23,"Phone"),c(),u(24,"input",14),Ee("ngModelChange",function(s){return R(r),xe(i.user.phone,s)||(i.user.phone=s),N(s)}),M("ngModelChange",function(){return R(r),N(i.errors.phone="")}),c(),D(25,kO,2,1,"div",10),c(),u(26,"div",5)(27,"label",15),f(28,"Governorate"),c(),u(29,"select",16),Ee("ngModelChange",function(s){return R(r),xe(i.user.address,s)||(i.user.address=s),N(s)}),D(30,AO,2,2,"option",17),c()(),u(31,"div",5)(32,"label",18),f(33,"National ID"),c(),u(34,"input",19),Ee("ngModelChange",function(s){return R(r),xe(i.user.natId,s)||(i.user.natId=s),N(s)}),c()()(),u(35,"div",20)(36,"input",21),M("change",function(s){return R(r),N(i.onFileSelected(s))}),c()(),u(37,"div",22),D(38,FO,2,0,"button",23)(39,LO,2,2,"button",24)(40,VO,5,0,"ng-container",25),c()()()}t&2&&(h(9),we("ngModel",i.user.userName),h(4),we("ngModel",i.user.fullName),g("disabled",!i.editingProfile),h(),g("ngIf",i.errors.fullName),h(4),we("ngModel",i.user.email),g("disabled",!i.editingProfile),h(),g("ngIf",i.errors.email),h(),g("ngIf",i.notvalidemail),h(4),we("ngModel",i.user.phone),g("disabled",!i.editingProfile),h(),g("ngIf",i.errors.phone),h(4),we("ngModel",i.user.address),g("disabled",!i.editingProfile),h(),g("ngForOf",i.egyptGovernorates),h(4),we("ngModel",i.user.natId),h(4),g("ngIf",!i.editingProfile),h(),g("ngIf",!i.editingProfile),h(),g("ngIf",i.editingProfile))},dependencies:[Ie,He,re,Qe,cn,Hn,$n,Oe,Un,$e,ln,Gt,Ea,Ye,ma],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:93vh;display:flex;align-items:center;justify-content:center}.registerForm[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:70%;max-width:800px}.registerForm[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600}.registerForm[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   select.form-select[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.registerForm[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark);width:50%;display:flex;justify-content:center;align-items:center;margin:0 auto}.registerForm[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.btn-outline-secondary[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;width:50%;display:flex;justify-content:center;align-items:center;margin:0 auto}']})};var Yt=class e{constructor(n,t){this.authService=n;this.router=t}canActivate(n,t){let i=this.authService.hasToken();return this.authService.setGuardedRoute(!0),i?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||e)(P(qe),P(oe))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var jO=["*"];var BO=["dialog"];var Q1={animation:!0,transitionTimerDelayMs:5},UO=(()=>{class e{constructor(){this.animation=Q1.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function HO(e){let{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e),i=parseFloat(n),r=parseFloat(t);return(i+r)*1e3}function Z1(e){return typeof e=="string"}function Wm(e){return e!=null}function $O(e){return e&&e.then}function K1(e){return(e||document.body).getBoundingClientRect()}function qO(e){return n=>new Y(t=>{let i=s=>e.run(()=>t.next(s)),r=s=>e.run(()=>t.error(s)),o=()=>e.run(()=>t.complete());return n.subscribe({next:i,error:r,complete:o})})}var zO=()=>{},{transitionTimerDelayMs:GO}=Q1,Lu=new Map,Ar=(e,n,t,i)=>{let r=i.context||{},o=Lu.get(n);if(o)switch(i.runningTransition){case"continue":return it;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Lu.delete(n)}let s=t(n,i.animation,r)||zO;if(!i.animation||window.getComputedStyle(n).transitionProperty==="none")return e.run(()=>s()),L(void 0).pipe(qO(e));let a=new ae,l=new ae,d=a.pipe(af(!0));Lu.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let p=HO(n);return e.runOutsideAngular(()=>{let m=Jt(n,"transitionend").pipe(ut(d),Le(({target:_})=>_===n)),v=of(p+GO).pipe(ut(d));sf(v,m,l).pipe(ut(d)).subscribe(()=>{Lu.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var J1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var X1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var eD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),tD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var h8=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,n=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||n()):!1})();var WO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function nD(e){let n=Array.from(e.querySelectorAll(WO)).filter(t=>t.tabIndex!==-1);return[n[0],n[n.length-1]]}var YO=(e,n,t,i=!1)=>{e.runOutsideAngular(()=>{let r=Jt(n,"focusin").pipe(ut(t),Z(o=>o.target));Jt(n,"keydown").pipe(ut(t),Le(o=>o.key==="Tab"),cl(r)).subscribe(([o,s])=>{let[a,l]=nD(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Jt(n,"click").pipe(ut(t),cl(r),Z(o=>o[1])).subscribe(o=>o.focus())})};var m8=new Date(1882,10,12),g8=new Date(2174,10,25);var _8=1e3*60*60*24;var Zm=1080,QO=24*Zm,ZO=12*Zm+793,v8=29*QO+ZO,y8=11*Zm+204;var iD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var rD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),KO=(()=>{class e{constructor(){this._ngbConfig=b(UO),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ko=class{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}};var JO=(()=>{class e{constructor(){this._document=b(Ne)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XO=(()=>{class e{constructor(){this._nativeElement=b(Ge).nativeElement,this._zone=b(Ce),this._injector=b(ot)}ngOnInit(){Io({mixedReadWrite:()=>Ar(this._zone,this._nativeElement,(t,i)=>{i&&K1(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Ar(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=V({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(_c("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),mt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),zn=class{update(n){}close(n){}dismiss(n){}},eP=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],tP=["animation","backdropClass"],Ym=class{_applyWindowOptions(n,t){eP.forEach(i=>{Wm(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){tP.forEach(i=>{Wm(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ut(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ut(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ae,this._dismissed=new ae,this._hidden=new ae,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(n);else{let t=this._beforeDismiss();$O(t)?t.then(i=>{i!==!1&&this._dismiss(n)},()=>{}):t!==!1&&this._dismiss(n)}}_removeModalElements(){let n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():L(void 0);n.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cs(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Qm=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Qm||{}),nP=(()=>{class e{constructor(){this._document=b(Ne),this._elRef=b(Ge),this._zone=b(Ce),this._injector=b(ot),this._closed$=new ae,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new me,this.shown=new ae,this.hidden=new ae}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Z1(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,Io({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Ar(this._zone,t,()=>t.classList.remove("show"),i),o=Ar(this._zone,this._dialogEl.nativeElement,()=>{},i),s=cs(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Ar(this._zone,this._elRef.nativeElement,(o,s)=>{s&&K1(o),o.classList.add("show")},t),r=Ar(this._zone,this._dialogEl.nativeElement,()=>{},t);cs(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Jt(t,"keydown").pipe(ut(this._closed$),Le(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Qm.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Jt(this._dialogEl.nativeElement,"mousedown").pipe(ut(this._closed$),je(()=>i=!1),Ve(()=>Jt(t,"mouseup").pipe(ut(this._closed$),St(1))),Le(({target:r})=>t===r)).subscribe(()=>{i=!0}),Jt(t,"click").pipe(ut(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Qm.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=nD(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ar(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=V({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&fi(BO,7),i&2){let o;gn(o=_n())&&(r._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,r){i&2&&(Ri("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy)("role",r.role),_c("modal d-block"+(r.windowClass?" "+r.windowClass:"")),mt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:jO,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(ry(),u(0,"div",1,0)(2,"div",2),oy(3),c()()),i&2&&_c("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),iP=(()=>{class e{constructor(){this._applicationRef=b(ri),this._injector=b(ot),this._environmentInjector=b(Xe),this._document=b(Ne),this._scrollBar=b(JO),this._activeWindowCmptHasChanged=new ae,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new me;let t=b(Ce);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];YO(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:Wm(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new zn;t=r.injector||t;let a=t.get(Xe,null)||this._environmentInjector,l=this._getContentRef(t,a,i,s,r),d=r.backdrop!==!1?this._attachBackdrop(o):void 0,p=this._attachWindowComponent(o,l.nodes),m=new Ym(p,l,d,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(p),m.hidden.pipe(St(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=v=>{m.close(v)},s.dismiss=v=>{m.dismiss(v)},s.update=v=>{m.update(v)},m.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),p.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=yc(XO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=yc(nP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof ii?this._createFromTemplateRef(r,o):Z1(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new Ko([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new Ko([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Ko([[i]])}_createFromComponent(t,i,r,o,s){let a=ot.create({providers:[{provide:zn,useValue:o}],parent:t}),l=yc(r,{environmentInjector:i,elementInjector:a}),d=l.location.nativeElement;return s.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Ko([[d]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vi=(()=>{class e{constructor(){this._injector=b(ot),this._modalStack=b(iP),this._config=b(KO)}open(t,i={}){let r=I(H(I({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({providers:[vi]})}}return e})();var sD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var aD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var lD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var cD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var uD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var dD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var fD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var pD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var hD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var b8=new k("live announcer delay",{providedIn:"root",factory:()=>100});var mD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})();var gD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({})}}return e})(),rP=[J1,X1,eD,tD,iD,rD,oD,sD,gD,aD,lD,cD,uD,dD,fD,pD,hD,mD],_D=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=ce({imports:[rP,J1,X1,eD,tD,iD,rD,oD,sD,gD,aD,lD,cD,uD,dD,fD,pD,hD,mD]})}}return e})();var $i=class e{constructor(n){this.http=n}endpoint="api/drapplication";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getAuthHeaders(){let n=this.getAuthToken();if(!n)throw console.error("No token found"),new Error("No token");return new at({Authorization:`Bearer ${n}`})}getMyApplications(){let n=this.getAuthHeaders();return this.http.get(`${this.endpoint}/GetMyApplications`,{headers:n})}addApplication(n){let t=this.getAuthHeaders();return this.http.post(`${this.endpoint}`,n,{headers:t})}deleteApplication(n){let t=this.getAuthHeaders();return this.http.delete(`${this.endpoint}/Delete/${n}`,{headers:t})}updateApplication(n,t){let i=this.getAuthHeaders();return this.http.put(`${this.endpoint}/Update?id=${n}`,t,{headers:i})}static \u0275fac=function(t){return new(t||e)(P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var qi=class e{constructor(n,t){this.activeModal=n;this.modalService=t}applicationService=b($i);offeredPrice;deliveryRequestID=0;modalTitle="";modalMessage="";Apply(){console.log("deliveryRequestID:",this.deliveryRequestID);let n={offeredPrice:this.offeredPrice,deliveryRequestId:this.deliveryRequestID};console.log("data:",n),this.applicationService.addApplication(n).subscribe({next:t=>{if(t.isSuccess)console.log(t),this.activeModal.close();else{var i=t.message||"An error occurred while fetching request details.";console.error(i)}},error:t=>{console.error("An error occurred:",t)}})}static \u0275fac=function(t){return new(t||e)(C(zn),C(vi))};static \u0275cmp=V({type:e,selectors:[["app-add-application"]],inputs:{deliveryRequestID:"deliveryRequestID"},decls:17,vars:1,consts:[[1,"container","add-application","my-1","mb-5"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"text-muted"],[1,"form-floating"],["type","number","name","offeredPrice","id","offeredPrice",1,"form-control",3,"ngModelChange","ngModel"],["for","offeredPrice"],[1,"gap-2","mt-4"],["type","submit",1,"btn","btn-main","px-4","py-1","text-white",3,"click"],["type","button","aria-label","Close",1,"btn","btn-danger","px-4","py-1","mx-3",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h3",2),f(3,"Apply"),c(),u(4,"button",3),M("click",function(){return i.activeModal.close()}),c()(),u(5,"form")(6,"p",4),f(7,"Please add your offered price to get in touch with requester."),c(),u(8,"div",5)(9,"input",6),Ee("ngModelChange",function(o){return xe(i.offeredPrice,o)||(i.offeredPrice=o),o}),c(),u(10,"label",7),f(11,"offered Price (EGP)"),c()(),u(12,"div",8)(13,"button",9),M("click",function(){return i.Apply()}),f(14,"Apply"),c(),u(15,"button",10),M("click",function(){return i.activeModal.close()}),f(16,"Close"),c()()()()),t&2&&(h(9),we("ngModel",i.offeredPrice))},dependencies:[_D,Qe,cn,Oe,Dn,$e,ln,Gt,Ea],styles:[".add-application[_ngcontent-%COMP%]{width:92%}.add-application[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark)}.form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:var(--yellow)!important;box-shadow:none}"]})};var Qt=class extends Error{constructor(n,t){let i=new.target.prototype;super(`${n}: Status code '${t}'`),this.statusCode=t,this.__proto__=i}},zi=class extends Error{constructor(n="A timeout occurred."){let t=new.target.prototype;super(n),this.__proto__=t}},ct=class extends Error{constructor(n="An abort occurred."){let t=new.target.prototype;super(n),this.__proto__=t}},ju=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=i}},Bu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=i}},Uu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=i}},Sa=class extends Error{constructor(n){let t=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}},Hu=class extends Error{constructor(n,t){let i=new.target.prototype;super(n),this.innerErrors=t,this.__proto__=i}};var Jo=class{constructor(n,t,i){this.statusCode=n,this.statusText=t,this.content=i}},Gn=class{get(n,t){return this.send(H(I({},t),{method:"GET",url:n}))}post(n,t){return this.send(H(I({},t),{method:"POST",url:n}))}delete(n,t){return this.send(H(I({},t),{method:"DELETE",url:n}))}getCookieString(n){return""}};var w=function(e){return e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None",e}(w||{});var Wn=class{constructor(){}log(n,t){}};Wn.instance=new Wn;var oP="8.0.7",ve=class{static isRequired(n,t){if(n==null)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(n,t){if(!n||n.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(n,t,i){if(!(n in t))throw new Error(`Unknown ${i} value: ${n}.`)}},De=class e{static get isBrowser(){return!e.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!e.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!e.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}};function Gi(e,n){let t="";return Cn(e)?(t=`Binary data of length ${e.byteLength}`,n&&(t+=`. Content: '${sP(e)}'`)):typeof e=="string"&&(t=`String data of length ${e.length}`,n&&(t+=`. Content: '${e}'`)),t}function sP(e){let n=new Uint8Array(e),t="";return n.forEach(i=>{let r=i<16?"0":"";t+=`0x${r}${i.toString(16)} `}),t.substr(0,t.length-1)}function Cn(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}function qu(e,n,t,i,r,o){return X(this,null,function*(){let s={},[a,l]=Yn();s[a]=l,e.log(w.Trace,`(${n} transport) sending data. ${Gi(r,o.logMessageContent)}.`);let d=Cn(r)?"arraybuffer":"text",p=yield t.post(i,{content:r,headers:I(I({},s),o.headers),responseType:d,timeout:o.timeout,withCredentials:o.withCredentials});e.log(w.Trace,`(${n} transport) request complete. Response status: ${p.statusCode}.`)})}function yD(e){return e===void 0?new Fr(w.Information):e===null?Wn.instance:e.log!==void 0?e:new Fr(e)}var $u=class{constructor(n,t){this._subject=n,this._observer=t}dispose(){let n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(t=>{})}},Fr=class{constructor(n){this._minLevel=n,this.out=console}log(n,t){if(n>=this._minLevel){let i=`[${new Date().toISOString()}] ${w[n]}: ${t}`;switch(n){case w.Critical:case w.Error:this.out.error(i);break;case w.Warning:this.out.warn(i);break;case w.Information:this.out.info(i);break;default:this.out.log(i);break}}}};function Yn(){let e="X-SignalR-User-Agent";return De.isNode&&(e="User-Agent"),[e,aP(oP,lP(),uP(),cP())]}function aP(e,n,t,i){let r="Microsoft SignalR/",o=e.split(".");return r+=`${o[0]}.${o[1]}`,r+=` (${e}; `,n&&n!==""?r+=`${n}; `:r+="Unknown OS; ",r+=`${t}`,i?r+=`; ${i}`:r+="; Unknown Runtime Version",r+=")",r}function lP(){if(De.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function cP(){if(De.isNode)return process.versions.node}function uP(){return De.isNode?"NodeJS":"Browser"}function zu(e){return e.stack?e.stack:e.message?e.message:`${e}`}function bD(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}var Gu=class extends Gn{constructor(n){if(super(),this._logger=n,typeof fetch>"u"||De.isNode){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Br;this._jar=new(t("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=t("node-fetch"):this._fetchType=fetch,this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(bD());if(typeof AbortController>"u"){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Br;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}send(n){return X(this,null,function*(){if(n.abortSignal&&n.abortSignal.aborted)throw new ct;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");let t=new this._abortControllerType,i;n.abortSignal&&(n.abortSignal.onabort=()=>{t.abort(),i=new ct});let r=null;if(n.timeout){let l=n.timeout;r=setTimeout(()=>{t.abort(),this._logger.log(w.Warning,"Timeout from HTTP request."),i=new zi},l)}n.content===""&&(n.content=void 0),n.content&&(n.headers=n.headers||{},Cn(n.content)?n.headers["Content-Type"]="application/octet-stream":n.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=yield this._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:n.withCredentials===!0?"include":"same-origin",headers:I({"X-Requested-With":"XMLHttpRequest"},n.headers),method:n.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(l){throw i||(this._logger.log(w.Warning,`Error from HTTP request. ${l}.`),l)}finally{r&&clearTimeout(r),n.abortSignal&&(n.abortSignal.onabort=null)}if(!o.ok){let l=yield DD(o,"text");throw new Qt(l||o.statusText,o.status)}let a=yield DD(o,n.responseType);return new Jo(o.status,o.statusText,a)})}getCookieString(n){let t="";return De.isNode&&this._jar&&this._jar.getCookies(n,(i,r)=>t=r.join("; ")),t}};function DD(e,n){let t;switch(n){case"arraybuffer":t=e.arrayBuffer();break;case"text":t=e.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`);default:t=e.text();break}return t}var Wu=class extends Gn{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new ct):n.method?n.url?new Promise((t,i)=>{let r=new XMLHttpRequest;r.open(n.method,n.url,!0),r.withCredentials=n.withCredentials===void 0?!0:n.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.content===""&&(n.content=void 0),n.content&&(Cn(n.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));let o=n.headers;o&&Object.keys(o).forEach(s=>{r.setRequestHeader(s,o[s])}),n.responseType&&(r.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{r.abort(),i(new ct)}),n.timeout&&(r.timeout=n.timeout),r.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new Jo(r.status,r.statusText,r.response||r.responseText)):i(new Qt(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(w.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),i(new Qt(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(w.Warning,"Timeout from HTTP request."),i(new zi)},r.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}};var Yu=class extends Gn{constructor(n){if(super(),typeof fetch<"u"||De.isNode)this._httpClient=new Gu(n);else if(typeof XMLHttpRequest<"u")this._httpClient=new Wu(n);else throw new Error("No usable HttpClient found.")}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new ct):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}};var Zt=class e{static write(n){return`${n}${e.RecordSeparator}`}static parse(n){if(n[n.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");let t=n.split(e.RecordSeparator);return t.pop(),t}};Zt.RecordSeparatorCode=30;Zt.RecordSeparator=String.fromCharCode(Zt.RecordSeparatorCode);var Qu=class{writeHandshakeRequest(n){return Zt.write(JSON.stringify(n))}parseHandshakeResponse(n){let t,i;if(Cn(n)){let a=new Uint8Array(n),l=a.indexOf(Zt.RecordSeparatorCode);if(l===-1)throw new Error("Message is incomplete.");let d=l+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,d))),i=a.byteLength>d?a.slice(d).buffer:null}else{let a=n,l=a.indexOf(Zt.RecordSeparator);if(l===-1)throw new Error("Message is incomplete.");let d=l+1;t=a.substring(0,d),i=a.length>d?a.substring(d):null}let r=Zt.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[i,o]}};var z=function(e){return e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence",e}(z||{});var Zu=class{constructor(){this.observers=[]}next(n){for(let t of this.observers)t.next(n)}error(n){for(let t of this.observers)t.error&&t.error(n)}complete(){for(let n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new $u(this,n)}};var Ku=class{constructor(n,t,i){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=n,this._connection=t,this._bufferSize=i}_send(n){return X(this,null,function*(){let t=this._protocol.writeMessage(n),i=Promise.resolve();if(this._isInvocationMessage(n)){this._totalMessageCount++;let r=()=>{},o=()=>{};Cn(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(i=new Promise((s,a)=>{r=s,o=a})),this._messages.push(new Km(t,this._totalMessageCount,r,o))}try{this._reconnectInProgress||(yield this._connection.send(t))}catch{this._disconnected()}yield i})}_ack(n){let t=-1;for(let i=0;i<this._messages.length;i++){let r=this._messages[i];if(r._id<=n.sequenceId)t=i,Cn(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else if(this._bufferedByteCount<this._bufferSize)r._resolver();else break}t!==-1&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(n){if(this._waitForSequenceMessage)return n.type!==z.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(n))return!0;let t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(n){if(n.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=n.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}_resend(){return X(this,null,function*(){let n=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;yield this._connection.send(this._protocol.writeMessage({type:z.Sequence,sequenceId:n}));let t=this._messages;for(let i of t)yield this._connection.send(i._message);this._reconnectInProgress=!1})}_dispose(n){n??(n=new Error("Unable to reconnect to server."));for(let t of this._messages)t._rejector(n)}_isInvocationMessage(n){switch(n.type){case z.Invocation:case z.StreamItem:case z.Completion:case z.StreamInvocation:case z.CancelInvocation:return!0;case z.Close:case z.Sequence:case z.Ping:case z.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(()=>X(this,null,function*(){try{this._reconnectInProgress||(yield this._connection.send(this._protocol.writeMessage({type:z.Ack,sequenceId:this._latestReceivedSequenceId})))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0}),1e3))}},Km=class{constructor(n,t,i,r){this._message=n,this._id=t,this._resolver=i,this._rejector=r}};var dP=30*1e3,fP=15*1e3,pP=1e5,Ae=function(e){return e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting",e}(Ae||{}),Ju=class e{static create(n,t,i,r,o,s,a){return new e(n,t,i,r,o,s,a)}constructor(n,t,i,r,o,s,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(w.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ve.isRequired(n,"connection"),ve.isRequired(t,"logger"),ve.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=o??dP,this.keepAliveIntervalInMilliseconds=s??fP,this._statefulReconnectBufferSize=a??pP,this._logger=t,this._protocol=i,this.connection=n,this._reconnectPolicy=r,this._handshakeProtocol=new Qu,this.connection.onreceive=l=>this._processIncomingData(l),this.connection.onclose=l=>this._connectionClosed(l),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Ae.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:z.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==Ae.Disconnected&&this._connectionState!==Ae.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){return X(this,null,function*(){if(this._connectionState!==Ae.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Ae.Connecting,this._logger.log(w.Debug,"Starting HubConnection.");try{yield this._startInternal(),De.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Ae.Connected,this._connectionStarted=!0,this._logger.log(w.Debug,"HubConnection connected successfully.")}catch(n){return this._connectionState=Ae.Disconnected,this._logger.log(w.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}})}_startInternal(){return X(this,null,function*(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;let n=new Promise((t,i)=>{this._handshakeResolver=t,this._handshakeRejecter=i});yield this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);let i={protocol:this._protocol.name,version:t};if(this._logger.log(w.Debug,"Sending handshake request."),yield this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(i)),this._logger.log(w.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),yield n,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Ku(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||(yield this._sendMessage(this._cachedPingMessage))}catch(t){throw this._logger.log(w.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),yield this.connection.stop(t),t}})}stop(){return X(this,null,function*(){let n=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),yield this._stopPromise;try{yield n}catch{}})}_stopInternal(n){if(this._connectionState===Ae.Disconnected)return this._logger.log(w.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Ae.Disconnecting)return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;let t=this._connectionState;return this._connectionState=Ae.Disconnecting,this._logger.log(w.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(w.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Ae.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new ct("The connection was stopped before the hub handshake could complete."),this.connection.stop(n))}_sendCloseMessage(){return X(this,null,function*(){try{yield this._sendWithProtocol(this._createCloseMessage())}catch{}})}stream(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(n,t,r),s,a=new Zu;return a.cancelCallback=()=>{let l=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(l))},this._callbacks[o.invocationId]=(l,d)=>{if(d){a.error(d);return}else l&&(l.type===z.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},s=this._sendWithProtocol(o).catch(l=>{a.error(l),delete this._callbacks[o.invocationId]}),this._launchStreams(i,s),a}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._messageBuffer?this._messageBuffer._send(n):this._sendMessage(this._protocol.writeMessage(n))}send(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(n,t,!0,r));return this._launchStreams(i,o),o}invoke(n,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createInvocation(n,t,!1,r);return new Promise((a,l)=>{this._callbacks[o.invocationId]=(p,m)=>{if(m){l(m);return}else p&&(p.type===z.Completion?p.error?l(new Error(p.error)):a(p.result):l(new Error(`Unexpected message type: ${p.type}`)))};let d=this._sendWithProtocol(o).catch(p=>{l(p),delete this._callbacks[o.invocationId]});this._launchStreams(i,d)})}on(n,t){!n||!t||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),this._methods[n].indexOf(t)===-1&&this._methods[n].push(t))}off(n,t){if(!n)return;n=n.toLowerCase();let i=this._methods[n];if(i)if(t){let r=i.indexOf(t);r!==-1&&(i.splice(r,1),i.length===0&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){let t=this._protocol.parseMessages(n,this._logger);for(let i of t)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(i)))switch(i.type){case z.Invocation:this._invokeClientMethod(i).catch(r=>{this._logger.log(w.Error,`Invoke client method threw error: ${zu(r)}`)});break;case z.StreamItem:case z.Completion:{let r=this._callbacks[i.invocationId];if(r){i.type===z.Completion&&delete this._callbacks[i.invocationId];try{r(i)}catch(o){this._logger.log(w.Error,`Stream callback threw error: ${zu(o)}`)}}break}case z.Ping:break;case z.Close:{this._logger.log(w.Information,"Close message received from server.");let r=i.error?new Error("Server returned an error on close: "+i.error):void 0;i.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case z.Ack:this._messageBuffer&&this._messageBuffer._ack(i);break;case z.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(i);break;default:this._logger.log(w.Warning,`Invalid message type: ${i.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let t,i;try{[i,t]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(r){let o="Error parsing handshake response: "+r;this._logger.log(w.Error,o);let s=new Error(o);throw this._handshakeRejecter(s),s}if(t.error){let r="Server returned handshake error: "+t.error;this._logger.log(w.Error,r);let o=new Error(r);throw this._handshakeRejecter(o),o}else this._logger.log(w.Debug,"Server handshake complete.");return this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let n=this._nextKeepAlive-new Date().getTime();n<0&&(n=0),this._pingServerHandle=setTimeout(()=>X(this,null,function*(){if(this._connectionState===Ae.Connected)try{yield this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),n)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(n){return X(this,null,function*(){let t=n.target.toLowerCase(),i=this._methods[t];if(!i){this._logger.log(w.Warning,`No client method with the name '${t}' found.`),n.invocationId&&(this._logger.log(w.Warning,`No result given for '${t}' method and invocation ID '${n.invocationId}'.`),yield this._sendWithProtocol(this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)));return}let r=i.slice(),o=!!n.invocationId,s,a,l;for(let d of r)try{let p=s;s=yield d.apply(this,n.arguments),o&&s&&p&&(this._logger.log(w.Error,`Multiple results provided for '${t}'. Sending error to server.`),l=this._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),a=void 0}catch(p){a=p,this._logger.log(w.Error,`A callback for the method '${t}' threw error '${p}'.`)}l?yield this._sendWithProtocol(l):o?(a?l=this._createCompletionMessage(n.invocationId,`${a}`,null):s!==void 0?l=this._createCompletionMessage(n.invocationId,null,s):(this._logger.log(w.Warning,`No result given for '${t}' method and invocation ID '${n.invocationId}'.`),l=this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),yield this._sendWithProtocol(l)):s&&this._logger.log(w.Error,`Result given for '${t}' method but server is not expecting a result.`)})}_connectionClosed(n){this._logger.log(w.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new ct("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Ae.Disconnecting?this._completeClose(n):this._connectionState===Ae.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===Ae.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=Ae.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(n??new Error("Connection closed.")),this._messageBuffer=void 0),De.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[n]))}catch(t){this._logger.log(w.Error,`An onclose callback called with error '${n}' threw error '${t}'.`)}}}_reconnect(n){return X(this,null,function*(){let t=Date.now(),i=0,r=n!==void 0?n:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(i++,0,r);if(o===null){this._logger.log(w.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(n);return}if(this._connectionState=Ae.Reconnecting,n?this._logger.log(w.Information,`Connection reconnecting because of error '${n}'.`):this._logger.log(w.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[n]))}catch(s){this._logger.log(w.Error,`An onreconnecting callback called with error '${n}' threw error '${s}'.`)}if(this._connectionState!==Ae.Reconnecting){this._logger.log(w.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(w.Information,`Reconnect attempt number ${i} will start in ${o} ms.`),yield new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Ae.Reconnecting){this._logger.log(w.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(yield this._startInternal(),this._connectionState=Ae.Connected,this._logger.log(w.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(w.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(w.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==Ae.Reconnecting){this._logger.log(w.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Ae.Disconnecting&&this._completeClose();return}r=s instanceof Error?s:new Error(s.toString()),o=this._getNextRetryDelay(i++,Date.now()-t,r)}}this._logger.log(w.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()})}_getNextRetryDelay(n,t,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:n,retryReason:i})}catch(r){return this._logger.log(w.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${t}) threw error '${r}'.`),null}}_cancelCallbacksWithError(n){let t=this._callbacks;this._callbacks={},Object.keys(t).forEach(i=>{let r=t[i];try{r(null,n)}catch(o){this._logger.log(w.Error,`Stream 'error' callback called with '${n}' threw error: ${zu(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,t,i,r){if(i)return r.length!==0?{arguments:t,streamIds:r,target:n,type:z.Invocation}:{arguments:t,target:n,type:z.Invocation};{let o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:t,invocationId:o.toString(),streamIds:r,target:n,type:z.Invocation}:{arguments:t,invocationId:o.toString(),target:n,type:z.Invocation}}}_launchStreams(n,t){if(n.length!==0){t||(t=Promise.resolve());for(let i in n)n[i].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:r=>{let o;r instanceof Error?o=r.message:r&&r.toString?o=r.toString():o="Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,o)))},next:r=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,r)))}})}}_replaceStreamingParams(n){let t=[],i=[];for(let r=0;r<n.length;r++){let o=n[r];if(this._isObservable(o)){let s=this._invocationId;this._invocationId++,t[s]=o,i.push(s.toString()),n.splice(r,1)}}return[t,i]}_isObservable(n){return n&&n.subscribe&&typeof n.subscribe=="function"}_createStreamInvocation(n,t,i){let r=this._invocationId;return this._invocationId++,i.length!==0?{arguments:t,invocationId:r.toString(),streamIds:i,target:n,type:z.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:n,type:z.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:z.CancelInvocation}}_createStreamItemMessage(n,t){return{invocationId:n,item:t,type:z.StreamItem}}_createCompletionMessage(n,t,i){return t?{error:t,invocationId:n,type:z.Completion}:{invocationId:n,result:i,type:z.Completion}}_createCloseMessage(){return{type:z.Close}}};var hP=[0,2e3,1e4,3e4,null],Ia=class{constructor(n){this._retryDelays=n!==void 0?[...n,null]:hP}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}};var Lr=(()=>{class e{}return e.Authorization="Authorization",e.Cookie="Cookie",e})();var Xu=class extends Gn{constructor(n,t){super(),this._innerClient=n,this._accessTokenFactory=t}send(n){return X(this,null,function*(){let t=!0;this._accessTokenFactory&&(!this._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=yield this._accessTokenFactory()),this._setAuthorizationHeader(n);let i=yield this._innerClient.send(n);return t&&i.statusCode===401&&this._accessTokenFactory?(this._accessToken=yield this._accessTokenFactory(),this._setAuthorizationHeader(n),yield this._innerClient.send(n)):i})}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Lr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Lr.Authorization]&&delete n.headers[Lr.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}};var tt=function(e){return e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling",e}(tt||{}),Ze=function(e){return e[e.Text=1]="Text",e[e.Binary=2]="Binary",e}(Ze||{});var ed=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};var Ma=class{get pollAborted(){return this._pollAbort.aborted}constructor(n,t,i){this._httpClient=n,this._logger=t,this._pollAbort=new ed,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}connect(n,t){return X(this,null,function*(){if(ve.isRequired(n,"url"),ve.isRequired(t,"transferFormat"),ve.isIn(t,Ze,"transferFormat"),this._url=n,this._logger.log(w.Trace,"(LongPolling transport) Connecting."),t===Ze.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");let[i,r]=Yn(),o=I({[i]:r},this._options.headers),s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===Ze.Binary&&(s.responseType="arraybuffer");let a=`${n}&_=${Date.now()}`;this._logger.log(w.Trace,`(LongPolling transport) polling: ${a}.`);let l=yield this._httpClient.get(a,s);l.statusCode!==200?(this._logger.log(w.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new Qt(l.statusText||"",l.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)})}_poll(n,t){return X(this,null,function*(){try{for(;this._running;)try{let i=`${n}&_=${Date.now()}`;this._logger.log(w.Trace,`(LongPolling transport) polling: ${i}.`);let r=yield this._httpClient.get(i,t);r.statusCode===204?(this._logger.log(w.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(w.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new Qt(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(w.Trace,`(LongPolling transport) data received. ${Gi(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(w.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){this._running?i instanceof zi?this._logger.log(w.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=i,this._running=!1):this._logger.log(w.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{this._logger.log(w.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}})}send(n){return X(this,null,function*(){return this._running?qu(this._logger,"LongPolling",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return X(this,null,function*(){this._logger.log(w.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{yield this._receiving,this._logger.log(w.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);let n={},[t,i]=Yn();n[t]=i;let r={headers:I(I({},n),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials},o;try{yield this._httpClient.delete(this._url,r)}catch(s){o=s}o?o instanceof Qt&&(o.statusCode===404?this._logger.log(w.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(w.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(w.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(w.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}})}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(w.Trace,n),this.onclose(this._closeError)}}};var td=class{constructor(n,t,i,r){this._httpClient=n,this._accessToken=t,this._logger=i,this._options=r,this.onreceive=null,this.onclose=null}connect(n,t){return X(this,null,function*(){return ve.isRequired(n,"url"),ve.isRequired(t,"transferFormat"),ve.isIn(t,Ze,"transferFormat"),this._logger.log(w.Trace,"(SSE transport) Connecting."),this._url=n,this._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((i,r)=>{let o=!1;if(t!==Ze.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(De.isBrowser||De.isWebWorker)s=new this._options.EventSource(n,{withCredentials:this._options.withCredentials});else{let a=this._httpClient.getCookieString(n),l={};l.Cookie=a;let[d,p]=Yn();l[d]=p,s=new this._options.EventSource(n,{withCredentials:this._options.withCredentials,headers:I(I({},l),this._options.headers)})}try{s.onmessage=a=>{if(this.onreceive)try{this._logger.log(w.Trace,`(SSE transport) data received. ${Gi(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(l){this._close(l);return}},s.onerror=a=>{o?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(w.Information,`SSE connected to ${this._url}`),this._eventSource=s,o=!0,i()}}catch(a){r(a);return}})})}send(n){return X(this,null,function*(){return this._eventSource?qu(this._logger,"SSE",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}};var nd=class{constructor(n,t,i,r,o,s){this._logger=i,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=s}connect(n,t){return X(this,null,function*(){ve.isRequired(n,"url"),ve.isRequired(t,"transferFormat"),ve.isIn(t,Ze,"transferFormat"),this._logger.log(w.Trace,"(WebSockets transport) Connecting.");let i;return this._accessTokenFactory&&(i=yield this._accessTokenFactory()),new Promise((r,o)=>{n=n.replace(/^http/,"ws");let s,a=this._httpClient.getCookieString(n),l=!1;if(De.isNode||De.isReactNative){let d={},[p,m]=Yn();d[p]=m,i&&(d[Lr.Authorization]=`Bearer ${i}`),a&&(d[Lr.Cookie]=a),s=new this._webSocketConstructor(n,void 0,{headers:I(I({},d),this._headers)})}else i&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);s||(s=new this._webSocketConstructor(n)),t===Ze.Binary&&(s.binaryType="arraybuffer"),s.onopen=d=>{this._logger.log(w.Information,`WebSocket connected to ${n}.`),this._webSocket=s,l=!0,r()},s.onerror=d=>{let p=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?p=d.error:p="There was an error with the transport",this._logger.log(w.Information,`(WebSockets transport) ${p}.`)},s.onmessage=d=>{if(this._logger.log(w.Trace,`(WebSockets transport) data received. ${Gi(d.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(d.data)}catch(p){this._close(p);return}},s.onclose=d=>{if(l)this._close(d);else{let p=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?p=d.error:p="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(p))}}})})}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(w.Trace,`(WebSockets transport) sending data. ${Gi(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(w.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(n)&&(n.wasClean===!1||n.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)):n instanceof Error?this.onclose(n):this.onclose())}_isCloseEvent(n){return n&&typeof n.wasClean=="boolean"&&typeof n.code=="number"}};var CD=100,id=class{constructor(n,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ve.isRequired(n,"url"),this._logger=yD(t.logger),this.baseUrl=this._resolveUrl(n),t=t||{},t.logMessageContent=t.logMessageContent===void 0?!1:t.logMessageContent,typeof t.withCredentials=="boolean"||t.withCredentials===void 0)t.withCredentials=t.withCredentials===void 0?!0:t.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.timeout=t.timeout===void 0?100*1e3:t.timeout;let i=null,r=null;if(De.isNode&&typeof Br<"u"){let o=typeof __webpack_require__=="function"?__non_webpack_require__:Br;i=o("ws"),r=o("eventsource")}!De.isNode&&typeof WebSocket<"u"&&!t.WebSocket?t.WebSocket=WebSocket:De.isNode&&!t.WebSocket&&i&&(t.WebSocket=i),!De.isNode&&typeof EventSource<"u"&&!t.EventSource?t.EventSource=EventSource:De.isNode&&!t.EventSource&&typeof r<"u"&&(t.EventSource=r),this._httpClient=new Xu(t.httpClient||new Yu(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}start(n){return X(this,null,function*(){if(n=n||Ze.Binary,ve.isIn(n,Ze,"transferFormat"),this._logger.log(w.Debug,`Starting connection with transfer format '${Ze[n]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(n),yield this._startInternalPromise,this._connectionState==="Disconnecting"){let t="Failed to start the HttpConnection before stop() was called.";return this._logger.log(w.Error,t),yield this._stopPromise,Promise.reject(new ct(t))}else if(this._connectionState!=="Connected"){let t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(w.Error,t),Promise.reject(new ct(t))}this._connectionStarted=!0})}send(n){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Jm(this.transport)),this._sendQueue.send(n))}stop(n){return X(this,null,function*(){if(this._connectionState==="Disconnected")return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(w.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(t=>{this._stopPromiseResolver=t}),yield this._stopInternal(n),yield this._stopPromise})}_stopInternal(n){return X(this,null,function*(){this._stopError=n;try{yield this._startInternalPromise}catch{}if(this.transport){try{yield this.transport.stop()}catch(t){this._logger.log(w.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(w.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})}_startInternal(n){return X(this,null,function*(){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===tt.WebSockets)this.transport=this._constructTransport(tt.WebSockets),yield this._startTransport(t,n);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let i=null,r=0;do{if(i=yield this._getNegotiationResponse(t),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ct("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(t=i.url),i.accessToken){let o=i.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}r++}while(i.url&&r<CD);if(r===CD&&i.url)throw new Error("Negotiate redirection limit exceeded.");yield this._createTransport(t,this._options.transport,i,n)}this.transport instanceof Ma&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(w.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(i){return this._logger.log(w.Error,"Failed to start the connection: "+i),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(i)}})}_getNegotiationResponse(n){return X(this,null,function*(){let t={},[i,r]=Yn();t[i]=r;let o=this._resolveNegotiateUrl(n);this._logger.log(w.Debug,`Sending negotiation request: ${o}.`);try{let s=yield this._httpClient.post(o,{content:"",headers:I(I({},t),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));let a=JSON.parse(s.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Sa("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(s){let a="Failed to complete negotiation with the server: "+s;return s instanceof Qt&&s.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(w.Error,a),Promise.reject(new Sa(a))}})}_createConnectUrl(n,t){return t?n+(n.indexOf("?")===-1?"?":"&")+`id=${t}`:n}_createTransport(n,t,i,r){return X(this,null,function*(){let o=this._createConnectUrl(n,i.connectionToken);if(this._isITransport(t)){this._logger.log(w.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,yield this._startTransport(o,r),this.connectionId=i.connectionId;return}let s=[],a=i.availableTransports||[],l=i;for(let d of a){let p=this._resolveTransportOrError(d,t,r,l?.useStatefulReconnect===!0);if(p instanceof Error)s.push(`${d.transport} failed:`),s.push(p);else if(this._isITransport(p)){if(this.transport=p,!l){try{l=yield this._getNegotiationResponse(n)}catch(m){return Promise.reject(m)}o=this._createConnectUrl(n,l.connectionToken)}try{yield this._startTransport(o,r),this.connectionId=l.connectionId;return}catch(m){if(this._logger.log(w.Error,`Failed to start the transport '${d.transport}': ${m}`),l=void 0,s.push(new Uu(`${d.transport} failed: ${m}`,tt[d.transport])),this._connectionState!=="Connecting"){let v="Failed to select transport before stop() was called.";return this._logger.log(w.Debug,v),Promise.reject(new ct(v))}}}}return s.length>0?Promise.reject(new Hu(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))})}_constructTransport(n){switch(n){case tt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new nd(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case tt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new td(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case tt.LongPolling:return new Ma(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=i=>X(this,null,function*(){let r=!1;if(this.features.reconnect)try{this.features.disconnected(),yield this.transport.connect(n,t),yield this.features.resend()}catch{r=!0}else{this._stopConnection(i);return}r&&this._stopConnection(i)}):this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(n,t)}_resolveTransportOrError(n,t,i,r){let o=tt[n.transport];if(o==null)return this._logger.log(w.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(mP(t,o))if(n.transferFormats.map(a=>Ze[a]).indexOf(i)>=0){if(o===tt.WebSockets&&!this._options.WebSocket||o===tt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it is not supported in your environment.'`),new ju(`'${tt[o]}' is not supported in your environment.`,o);this._logger.log(w.Debug,`Selecting transport '${tt[o]}'.`);try{return this.features.reconnect=o===tt.WebSockets?r:void 0,this._constructTransport(o)}catch(a){return a}}else return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it does not support the requested transfer format '${Ze[i]}'.`),new Error(`'${tt[o]}' does not support ${Ze[i]}.`);else return this._logger.log(w.Debug,`Skipping transport '${tt[o]}' because it was disabled by the client.`),new Bu(`'${tt[o]}' is disabled by the client.`,o)}_isITransport(n){return n&&typeof n=="object"&&"connect"in n}_stopConnection(n){if(this._logger.log(w.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(w.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(w.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),n?this._logger.log(w.Error,`Connection disconnected with error '${n}'.`):this._logger.log(w.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(t=>{this._logger.log(w.Error,`TransportSendQueue.stop() threw error '${t}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(t){this._logger.log(w.Error,`HttpConnection.onclose(${n}) threw error '${t}'.`)}}}_resolveUrl(n){if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(!De.isBrowser)throw new Error(`Cannot resolve '${n}'.`);let t=window.document.createElement("a");return t.href=n,this._logger.log(w.Information,`Normalizing '${n}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(n){let t=new URL(n);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";let i=new URLSearchParams(t.searchParams);return i.has("negotiateVersion")||i.append("negotiateVersion",this._negotiateVersion.toString()),i.has("useStatefulReconnect")?i.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&i.append("useStatefulReconnect","true"),t.search=i.toString(),t.toString()}};function mP(e,n){return!e||(n&e)!==0}var Jm=class e{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Xo,this._transportResult=new Xo,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Xo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}_sendLoop(){return X(this,null,function*(){for(;;){if(yield this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Xo;let n=this._transportResult;this._transportResult=void 0;let t=typeof this._buffer[0]=="string"?this._buffer.join(""):e._concatBuffers(this._buffer);this._buffer.length=0;try{yield this._transport.send(t),n.resolve()}catch(i){n.reject(i)}}})}static _concatBuffers(n){let t=n.map(o=>o.byteLength).reduce((o,s)=>o+s),i=new Uint8Array(t),r=0;for(let o of n)i.set(new Uint8Array(o),r),r+=o.byteLength;return i.buffer}},Xo=class{constructor(){this.promise=new Promise((n,t)=>[this._resolver,this._rejecter]=[n,t])}resolve(){this._resolver()}reject(n){this._rejecter(n)}};var gP="json",rd=class{constructor(){this.name=gP,this.version=2,this.transferFormat=Ze.Text}parseMessages(n,t){if(typeof n!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];t===null&&(t=Wn.instance);let i=Zt.parse(n),r=[];for(let o of i){let s=JSON.parse(o);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case z.Invocation:this._isInvocationMessage(s);break;case z.StreamItem:this._isStreamItemMessage(s);break;case z.Completion:this._isCompletionMessage(s);break;case z.Ping:break;case z.Close:break;case z.Ack:this._isAckMessage(s);break;case z.Sequence:this._isSequenceMessage(s);break;default:t.log(w.Information,"Unknown message type '"+s.type+"' ignored.");continue}r.push(s)}return r}writeMessage(n){return Zt.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),n.invocationId!==void 0&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),n.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_isAckMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(n,t){if(typeof n!="string"||n==="")throw new Error(t)}};var _P={trace:w.Trace,debug:w.Debug,info:w.Information,information:w.Information,warn:w.Warning,warning:w.Warning,error:w.Error,critical:w.Critical,none:w.None};function vP(e){let n=_P[e.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${e}`)}var Vr=class{configureLogging(n){if(ve.isRequired(n,"logging"),yP(n))this.logger=n;else if(typeof n=="string"){let t=vP(n);this.logger=new Fr(t)}else this.logger=new Fr(n);return this}withUrl(n,t){return ve.isRequired(n,"url"),ve.isNotEmpty(n,"url"),this.url=n,typeof t=="object"?this.httpConnectionOptions=I(I({},this.httpConnectionOptions),t):this.httpConnectionOptions=H(I({},this.httpConnectionOptions),{transport:t}),this}withHubProtocol(n){return ve.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return n?Array.isArray(n)?this.reconnectPolicy=new Ia(n):this.reconnectPolicy=n:this.reconnectPolicy=new Ia,this}withServerTimeout(n){return ve.isRequired(n,"milliseconds"),this._serverTimeoutInMilliseconds=n,this}withKeepAliveInterval(n){return ve.isRequired(n,"milliseconds"),this._keepAliveIntervalInMilliseconds=n,this}withStatefulReconnect(n){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=n?.bufferSize,this}build(){let n=this.httpConnectionOptions||{};if(n.logger===void 0&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");let t=new id(this.url,n);return Ju.create(t,this.logger||Wn.instance,this.protocol||new rd,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}};function yP(e){return e.log!==void 0}var Wi={production:!0,apiBaseUrl:"http://p2pdelivery.runasp.net/",chatHubUrl:"http://p2pdelivery.runasp.net/hub/chat",imageBaseUrl:"http://p2pdelivery.runasp.net/images/",notificationHubUrl:"http://p2pdelivery.runasp.net/hub/notification",enableDebug:!1,secure:!1};var Qn=class e{hubConnection;newMessageSubject=new ae;newMessage$=this.newMessageSubject.asObservable();constructor(){}startConnection(){this.hubConnection=new Vr().withUrl(`${Wi.chatHubUrl}`,{accessTokenFactory:()=>localStorage.getItem("token")||sessionStorage.getItem("token")||""}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>console.log("SignalR connection started")).catch(n=>console.log("Error while starting connection: "+n)),this.registerSignalREvents()}registerSignalREvents(){this.hubConnection?this.hubConnection.on("ReceiveMessage",n=>{this.newMessageSubject.next(n)}):console.error("Hub connection is not established.")}startNewChat(n,t,i){let r={chatId:0,message:t,receiverId:i,date:new Date};this.sendMessage(r,n)}sendMessage(n,t){if(!n||!t){console.error("Message or deliveryRequestId is null or undefined.");return}this.hubConnection&&this.hubConnection.invoke("SendMessageToUser",n,t).catch(i=>console.error("Error while sending message: "+i))}stopConnection(){this.hubConnection&&this.hubConnection.stop().then(()=>console.log("SignalR connection stopped")).catch(n=>console.error("Error while stopping connection: "+n))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var od=class e{applicantId;deliveryRequestId;message="";signalRService=b(Qn);activeModal=b(zn);sendMessage(){this.message.trim()&&(this.signalRService.startNewChat(this.deliveryRequestId.toString(),this.message,this.applicantId),this.activeModal.close())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["app-chat-modal"]],inputs:{applicantId:"applicantId",deliveryRequestId:"deliveryRequestId"},decls:13,vars:2,consts:[[1,"modal-header","text-white"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","bg-white"],[1,"form-group"],["type","text","placeholder","Type a message...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-main","px-4",3,"click","disabled"],[1,"bi","bi-send-fill","ms-2"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"h5",1),f(2,"Send Message"),c(),u(3,"button",2),M("click",function(){return i.activeModal.dismiss()}),c()(),u(4,"div",3)(5,"div",4)(6,"input",5),Ee("ngModelChange",function(o){return xe(i.message,o)||(i.message=o),o}),M("keyup.enter",function(){return i.sendMessage()}),c()()(),u(7,"div",6)(8,"button",7),M("click",function(){return i.activeModal.dismiss()}),f(9,"Close"),c(),u(10,"button",8),M("click",function(){return i.sendMessage()}),f(11," Send "),S(12,"i",9),c()()),t&2&&(h(6),we("ngModel",i.message),h(4),g("disabled",!i.message))},dependencies:[Qe,Oe,$e,Gt],styles:[".modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]{background-color:var(--dark)}textarea[_ngcontent-%COMP%]{resize:none}"]})};var bP=()=>["Accepted","Pending","Cancelled","Completed","Delivered"],DP=(e,n)=>({"bg-success text-white":e,"bg-info text-dark":n}),CP=()=>["Accepted","Pending","Rejected"];function wP(e,n){if(e&1&&(u(0,"div",33),f(1),c()),e&2){let t=y();h(),j(" ",t.errorMessage," ")}}function EP(e,n){if(e&1){let t=ne();u(0,"tr",48)(1,"td"),f(2),c(),u(3,"td"),f(4),c(),u(5,"td"),f(6),gt(7,"currency"),c(),u(8,"td")(9,"span",49),f(10),c()(),u(11,"td")(12,"div",50)(13,"button",51),M("click",function(){let r=R(t).$implicit,o=y(3);return N(o.updateApplicationStatus(r.id,1))}),S(14,"i",52),f(15," Accept "),c(),u(16,"button",53),M("click",function(){let r=R(t).$implicit,o=y(3);return N(o.updateApplicationStatus(r.id,2))}),S(17,"i",54),f(18," Reject "),c(),u(19,"button",55),M("click",function(){let r=R(t).$implicit,o=y(3);return N(o.openChatModal(r.id,o.deliveryRequestDetails.id))}),S(20,"i",56),f(21," Chat "),c()()()()}if(e&2){let t=n.$implicit,i=n.index,r=y(3);h(2),O(i+1),h(2),O(t.userName),h(2),O(Dh(7,7,t.offeredPrice)),h(3),g("ngClass",ks(9,DP,t.applicationStatus==="Accepted",t.applicationStatus!=="Accepted")),h(),j(" ",t.applicationStatus," "),h(3),g("disabled",r.hasAcceptedApplication()&&t.applicationStatus!=="Accepted"),h(6),g("disabled",t.applicationStatus!=="Accepted")}}function SP(e,n){if(e&1&&(u(0,"div")(1,"div",44)(2,"table",45)(3,"thead",46)(4,"tr")(5,"th"),f(6,"#"),c(),u(7,"th"),f(8,"User Name"),c(),u(9,"th"),f(10,"Offered Price"),c(),u(11,"th"),f(12,"Status"),c(),u(13,"th"),f(14,"Actions"),c()()(),u(15,"tbody"),D(16,EP,22,12,"tr",47),c()()()()),e&2){let t=y(2);h(16),g("ngForOf",t.nonRejectedApplications)("ngForTrackBy",t.trackApp)}}function IP(e,n){e&1&&(u(0,"p",57),f(1,"No applications found for this request."),c())}function MP(e,n){if(e&1&&(u(0,"div",34)(1,"div",35)(2,"div",36)(3,"h4",37),f(4,"Delivery Request Details"),c(),u(5,"ul",38)(6,"li",39)(7,"strong"),f(8,"ID:"),c(),f(9),c(),u(10,"li",39)(11,"strong"),f(12,"Title:"),c(),f(13),c(),u(14,"li",39)(15,"strong"),f(16,"Description:"),c(),f(17),c(),u(18,"li",39)(19,"strong"),f(20,"Status:"),c(),u(21,"span",40),f(22),c()()()()(),u(23,"div",41)(24,"div",36)(25,"h4",42),f(26,"Applications"),c(),D(27,SP,17,2,"div",43)(28,IP,2,0,"ng-template",null,0,Fs),c()()()),e&2){let t=Os(29),i=y();h(9),j(" ",i.deliveryRequestDetails.id,""),h(4),j(" ",i.deliveryRequestDetails.title,""),h(4),j(" ",i.deliveryRequestDetails.description,""),h(5),O(i.deliveryRequestDetails.status),h(5),g("ngIf",i.nonRejectedApplications==null?null:i.nonRejectedApplications.length)("ngIfElse",t)}}function xP(e,n){if(e&1&&(u(0,"span",58),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function TP(e,n){if(e&1&&(u(0,"span",59),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function RP(e,n){if(e&1&&(u(0,"span",60),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function NP(e,n){if(e&1&&(u(0,"span",61),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function OP(e,n){if(e&1&&(u(0,"span",62),f(1),c()),e&2){let t=y();h(),O(t.deliveryRequestDetails.status)}}function PP(e,n){if(e&1&&(u(0,"span",63),f(1),c()),e&2){let t=y();h(),j(" ",t.deliveryRequestDetails.status," ")}}function kP(e,n){if(e&1){let t=ne();u(0,"button",64),M("click",function(){R(t);let r=y();return N(r.openPopup(r.deliveryRequestDetails.id))}),f(1,"Add Application"),c()}}function AP(e,n){if(e&1&&(u(0,"div",65),f(1),c()),e&2){let t=y();h(),j(" ",t.deliveryRequestDetails.userName.charAt(0).toUpperCase()," ")}}function FP(e,n){if(e&1&&(u(0,"div",66),S(1,"img",67),c()),e&2){let t=y();h(),g("src","https://localhost:7176"+t.deliveryRequestDetails.drImageUrl,nn)}}function LP(e,n){if(e&1&&(u(0,"span",58),f(1),c()),e&2){let t=y().$implicit;h(),O(t.applicationStatus)}}function VP(e,n){if(e&1&&(u(0,"span",59),f(1),c()),e&2){let t=y().$implicit;h(),O(t.applicationStatus)}}function jP(e,n){if(e&1&&(u(0,"span",60),f(1),c()),e&2){let t=y().$implicit;h(),O(t.applicationStatus)}}function BP(e,n){if(e&1&&(u(0,"span",63),f(1),c()),e&2){let t=y().$implicit;h(),j(" ",t.applicationStatus," ")}}function UP(e,n){e&1&&(u(0,"option",87),f(1,"Reject"),c())}function HP(e,n){e&1&&(u(0,"option",88),f(1,"Accept"),c())}function $P(e,n){e&1&&(u(0,"option",88),f(1,"Accept"),c(),u(2,"option",87),f(3,"Reject"),c())}function qP(e,n){if(e&1){let t=ne();u(0,"div",69)(1,"div",70)(2,"div",16)(3,"div",71)(4,"div",72),D(5,LP,2,1,"span",5)(6,VP,2,1,"span",6)(7,jP,2,1,"span",7)(8,BP,2,1,"span",10),u(9,"div",73),f(10),c(),u(11,"div",74),f(12),c(),u(13,"div",75),f(14,"\u2605 \u2605 \u2605 \u2605 \u2606"),c()()(),u(15,"div",76)(16,"div",77)(17,"div",78),f(18),c(),u(19,"div"),f(20,"EGP"),c()()(),u(21,"div",79)(22,"div",80)(23,"button",81),M("click",function(){let r=R(t).$implicit,o=y(2);return N(o.openChatModal(r.userId,o.deliveryRequestDetails.id))}),f(24,"Chat"),c(),u(25,"div",82)(26,"label",83),f(27,"Change status:"),c(),u(28,"div",84)(29,"select",85)(30,"option",86),f(31,"select status"),c(),D(32,UP,2,0,"option",87)(33,HP,2,0,"option",88)(34,$P,4,0),c(),u(35,"button",89),f(36,"Save"),c()()()()()()()()}if(e&2){let t=n.$implicit;h(5),g("ngIf",t.applicationStatus==="Accepted"),h(),g("ngIf",t.applicationStatus==="Pending"),h(),g("ngIf",t.applicationStatus==="Rejected"),h(),g("ngIf",!Pn(10,CP).includes(t.applicationStatus)),h(2),O(t.userName),h(2),O(t.date),h(6),O(t.offeredPrice),h(14),fe(t.applicationStatus==="Accepted"?32:-1),h(),fe(t.applicationStatus==="Rejected"?33:-1),h(),fe(t.applicationStatus==="Pending"?34:-1)}}function zP(e,n){if(e&1&&(u(0,"section",32)(1,"h1",68),f(2,"Offered Applications"),c(),yr(3,qP,37,11,"div",69,Ns),c()),e&2){let t=y();h(3),br(t.deliveryRequestDetails.applicationDTOs)}}var sd=class e{constructor(n){this.modalService=n}deliveryRequestService=b(Wt);route=b(lt);applicationService=b(Wt);deliveryRequestDetails;ApplicationstatusDTO;errorMessage="";router=b(oe);ngOnInit(){let n=Number(this.route.snapshot.paramMap.get("id"));if(!n){this.errorMessage="Invalid request ID";return}this.deliveryRequestService.getRequestDetails(n).subscribe({next:t=>{console.log(t),t.isSuccess?(this.deliveryRequestDetails=t.data,this.deliveryRequestDetails.pickUpDate=t.data.pickUpDate.split("T")[0],this.deliveryRequestDetails.applicationDTOs.forEach(i=>{i.date&&(i.date=i.date.split("T")[0])}),console.log(this.deliveryRequestDetails)):(this.errorMessage=t.message||"An error occurred while fetching request details.",console.error(this.errorMessage))}})}openPopup(n){if(localStorage.getItem("token")||sessionStorage.getItem("token")){let i=this.modalService.open(qi,{centered:!0,size:"m"});i.componentInstance.deliveryRequestID=n}else this.router.navigate(["/login"])}openChatModal(n,t){let i=this.modalService.open(od);i.componentInstance.applicantId=n,i.componentInstance.deliveryRequestId=t}updateApplicationStatus(n,t){let i={id:n,status:t,deleveryRequestId:this.deliveryRequestDetails.id};console.log(i),this.applicationService.changeStatus(i).subscribe({next:r=>{r.isSuccess?this.deliveryRequestService.getRequestDetails(this.deliveryRequestDetails.id).subscribe(o=>{o.isSuccess?this.deliveryRequestDetails=o.data:this.errorMessage="Failed to refresh request details."}):this.errorMessage="Failed to update status."},error:r=>{this.errorMessage="An error occurred while updating the status.",console.error(this.errorMessage)}})}hasAcceptedApplication(){return this.deliveryRequestDetails.applicationDTOs?.some(n=>n.applicationStatus==="Accepted")||!1}get nonRejectedApplications(){return this.deliveryRequestDetails?.applicationDTOs?.filter(n=>n.applicationStatus!=="Rejected")}trackApp(n,t){return t.id}static \u0275fac=function(t){return new(t||e)(C(vi))};static \u0275cmp=V({type:e,selectors:[["app-delivery-request-details"]],decls:62,vars:23,consts:[["noApplications",""],[1,"container","my-5"],["class","alert alert-danger text-center fw-bold animate__animated animate__fadeIn",4,"ngIf"],["class","details-container",4,"ngIf"],[1,"py-5","container"],["class","badge bg-success status-badge",4,"ngIf"],["class","badge bg-warning text-dark status-badge",4,"ngIf"],["class","badge bg-danger status-badge",4,"ngIf"],["class","badge bg-info status-badge",4,"ngIf"],["class","badge bg-warning status-badge",4,"ngIf"],["class","badge bg-secondary status-badge",4,"ngIf"],[1,"row","align-items-center","mb-4"],[1,"col-md-8","col-12"],[1,"mb-3","mb-md-0"],[1,"col-md-4","col-12","text-md-end","text-start"],[1,"btn","btn-main"],[1,"row"],[1,"col-lg-8","col-12"],[1,"text-muted"],[1,"fs-6",3,"innerHTML"],[1,"col-lg-4","col-12"],[1,"card","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center"],["alt","User","width","50","height","50",1,"rounded-circle","me-3",3,"src"],["class","d-flex justify-content-center align-items-center rounded-circle text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"mb-0","fw-bold"],[1,"card","shadow-sm"],[1,"card-body"],[1,"text-muted","mb-3"],[1,"list-unstyled","small"],[1,"mb-2"],["class","text-center my-3",4,"ngIf"],[1,"container","mb-3"],[1,"alert","alert-danger","text-center","fw-bold","animate__animated","animate__fadeIn"],[1,"details-container"],[1,"card","mb-4","shadow-lg","border-0","animate__animated","animate__fadeInUp"],[1,"card-body","p-4"],[1,"card-title","text-primary","mb-4","fw-bold"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"badge","bg-info","text-dark","rounded-pill"],[1,"card","shadow-lg","border-0","animate__animated","animate__fadeInUp","animation-delay-2"],[1,"card-title","text-success","mb-4","fw-bold"],[4,"ngIf","ngIfElse"],[1,"table-responsive"],[1,"table","table-hover","align-middle","text-center","modern-table"],[1,"table-light"],["class","animate__animated animate__fadeIn",4,"ngFor","ngForOf","ngForTrackBy"],[1,"animate__animated","animate__fadeIn"],[1,"badge","rounded-pill",3,"ngClass"],[1,"d-flex","justify-content-center","gap-2","flex-wrap"],["title","Accept Application",1,"btn","btn-success","btn-sm","action-btn","custom-accept-btn",3,"click","disabled"],[1,"bi","bi-check-circle","me-1"],["title","Reject Application",1,"btn","btn-danger","btn-sm","action-btn","custom-reject-btn",3,"click"],[1,"bi","bi-x-circle","me-1"],["title","Chat with Applicant",1,"btn","btn-outline-secondary","btn-sm","action-btn",3,"click","disabled"],[1,"bi","bi-chat-dots","me-1"],[1,"text-muted","text-center","fst-italic","py-3"],[1,"badge","bg-success","status-badge"],[1,"badge","bg-warning","text-dark","status-badge"],[1,"badge","bg-danger","status-badge"],[1,"badge","bg-info","status-badge"],[1,"badge","bg-warning","status-badge"],[1,"badge","bg-secondary","status-badge"],[1,"btn","btn-main",3,"click"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"text-center","my-3"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"],[1,"font-weight-light","text-center"],[1,"container","py-2"],[1,"card-custom","p-3"],[1,"col-12","col-md-4","d-flex","flex-column","flex-md-row","align-items-center"],[1,"text-center","text-md-start"],[1,"fw-bold","fs-5"],[1,"text-muted","small","mb-1"],[1,"stars"],[1,"col-12","col-md-4","price-section","text-center","text-md-start","my-4","my-md-0"],[1,"triangle-section","p-2"],[2,"font-size","3rem"],[1,"col-12","col-md-4","text-center","text-md-start"],[1,"d-flex","flex-column","align-items-center"],[1,"btn","chat-btn","btn-main","mb-2",3,"click"],[1,"w-100"],["for","status",1,"form-label","fw-bold","mb-1"],[1,"d-flex","flex-column","flex-sm-row","align-items-center"],["aria-label","Default select example",1,"form-select","mb-2","mb-sm-0","me-sm-2"],["selected",""],["value","2"],["value","1"],[1,"btn","save-btn","btn-main","btn-sm"]],template:function(t,i){t&1&&(u(0,"div",1),D(1,wP,2,1,"div",2)(2,MP,30,6,"div",3),c(),u(3,"section",4),D(4,xP,2,1,"span",5)(5,TP,2,1,"span",6)(6,RP,2,1,"span",7)(7,NP,2,1,"span",8)(8,OP,2,1,"span",9)(9,PP,2,1,"span",10),u(10,"div",11)(11,"div",12)(12,"h1",13),f(13),c()(),u(14,"div",14),D(15,kP,2,0,"button",15),c()(),u(16,"div",16)(17,"div",17)(18,"h5",18),f(19,"Request Description"),c(),S(20,"hr")(21,"p",19),c(),u(22,"div",20)(23,"div",21)(24,"div",22),S(25,"img",23),D(26,AP,2,1,"div",24),u(27,"div")(28,"h6",25),f(29),c()()()(),u(30,"div",26)(31,"div",27)(32,"h5",28),f(33,"Request Details"),c(),u(34,"ul",29)(35,"li",30)(36,"strong"),f(37,"Weight: "),c(),u(38,"span",18),f(39),c()(),u(40,"li",30)(41,"strong"),f(42,"Pick-up: "),c(),u(43,"span",18),f(44),c()(),u(45,"li",30)(46,"strong"),f(47,"Drop-off: "),c(),u(48,"span",18),f(49),c()(),u(50,"li",30)(51,"strong"),f(52,"Pick-up Date: "),c(),u(53,"span",18),f(54),c()(),u(55,"li",30)(56,"strong"),f(57,"Price Range: "),c(),u(58,"span",18),f(59),c()()(),D(60,FP,2,1,"div",31),c()()()()(),D(61,zP,5,0,"section",32)),t&2&&(h(),g("ngIf",i.errorMessage),h(),g("ngIf",i.deliveryRequestDetails),h(2),g("ngIf",i.deliveryRequestDetails.status==="Accepted"),h(),g("ngIf",i.deliveryRequestDetails.status==="Pending"),h(),g("ngIf",i.deliveryRequestDetails.status==="Cancelled"),h(),g("ngIf",i.deliveryRequestDetails.status==="Completed"),h(),g("ngIf",i.deliveryRequestDetails.status==="Delivered"),h(),g("ngIf",!Pn(22,bP).includes(i.deliveryRequestDetails.status)),h(4),O(i.deliveryRequestDetails.title),h(2),fe(i.deliveryRequestDetails.applicationDTOs.length==0?15:-1),h(6),g("innerHTML",i.deliveryRequestDetails.description,nv),h(4),g("src","https://localhost:7176"+i.deliveryRequestDetails.profileImageUrl,nn),h(),g("ngIf",!i.deliveryRequestDetails.profileImageUrl),h(3),O(i.deliveryRequestDetails.userName),h(10),j("",i.deliveryRequestDetails.totalWeight," kg"),h(5),O(i.deliveryRequestDetails.pickUpLocation),h(5),O(i.deliveryRequestDetails.dropOffLocation),h(5),O(i.deliveryRequestDetails.pickUpDate),h(5),Ps("",i.deliveryRequestDetails.minPrice," - ",i.deliveryRequestDetails.maxPrice," EGP"),h(),g("ngIf",i.deliveryRequestDetails.drImageUrl),h(),fe(i.deliveryRequestDetails.applicationDTOs.length>0?61:-1))},dependencies:[re,Nr,Ie,Ct,He,Fh,Qe,Hn,$n],styles:[".custom-accept-btn[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.custom-accept-btn[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.custom-reject-btn[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.custom-reject-btn[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.card-custom[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 5px 15px #0000001a}.profile-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.status-badge[_ngcontent-%COMP%]{font-size:12px;padding:3px 10px;border-radius:12px;display:inline-block;margin-bottom:5px}.left-section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 20px;flex:1}.info[_ngcontent-%COMP%]{margin-left:15px}.stars[_ngcontent-%COMP%]{color:var(--yellow);font-size:16px}.triangle-section[_ngcontent-%COMP%]{background-color:var(--yellow);height:100%;width:fit-content;clip-path:polygon(0 0,100% 0,100% 100%,0% 100%);display:flex;flex-direction:column;justify-content:center;align-items:center;color:var(--dark);font-weight:700}.triangle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{font-size:48px}.triangle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{font-size:14px}.right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0 20px;justify-content:center}.chat-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{background-color:var(--yellow);color:var(--dark);font-weight:700;border:none;border-radius:10px;width:100%}.status-input[_ngcontent-%COMP%]{border:2px solid var(--yellow);border-radius:8px;width:80px;text-align:center}@media (max-width: 767.98px){.price-section[_ngcontent-%COMP%]{background-color:var(--yellow);text-align:center;width:100%}}@media (max-width: 767.98px){.triangle-section[_ngcontent-%COMP%]{width:100%}}"]})};function GP(e,n){e&1&&(u(0,"small"),f(1,"Title is required"),c())}function WP(e,n){e&1&&(u(0,"small"),f(1,"Title must be less than 100 characters"),c())}function YP(e,n){if(e&1&&(u(0,"div",36),D(1,GP,2,0,"small",37)(2,WP,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("title"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("title"))==null||i.errors==null?null:i.errors.maxlength)}}function QP(e,n){e&1&&(u(0,"small"),f(1,"Total weight is required"),c())}function ZP(e,n){e&1&&(u(0,"small"),f(1,"Must be at least 1 kg"),c())}function KP(e,n){if(e&1&&(u(0,"div",36),D(1,QP,2,0,"small",37)(2,ZP,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("totalWeight"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("totalWeight"))==null||i.errors==null?null:i.errors.min)}}function JP(e,n){e&1&&(u(0,"small"),f(1,"Description is required"),c())}function XP(e,n){e&1&&(u(0,"small"),f(1,"Must be less than 500 characters"),c())}function ek(e,n){if(e&1&&(u(0,"div",36),D(1,JP,2,0,"small",37)(2,XP,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("description"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("description"))==null||i.errors==null?null:i.errors.maxlength)}}function tk(e,n){if(e&1&&(u(0,"option",38),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),j(" ",t," ")}}function nk(e,n){e&1&&(u(0,"small"),f(1,"Pickup location is required"),c())}function ik(e,n){if(e&1&&(u(0,"div",36),D(1,nk,2,0,"small",37),c()),e&2){let t,i=y();h(),g("ngIf",(t=i.createForm.get("pickUpLocation"))==null||t.errors==null?null:t.errors.required)}}function rk(e,n){if(e&1&&(u(0,"option",38),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),j(" ",t," ")}}function ok(e,n){e&1&&(u(0,"small"),f(1,"Dropoff location is required"),c())}function sk(e,n){if(e&1&&(u(0,"div",36),D(1,ok,2,0,"small",37),c()),e&2){let t,i=y();h(),g("ngIf",(t=i.createForm.get("dropOffLocation"))==null||t.errors==null?null:t.errors.required)}}function ak(e,n){e&1&&(u(0,"small"),f(1,"Pickup date is required"),c())}function lk(e,n){if(e&1&&(u(0,"div",36),D(1,ak,2,0,"small",37),c()),e&2){let t,i=y();h(),g("ngIf",(t=i.createForm.get("pickUpDate"))==null||t.errors==null?null:t.errors.required)}}function ck(e,n){e&1&&(u(0,"small"),f(1,"Minimum price is required"),c())}function uk(e,n){e&1&&(u(0,"small"),f(1,"Must be 0 or more"),c())}function dk(e,n){if(e&1&&(u(0,"div",36),D(1,ck,2,0,"small",37)(2,uk,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("minPrice"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("minPrice"))==null||i.errors==null?null:i.errors.min)}}function fk(e,n){e&1&&(u(0,"small"),f(1,"Maximum price is required"),c())}function pk(e,n){e&1&&(u(0,"small"),f(1,"Must be 0 or more"),c())}function hk(e,n){if(e&1&&(u(0,"div",36),D(1,fk,2,0,"small",37)(2,pk,2,0,"small",37),c()),e&2){let t,i,r=y();h(),g("ngIf",(t=r.createForm.get("maxPrice"))==null||t.errors==null?null:t.errors.required),h(),g("ngIf",(i=r.createForm.get("maxPrice"))==null||i.errors==null?null:i.errors.min)}}function mk(e,n){e&1&&(u(0,"div",39)(1,"small"),f(2,"Maximum price must be greater than minimum price"),c()())}var Yi=class e{constructor(n,t,i,r){this.fb=n;this.deliveryRequestService=t;this.router=i;this.activeModal=r;this.initForm()}createForm;egyptGovernorates=Hi;minDate="";selectedImageFile=null;ngOnInit(){let n=new Date;this.minDate=n.toISOString().split("T")[0]}initForm(){this.createForm=this.fb.group({title:["",[U.required,U.maxLength(50)]],description:["",[U.required,U.maxLength(500)]],totalWeight:["",[U.required]],pickUpLocation:["",[U.required]],dropOffLocation:["",[U.required]],pickUpDate:["",[U.required]],minPrice:[0,[U.required,U.min(0)]],maxPrice:[0,[U.required,U.min(0)]]},{validators:[Zo.priceRangeValidator("minPrice","maxPrice")]})}onFileSelected(n){let t=n.target;t.files&&t.files.length>0&&(this.selectedImageFile=t.files[0])}onSubmit(){if(this.createForm.valid){let n=new FormData,t=this.createForm.value;for(let i in t)n.append(i,t[i]);this.selectedImageFile&&n.append("DRImage",this.selectedImageFile),this.deliveryRequestService.create(n).subscribe({next:i=>{console.log(i)},error:i=>{console.error("Error creating delivery request:",i)}}),this.closeModal()}}closeModal(){this.activeModal.close()}static \u0275fac=function(t){return new(t||e)(C(Ui),C(Wt),C(oe),C(zn))};static \u0275cmp=V({type:e,selectors:[["app-delivery-request-creation"]],decls:63,vars:14,consts:[["type","button","aria-label","Close",1,"btn-close",2,"position","absolute","right","20px","top","20px",3,"click"],["id","cont",1,"container","mt-5"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-4","text-center","fw-bold",2,"color","#151e30"],[1,"row","g-3","p-3"],[1,"col-md-6"],["for","title",1,"form-label","fw-semibold"],["type","text","id","title","formControlName","title",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","totalWeight",1,"form-label","fw-semibold"],["type","number","id","totalWeight","formControlName","totalWeight",1,"form-control","form-control-sm"],[1,"mb-3","mt-3"],["for","description",1,"form-label","fw-semibold"],["id","description","rows","3","formControlName","description",1,"form-control","form-control-sm"],[1,"row","g-3","mb-3"],["for","pickUpLocation",1,"form-label","fw-semibold"],["id","pickUpLocation","formControlName","pickUpLocation",1,"form-select","form-control-sm"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","dropOffLocation",1,"form-label","fw-semibold"],["id","dropOffLocation","formControlName","dropOffLocation",1,"form-select","form-control-sm"],[1,"mb-3"],["for","pickUpDate",1,"form-label","fw-semibold"],["type","date","id","pickUpDate","formControlName","pickUpDate",1,"form-control","form-control-sm",3,"min"],[1,"row","g-3"],["for","minPrice",1,"form-label","fw-semibold"],["type","number","id","minPrice","formControlName","minPrice",1,"form-control","form-control-sm"],["for","maxPrice",1,"form-label","fw-semibold"],["type","number","id","maxPrice","formControlName","maxPrice",1,"form-control","form-control-sm"],["class","text-danger mt-2",4,"ngIf"],[1,"form-group"],["for","drImage"],["type","file","id","drImage","accept","image/*",3,"change"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-warning","btn-lg",3,"disabled"],[1,"bi","bi-truck"],[1,"text-danger"],[4,"ngIf"],[3,"value"],[1,"text-danger","mt-2"]],template:function(t,i){if(t&1&&(u(0,"button",0),M("click",function(){return i.closeModal()}),c(),u(1,"div",1)(2,"form",2),M("ngSubmit",function(){return i.onSubmit()}),u(3,"h3",3),f(4,"Create Delivery Request"),c(),u(5,"div",4)(6,"div",5)(7,"label",6),f(8,"Title"),c(),S(9,"input",7),D(10,YP,3,2,"div",8),c(),u(11,"div",5)(12,"label",9),f(13,"Total Weight (kg)"),c(),S(14,"input",10),D(15,KP,3,2,"div",8),c()(),u(16,"div",11)(17,"label",12),f(18,"Description"),c(),S(19,"textarea",13),D(20,ek,3,2,"div",8),c(),u(21,"div",14)(22,"div",5)(23,"label",15),f(24,"Pickup Location"),c(),u(25,"select",16)(26,"option",17),f(27,"Select pickup location"),c(),D(28,tk,2,2,"option",18),c(),D(29,ik,2,1,"div",8),c(),u(30,"div",5)(31,"label",19),f(32,"Dropoff Location"),c(),u(33,"select",20)(34,"option",17),f(35,"Select dropoff location"),c(),D(36,rk,2,2,"option",18),c(),D(37,sk,2,1,"div",8),c()(),u(38,"div",21)(39,"label",22),f(40,"Pickup Date"),c(),S(41,"input",23),D(42,lk,2,1,"div",8),c(),u(43,"div",24)(44,"div",5)(45,"label",25),f(46,"Minimum Price"),c(),S(47,"input",26),D(48,dk,3,2,"div",8),c(),u(49,"div",5)(50,"label",27),f(51,"Maximum Price"),c(),S(52,"input",28),D(53,hk,3,2,"div",8),c()(),D(54,mk,3,0,"div",29),u(55,"div",30)(56,"label",31),f(57,"Delivery Request Image"),c(),u(58,"input",32),M("change",function(o){return i.onFileSelected(o)}),c()(),u(59,"div",33)(60,"button",34),S(61,"i",35),f(62," Create Delivery Request "),c()()()()),t&2){let r,o,s,a,l,d,p,m;h(2),g("formGroup",i.createForm),h(8),g("ngIf",((r=i.createForm.get("title"))==null?null:r.invalid)&&(((r=i.createForm.get("title"))==null?null:r.dirty)||((r=i.createForm.get("title"))==null?null:r.touched))),h(5),g("ngIf",((o=i.createForm.get("totalWeight"))==null?null:o.invalid)&&(((o=i.createForm.get("totalWeight"))==null?null:o.dirty)||((o=i.createForm.get("totalWeight"))==null?null:o.touched))),h(5),g("ngIf",((s=i.createForm.get("description"))==null?null:s.invalid)&&(((s=i.createForm.get("description"))==null?null:s.dirty)||((s=i.createForm.get("description"))==null?null:s.touched))),h(8),g("ngForOf",i.egyptGovernorates),h(),g("ngIf",((a=i.createForm.get("pickUpLocation"))==null?null:a.invalid)&&(((a=i.createForm.get("pickUpLocation"))==null?null:a.dirty)||((a=i.createForm.get("pickUpLocation"))==null?null:a.touched))),h(7),g("ngForOf",i.egyptGovernorates),h(),g("ngIf",((l=i.createForm.get("dropOffLocation"))==null?null:l.invalid)&&(((l=i.createForm.get("dropOffLocation"))==null?null:l.dirty)||((l=i.createForm.get("dropOffLocation"))==null?null:l.touched))),h(4),g("min",i.minDate),h(),g("ngIf",((d=i.createForm.get("pickUpDate"))==null?null:d.invalid)&&(((d=i.createForm.get("pickUpDate"))==null?null:d.dirty)||((d=i.createForm.get("pickUpDate"))==null?null:d.touched))),h(6),g("ngIf",((p=i.createForm.get("minPrice"))==null?null:p.invalid)&&(((p=i.createForm.get("minPrice"))==null?null:p.dirty)||((p=i.createForm.get("minPrice"))==null?null:p.touched))),h(5),g("ngIf",((m=i.createForm.get("maxPrice"))==null?null:m.invalid)&&(((m=i.createForm.get("maxPrice"))==null?null:m.dirty)||((m=i.createForm.get("maxPrice"))==null?null:m.touched))),h(),g("ngIf",i.createForm.errors==null?null:i.createForm.errors.priceRange),h(6),g("disabled",i.createForm.invalid)}},dependencies:[qn,cn,Hn,$n,Oe,Dn,Un,$e,ln,gi,_i,Ie,He,re],styles:[".container[_ngcontent-%COMP%]{max-width:850px;width:100%;margin-bottom:40px;padding:0 20px}.card[_ngcontent-%COMP%]{background-color:#fff;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:100%}.form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600;font-size:1rem}.form-control-sm[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--yellow)}.btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:8px;color:#1a202c}.btn-warning[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.text-danger[_ngcontent-%COMP%]{font-size:.875rem;color:#dc3545}.text-danger[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block}.g-3[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}@media (max-width: 767px){.container[_ngcontent-%COMP%]{max-width:100%;padding:10px}.form-label[_ngcontent-%COMP%]{font-size:.9rem}.form-control-sm[_ngcontent-%COMP%]{font-size:.85rem}.btn-warning[_ngcontent-%COMP%]{font-size:.9rem;padding:.6rem 1rem}.text-danger[_ngcontent-%COMP%]{font-size:.75rem}.g-3[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}"]})};var xa=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["app-home"]],decls:86,vars:0,consts:[[1,"landing","d-flex","justify-content-center","align-items-center"],[1,"text-center","text-light"],["data-aos","zoom-out-right","data-aos-duration","400"],["data-aos","zoom-out-left","data-aos-duration","400"],["data-aos","zoom-out-left","data-aos-duration","300",1,"btn","btn-main","rounded-pill","me-1"],[1,"features","pt-5","pb-5"],[1,"container"],[1,"text-center","pb-5","main-title","position-relative"],[1,"row"],[1,"col-lg","col-sm-12"],[1,"row","row-cols-1","p-2"],["data-aos","fade-down","data-aos-easing","linear","data-aos-duration","800",1,"col"],[1,"number-title-holder","position-relative"],[1,"fa-solid","fa-1","position-absolute","bottom-0","number"],[1,"position-absolute","bottom-0"],[1,"text-muted","fw-light"],["data-aos","fade-down","data-aos-easing","linear","data-aos-duration","800",1,"col","mt-lg-5","mt-3"],[1,"position-relative"],[1,"fa-solid","fa-2","position-absolute","bottom-0","number"],[1,"col-lg","col-sm-12","features-center","text-center","d-flex","justify-content-center","align-items-center"],[1,"fa-solid","fa-people-carry-box"],[1,"fa-solid","fa-3","position-absolute","bottom-0","number"],[1,"fa-solid","fa-4","position-absolute","bottom-0","number"],[1,"faq","pt-5","pb-5"],[1,"text-center","pb-5","text-light","position-relative"],[1,"col-lg-8","col-sm-12"],["id","faqAccordion",1,"accordion","faq-accordion"],[1,"accordion-item","faq-item"],["id","faqHeadingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseOne","aria-expanded","true","aria-controls","faqCollapseOne",1,"accordion-button","faq-button"],["id","faqCollapseOne","aria-labelledby","faqHeadingOne","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse","show"],[1,"accordion-body","faq-body"],["id","faqHeadingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseTwo","aria-expanded","false","aria-controls","faqCollapseTwo",1,"accordion-button","collapsed","faq-button"],["id","faqCollapseTwo","aria-labelledby","faqHeadingTwo","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","faqHeadingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapseThree","aria-expanded","false","aria-controls","faqCollapseThree",1,"accordion-button","collapsed","faq-button"],["id","faqCollapseThree","aria-labelledby","faqHeadingThree","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","faqHeadingfour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#faqCollapsefour","aria-expanded","false","aria-controls","faqCollapsefour",1,"accordion-button","collapsed","faq-button"],["id","faqCollapsefour","aria-labelledby","faqHeadingfour","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["data-aos","zoom-out","data-aos-delay","300","data-aos-duration","1000",1,"col-lg-4","faq-right","d-none","d-lg-block"],[1,"fa-solid","fa-circle-question"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h1",2),f(3,"We are awesome!"),c(),u(4,"p",3),f(5,"Lorem ipsum dolor sit, amet"),c(),u(6,"a",4),f(7,"Get Started"),c()()(),u(8,"div",5)(9,"div",6)(10,"div",7)(11,"h1"),f(12,"Features"),c()(),u(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),S(18,"i",13),u(19,"h1",14),f(20,"header"),c()(),u(21,"p",15),f(22,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()(),u(23,"div",16)(24,"h1"),f(25,"header"),c(),u(26,"div",17),S(27,"i",18),u(28,"p",15),f(29,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()()()()(),u(30,"div",19),S(31,"i",20),c(),u(32,"div",9)(33,"div",10)(34,"div",11)(35,"div",12),S(36,"i",21),u(37,"h1",14),f(38,"header"),c()(),u(39,"p",15),f(40,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()(),u(41,"div",16)(42,"h1"),f(43,"header"),c(),u(44,"div",17),S(45,"i",22),u(46,"p",15),f(47,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus quidem hic ullam iusto, magnam tempore animi consequuntur harum, fuga explicabo atque, nam rerum placeat assumenda labore eum libero? Enim, esse."),c()()()()()()()(),u(48,"div",23)(49,"div",6)(50,"div",24)(51,"h1"),f(52,"Frequently Asked Question"),c()(),u(53,"div",8)(54,"div",25)(55,"div",26)(56,"div",27)(57,"h2",28)(58,"button",29),f(59," What is your return policy? "),c()(),u(60,"div",30)(61,"div",31),f(62," Our return policy allows returns within 30 days of purchase with a valid receipt. "),c()()(),u(63,"div",27)(64,"h2",32)(65,"button",33),f(66," Do you offer international shipping? "),c()(),u(67,"div",34)(68,"div",31),f(69," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()(),u(70,"div",27)(71,"h2",35)(72,"button",36),f(73," Do you offer international shipping? "),c()(),u(74,"div",37)(75,"div",31),f(76," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()(),u(77,"div",27)(78,"h2",38)(79,"button",39),f(80," Do you offer international shipping? "),c()(),u(81,"div",40)(82,"div",31),f(83," Yes, we ship to over 50 countries worldwide. Shipping fees may apply. "),c()()()()(),u(84,"div",41),S(85,"i",42),c()()()())},styles:['.btn-main[_ngcontent-%COMP%]{padding:5px 20px;background-color:var(--yellow);color:var(--dark)}.btn-main[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--yellow);color:var(--dark)}.landing[_ngcontent-%COMP%]{height:600px;background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-repeat:no-repeat;background-size:cover;background-blend-mode:soft-light}.main-title[_ngcontent-%COMP%]:after{content:"";width:120px;height:2px;background-color:var(--yellow);position:absolute;left:50%;transform:translate(-50%)}.features-center[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:200px;color:#e99a42}.number-title-holder[_ngcontent-%COMP%]{height:150px}.number[_ngcontent-%COMP%]{font-size:120px;color:#e99a42;opacity:.2}.faq[_ngcontent-%COMP%]{background-color:var(--yellow)}.faq-right[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:250px;color:var(--dark)}.faq-accordion[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;background-color:transparent}.faq-item[_ngcontent-%COMP%]{background-color:transparent;border:none;border-radius:8px;margin-bottom:15px;overflow:hidden}.faq-button[_ngcontent-%COMP%]{background-color:var(--dark);color:var(--yellow);padding:1rem 1.25rem;border:none;box-shadow:none;font-size:1.1rem;transition:background-color .3s,color .3s}.faq-button[_ngcontent-%COMP%]:not(.collapsed){background-color:transparent;color:var(--dark);font-weight:700}.faq-button[_ngcontent-%COMP%]:after{filter:invert(80%)}.faq-body[_ngcontent-%COMP%]{background-color:transparent;color:var(--dark);padding:17px;font-size:.95rem;line-height:1.6}']})};var es=class e{filtersSubject=new le(null);filters$=this.filtersSubject.asObservable();constructor(){}updateFilters(n){this.filtersSubject.next(n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var gk=["offcanvasElement"],_k=["closeBtn"],ad=class e{constructor(n){this.filterService=n}statusMap={Pending:0,Accepted:1,Completed:2,Cancelled:3,Delivered:4};titleFilter="";statusFilter=[];pickupLocation="";dropoffLocation="";pickupDate="";minPrice=null;applyFilters(){let n={title:this.titleFilter,status:this.statusFilter,pickupLocation:this.pickupLocation,dropoffLocation:this.dropoffLocation,pickupDate:this.pickupDate,minPrice:this.minPrice};this.filterService.updateFilters(n),console.log(n),this.offcanvasInstance&&this.offcanvasInstance.hide()}updateStatusFilter(n){let t=n.target,i=parseInt(t.value,10);t.checked?this.statusFilter.push(i):this.statusFilter=this.statusFilter.filter(r=>r!==i)}offcanvasElement;closeBtn;offcanvasInstance;ngAfterViewInit(){this.offcanvasElement?.nativeElement&&(this.offcanvasInstance=new bootstrap.Offcanvas(this.offcanvasElement.nativeElement),this.offcanvasElement.nativeElement.addEventListener("hidden.bs.offcanvas",()=>{this.forceCleanup()}))}forceCleanup(){this.closeBtn?.nativeElement&&this.closeBtn.nativeElement.click()}static \u0275fac=function(t){return new(t||e)(C(es))};static \u0275cmp=V({type:e,selectors:[["app-filters-menu"]],viewQuery:function(t,i){if(t&1&&(fi(gk,5),fi(_k,5)),t&2){let r;gn(r=_n())&&(i.offcanvasElement=r.first),gn(r=_n())&&(i.closeBtn=r.first)}},decls:58,vars:5,consts:[["offcanvasElement",""],["closeBtn",""],["type","button","data-bs-toggle","offcanvas","data-bs-target","#filterMenu","aria-controls","filterMenu",1,"btn","btn-main"],[1,"row"],["tabindex","-1","id","filterMenu","aria-labelledby","filterMenuLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","filterMenuLabel"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body"],["id","filters","data-auto-filter","true"],[1,"mb-4"],["id","myInput","type","text","placeholder","Search..",1,"form-control",3,"ngModelChange","ngModel"],["data-filter","condition",1,"mb-4"],[1,"font-weight-bold","mb-3"],[1,"form-check","mb-2"],["type","checkbox","value","0","id","status-pending",1,"form-check-input",3,"change"],["for","status-pending",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","1","id","status-accepted",1,"form-check-input",3,"change"],["for","status-accepted",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","2","id","status-completed",1,"form-check-input",3,"change"],["for","status-completed",1,"form-check-label","text-uppercase","small","text-muted"],["type","checkbox","value","3","id","status-cancelled",1,"form-check-input",3,"change"],["for","status-cancelled",1,"form-check-label","text-uppercase","small","text-muted"],[1,"form-check","mb-1"],["type","checkbox","value","4","id","status-delivered",1,"form-check-input",3,"change"],["for","status-delivered",1,"form-check-label","text-uppercase","small","text-muted"],[1,"form-group"],["for","formGroupExampleInput"],["type","text","placeholder","Pickup Location",1,"form-control",3,"ngModelChange","ngModel"],["for","formGroupExampleInput2"],["type","text","placeholder","Dropoff Location",1,"form-control",3,"ngModelChange","ngModel"],["for","startDate"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],["data-bs-dismiss","offcanvas",1,"btn","btn-main","mt-3",3,"click"]],template:function(t,i){if(t&1){let r=ne();u(0,"button",2),f(1,` Filters
`),c(),u(2,"div",3)(3,"div",4,0)(5,"div",5)(6,"h5",6),f(7,"Filters"),c(),S(8,"button",7,1),c(),u(10,"div",8)(11,"section",9)(12,"section",10)(13,"p"),f(14,"Enter To search title:"),c(),u(15,"input",11),Ee("ngModelChange",function(s){return R(r),xe(i.titleFilter,s)||(i.titleFilter=s),N(s)}),c()(),u(16,"section",12)(17,"h6",13),f(18,"Status"),c(),u(19,"div",14)(20,"input",15),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(21,"label",16),f(22," Pending "),c()(),u(23,"div",14)(24,"input",17),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(25,"label",18),f(26," Accepted "),c()(),u(27,"div",14)(28,"input",19),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(29,"label",20),f(30," Completed "),c()(),u(31,"div",14)(32,"input",21),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(33,"label",22),f(34," Cancelled "),c()(),u(35,"div",23)(36,"input",24),M("change",function(s){return R(r),N(i.updateStatusFilter(s))}),c(),u(37,"label",25),f(38," Delivered "),c()()(),u(39,"section",10)(40,"div",26)(41,"label",27),f(42,"Pick up Location"),c(),u(43,"input",28),Ee("ngModelChange",function(s){return R(r),xe(i.pickupLocation,s)||(i.pickupLocation=s),N(s)}),c()(),u(44,"div",26)(45,"label",29),f(46,"Drop Off Location"),c(),u(47,"input",30),Ee("ngModelChange",function(s){return R(r),xe(i.dropoffLocation,s)||(i.dropoffLocation=s),N(s)}),c()()(),u(48,"section",10)(49,"label",31),f(50,"Pick Up From:"),c(),u(51,"input",32),Ee("ngModelChange",function(s){return R(r),xe(i.pickupDate,s)||(i.pickupDate=s),N(s)}),c()(),u(52,"section")(53,"label",31),f(54,"Min Price:"),c(),u(55,"input",33),Ee("ngModelChange",function(s){return R(r),xe(i.minPrice,s)||(i.minPrice=s),N(s)}),c()(),u(56,"button",34),M("click",function(){return R(r),N(i.applyFilters())}),f(57,"Apply Filters"),c()()()()()}t&2&&(h(15),we("ngModel",i.titleFilter),h(28),we("ngModel",i.pickupLocation),h(4),we("ngModel",i.dropoffLocation),h(4),we("ngModel",i.pickupDate),h(4),we("ngModel",i.minPrice))},dependencies:[Qe,Oe,Dn,$e,Gt],styles:['.main-title[_ngcontent-%COMP%]:after{content:"";width:60px;height:2px;background-color:var(--yellow);position:absolute;left:50%;transform:translate(-50%)}']})};var Qi=class e{loadingSubject=new le(!1);loading$=this.loadingSubject.asObservable();show(){console.log("[SpinnerService] SHOW"),this.loadingSubject.next(!0)}hide(){console.log("[SpinnerService] HIDE"),this.loadingSubject.next(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function yk(e,n){e&1&&(u(0,"div",1),S(1,"div",2),c())}var ts=class e{constructor(n){this.spinnerService=n;this.spinnerService.loading$.subscribe(t=>{console.log("Spinner loading state:",t),this.isLoading=t})}isLoading=!1;static \u0275fac=function(t){return new(t||e)(C(Qi))};static \u0275cmp=V({type:e,selectors:[["app-spinner"]],decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(t,i){t&1&&D(0,yk,2,0,"div",0),t&2&&g("ngIf",i.isLoading)},dependencies:[re],styles:[".spinner[_ngcontent-%COMP%]{border:6px solid #ccc;border-top:6px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#ffffffb3;display:flex;justify-content:center;align-items:center;z-index:9999}"]})};var bk=["loading"],Dk=(e,n)=>({"col-md-6":e,"col-md-8 mx-auto":n,"col-12":!0}),Ck=()=>["/edit-profile"],wk=e=>["/profile",e],Ek=e=>["/deliveryrequests/details",e],Sk=()=>[];function Ik(e,n){if(e&1&&(u(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),f(4),c(),u(5,"h5",19),f(6),c(),u(7,"h6",20),f(8),c(),u(9,"p",20),f(10),c(),u(11,"a",21),f(12,"View Profile"),c()()()()),e&2){let t=y(2);h(4),j(" ",t.user==null||t.user.userName==null?null:t.user.userName.charAt(0).toUpperCase()," "),h(2),O(t.user==null?null:t.user.fullName),h(2),O(t.user==null?null:t.user.userName),h(2),O(t.user==null?null:t.user.email),h(),g("routerLink",Pn(5,Ck))}}function Mk(e,n){if(e&1&&(u(0,"div",22),f(1),c()),e&2){let t=y(2);h(),j(" ",t.user==null||t.user.userName==null?null:t.user.userName.charAt(0).toUpperCase()," ")}}function xk(e,n){if(e&1&&S(0,"img",38),e&2){let t=y().$implicit;g("src","https://localhost:7176"+t.profileImageUrl,nn)}}function Tk(e,n){if(e&1&&(u(0,"div",22),f(1),c()),e&2){let t=y().$implicit;h(),j(" ",t.userName.charAt(0).toUpperCase()," ")}}function Rk(e,n){if(e&1&&(u(0,"div",39),S(1,"img",40),c()),e&2){let t=y().$implicit;h(),g("src","https://localhost:7176"+t.drImageUrl,nn)}}function Nk(e,n){if(e&1){let t=ne();u(0,"div",23)(1,"div",24)(2,"div",25),D(3,xk,1,1,"img",26)(4,Tk,2,1,"div",8),u(5,"h5",27),f(6),c()(),u(7,"ul",28)(8,"li",29)(9,"span",30),f(10),c()(),u(11,"li",29)(12,"strong"),f(13,"\u{1F4E6} Package Type:"),c(),f(14),c(),u(15,"li",29)(16,"strong"),f(17,"\u{1F4E6} status:"),c(),f(18),c(),u(19,"li",29)(20,"strong"),f(21,"\u2696\uFE0F Weight:"),c(),f(22),c(),u(23,"li",29)(24,"strong"),f(25,"\u{1F4CD} From:"),c(),f(26),c(),u(27,"li",29)(28,"strong"),f(29,"\u{1F4E6} To:"),c(),f(30),c(),u(31,"li",29)(32,"strong"),f(33,"\u{1F4C5} Pickup Date:"),c(),f(34),gt(35,"date"),c()(),D(36,Rk,2,1,"div",31),S(37,"hr",32),u(38,"div",33)(39,"button",34),S(40,"i",35),f(41," View Details "),c(),u(42,"button",36),M("click",function(){let r=R(t).$implicit,o=y(2);return N(o.openPopup(r.id))}),S(43,"i",37),f(44," Add Application "),c()()()()}if(e&2){let t=n.$implicit;h(3),g("ngIf",t.profileImageUrl),h(),g("ngIf",!t.profileImageUrl),h(),g("routerLink",kt(16,wk,t.userId)),h(),j(" ",t.userName," "),h(4),O(t.description),h(4),j(" ",t.title,""),h(4),j(" ",t.status,""),h(4),j(" ",t.totalWeight," kg"),h(4),j(" ",t.pickUpLocation,""),h(4),j(" ",t.dropOffLocation,""),h(4),j(" ",rn(35,13,t.pickUpDate,"mediumDate"),""),h(2),g("ngIf",t.drImageUrl),h(3),g("routerLink",kt(18,Ek,t.id))}}function Ok(e,n){if(e&1){let t=ne();u(0,"li",43)(1,"button",46),M("click",function(){let r=R(t).index,o=y(3);return N(o.onPageChange(r+1))}),f(2),c()()}if(e&2){let t=n.index,i=y(3);mt("active",i.currentPage===t+1),h(2),O(t+1)}}function Pk(e,n){if(e&1){let t=ne();u(0,"nav",41)(1,"ul",42)(2,"li",43)(3,"button",44),M("click",function(){R(t);let r=y(2);return N(r.onPageChange(r.currentPage-1))}),f(4,"Previous"),c()(),D(5,Ok,3,3,"li",45),u(6,"li",43)(7,"button",44),M("click",function(){R(t);let r=y(2);return N(r.onPageChange(r.currentPage+1))}),f(8,"Next"),c()()()()}if(e&2){let t=y(2);h(3),mt("disabled",t.currentPage===1),h(2),g("ngForOf",Pn(5,Sk).constructor(t.totalPages)),h(2),mt("disabled",t.currentPage===t.totalPages)}}function kk(e,n){if(e&1){let t=ne();u(0,"div",1)(1,"div",3),D(2,Ik,13,6,"div",4),u(3,"div",5)(4,"div",6)(5,"div",7),D(6,Mk,2,1,"div",8),u(7,"div",9)(8,"input",10),M("click",function(){R(t);let r=y();return N(r.navigateToCreatePost())}),c()()()(),u(9,"div",11)(10,"h3",12),f(11," Available Delivery Requests "),c(),S(12,"app-filters-menu"),c(),D(13,Nk,45,20,"div",13)(14,Pk,9,6,"nav",14),c()()()}if(e&2){let t=y();h(2),g("ngIf",t.isLoggedIn),h(),g("ngClass",ks(5,Dk,t.isLoggedIn,!t.isLoggedIn)),h(3),g("ngIf",t.isLoggedIn),h(7),g("ngForOf",t.deliveryRequests),h(),g("ngIf",t.totalItems>t.pageSize)}}function Ak(e,n){if(e&1&&(u(0,"div",2),S(1,"app-spinner",5,0),c()),e&2){let t=y();h(),g("ngClass",t.dataLoaded?"d-none":"d-md-block")}}var ld=class e{constructor(n,t){this.filterService=n;this.authService=t}deliveryRequests=[];totalItems=100;currentPage=1;pageSize=5;totalPages=1;user={};deliveryRequestService=b(Wt);modalService=b(vi);router=b(oe);loadingSpinner;dataLoaded=!1;ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}}),this.loadData()}loadData(){let n={title:null,status:null,pickupLocation:null,dropoffLocation:null,pickupDate:null,minPrice:null,PageNumber:this.currentPage};this.filterService.filters$.subscribe(t=>{console.log("Received filters:",t),n=t,this.deliveryRequestService.getallDRs(n,this.currentPage).subscribe(i=>{i.isSuccess?(this.deliveryRequests=i.data.data.reverse(),this.dataLoaded=!0,this.currentPage=i.data.currentPage,this.totalItems=i.data.totalCount,this.pageSize=i.data.pageSize,this.totalPages=i.data.totalPages):console.error("Error fetching delivery requests:",i.message)})})}onPageChange(n){this.currentPage=n,this.loadData()}get isLoggedIn(){return!!(localStorage.getItem("token")||sessionStorage.getItem("token"))}openPopup(n){if(localStorage.getItem("token")||sessionStorage.getItem("token")){let i=this.modalService.open(qi,{centered:!0,size:"m"});i.componentInstance.deliveryRequestID=n}else this.router.navigate(["/login"])}navigateToCreatePost(){localStorage.getItem("token")||sessionStorage.getItem("token")?this.modalService.open(Yi,{centered:!0,size:"lg",backdrop:"static"}).closed.subscribe(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/deliveryrequests/getallDRs"])})}):this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(C(es),C(qe))};static \u0275cmp=V({type:e,selectors:[["app-delivery-requests-retrive"]],viewQuery:function(t,i){if(t&1&&fi(bk,5),t&2){let r;gn(r=_n())&&(i.loadingSpinner=r.first)}},decls:2,vars:1,consts:[["loading",""],[1,"container","mt-5"],[1,"container",2,"height","100vh"],[1,"row"],["class","col-md-3 d-none d-md-block",4,"ngIf"],[3,"ngClass"],[1,"card","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center","gap-3","flex-wrap"],["class","d-flex justify-content-center align-items-center rounded-circle text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"flex-grow-1"],["type","text","placeholder","Start a delivery request...","readonly","",1,"form-control","rounded-pill","bg-light","border-0","shadow-sm","ps-4",2,"height","45px",3,"click"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"mb-0",2,"color","#19283f","font-weight","bold","font-size","2rem"],["class","card post-card mb-4 shadow-sm border-1",4,"ngFor","ngForOf"],["aria-label","Page navigation","class","paginator",4,"ngIf"],[1,"col-md-3","d-none","d-md-block"],[1,"card","shadow-sm","p-3",2,"max-width","250px"],[1,"text-center","mb-3"],[1,"rounded-circle","text-white","mx-auto","fw-bold",2,"width","60px","height","60px","line-height","60px","font-size","1.5rem"],[1,"mt-2"],[1,"text-muted","mb-1"],[1,"btn","btn-sm","btn-outline-primary","w-100",3,"routerLink"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"card","post-card","mb-4","shadow-sm","border-1"],[1,"card-body"],[1,"d-flex","align-items-center","gap-2"],["alt","Profile Image","class","rounded-circle","style","width: 50px; height: 50px; object-fit: cover;",3,"src",4,"ngIf"],[1,"text-black","mb-1",2,"font-size","1.1rem","cursor","pointer",3,"routerLink"],[1,"list-unstyled","mt-1"],[1,"mb-2"],[1,"text-muted"],["class","text-center my-3",4,"ngIf"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"bi","bi-eye"],[1,"link-button",3,"click"],[1,"bi","bi-plus-circle"],["alt","Profile Image",1,"rounded-circle",2,"width","50px","height","50px","object-fit","cover",3,"src"],[1,"text-center","my-3"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"],["aria-label","Page navigation",1,"paginator"],[1,"pagination","justify-content-center","mt-4"],[1,"page-item"],[1,"page-link","card-opacity",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"page-link","card-opacity","text-black",3,"click"]],template:function(t,i){t&1&&D(0,kk,15,8,"div",1)(1,Ak,3,1,"div",2),t&2&&fe(i.dataLoaded?0:1)},dependencies:[Ie,Ct,He,re,Ut,Nr,Ye,ad,ts],styles:["html[_ngcontent-%COMP%]{scroll-behavior:smooth}.scrollable-feed[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.5rem;box-shadow:0 4px 10px #0000001a}.card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.btn[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease}.btn-outline-primary[_ngcontent-%COMP%]{border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--neutral)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.btn-primary[_ngcontent-%COMP%]{background-color:var(--dark);border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--yellow)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.btn-success[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--dark)}.btn-success[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.rounded-circle[_ngcontent-%COMP%]{background-color:var(--yellow)}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}@media (max-width: 767px){.btn-row[_ngcontent-%COMP%]{flex-direction:row}.link-button[_ngcontent-%COMP%]{flex:1 1 48%}}.card-opacity[_ngcontent-%COMP%]{background-color:#0a0a0a02}.paginator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--dark)}.paginator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--yellow)}.disabled[_ngcontent-%COMP%]{background-color:#0a0a0a33}"]})};function ED(e,n){return t=>{let i=t.get(e),r=t.get(n);return i&&r&&i.value!==r.value?r.setErrors({mismatch:!0}):r?.hasError("mismatch")&&r.setErrors(null),null}}var cd=class e{constructor(n){this.http=n}apiUrl="api/user";register(n){return this.http.post(`${this.apiUrl}/Register`,n)}static \u0275fac=function(t){return new(t||e)(P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function Lk(e,n){e&1&&(u(0,"div"),f(1,"National ID is required"),c())}function Vk(e,n){e&1&&(u(0,"div"),f(1,"Please enter a valid Egyptian National ID"),c())}function jk(e,n){if(e&1&&(u(0,"div",30),D(1,Lk,2,0,"div",31)(2,Vk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.natId==null||t.natId.errors==null?null:t.natId.errors.required),h(),g("ngIf",t.natId==null||t.natId.errors==null?null:t.natId.errors.pattern)}}function Bk(e,n){e&1&&(u(0,"div"),f(1,"Full Name is required"),c())}function Uk(e,n){e&1&&(u(0,"div"),f(1," Name must be between 5 and 12 characters "),c())}function Hk(e,n){e&1&&(u(0,"div"),f(1,"Only letters and spaces are allowed"),c())}function $k(e,n){if(e&1&&(u(0,"div",30),D(1,Bk,2,0,"div",31)(2,Uk,2,0,"div",31)(3,Hk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.required),h(),g("ngIf",(t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.minlength)||(t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.maxlength)),h(),g("ngIf",t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.pattern)}}function qk(e,n){if(e&1&&(u(0,"div",30),f(1),c()),e&2){let t=y();h(),O(t.notvalidusername)}}function zk(e,n){e&1&&(u(0,"div"),f(1,"Username is required"),c())}function Gk(e,n){e&1&&(u(0,"div"),f(1," Must be between 4 and 10 characters "),c())}function Wk(e,n){if(e&1&&(u(0,"div",30),D(1,zk,2,0,"div",31)(2,Gk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.userName==null||t.userName.errors==null?null:t.userName.errors.required),h(),g("ngIf",(t.userName==null||t.userName.errors==null?null:t.userName.errors.minlength)||(t.userName==null||t.userName.errors==null?null:t.userName.errors.maxlength))}}function Yk(e,n){e&1&&(u(0,"div",30),f(1,"Email Already Exists"),c())}function Qk(e,n){e&1&&(u(0,"div"),f(1,"Email is required"),c())}function Zk(e,n){e&1&&(u(0,"div"),f(1,"Invalid email format"),c())}function Kk(e,n){e&1&&(u(0,"div"),f(1,"Enter a valid email"),c())}function Jk(e,n){if(e&1&&(u(0,"div",30),D(1,Qk,2,0,"div",31)(2,Zk,2,0,"div",31)(3,Kk,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),h(),g("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.pattern),h(),g("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function Xk(e,n){e&1&&(u(0,"div"),f(1,"Phone is required"),c())}function eA(e,n){e&1&&(u(0,"div"),f(1,"Invalid phone number"),c())}function tA(e,n){if(e&1&&(u(0,"div",30),D(1,Xk,2,0,"div",31)(2,eA,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.phone==null||t.phone.errors==null?null:t.phone.errors.required),h(),g("ngIf",t.phone==null||t.phone.errors==null?null:t.phone.errors.pattern)}}function nA(e,n){if(e&1&&(u(0,"option",32),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),O(t)}}function iA(e,n){e&1&&(u(0,"div"),f(1,"Password is required"),c())}function rA(e,n){e&1&&(u(0,"div"),f(1,"At least 8 characters"),c())}function oA(e,n){e&1&&(u(0,"div"),f(1," Must include uppercase, lowercase, number, and symbol "),c())}function sA(e,n){if(e&1&&(u(0,"div",30),D(1,iA,2,0,"div",31)(2,rA,2,0,"div",31)(3,oA,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),h(),g("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength),h(),g("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.pattern)}}function aA(e,n){e&1&&(u(0,"div"),f(1,"Confirmation is required"),c())}function lA(e,n){e&1&&(u(0,"div"),f(1,"Passwords do not match"),c())}function cA(e,n){if(e&1&&(u(0,"div",30),D(1,aA,2,0,"div",31)(2,lA,2,0,"div",31),c()),e&2){let t=y();h(),g("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.required),h(),g("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.mismatch)}}var ud=class e{constructor(n,t,i){this.fb=n;this.authService=t;this.router=i;this.registerForm=this.fb.group({natId:["",[U.required,U.pattern(/^(2|3)\d{2}(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])\d{2}\d{5}$/)]],fullName:["",[U.required,U.minLength(5),U.maxLength(12),U.pattern("^[a-zA-Z ]+$")]],userName:["",[U.required,U.minLength(4),U.maxLength(10)]],email:["",[U.required,U.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],phone:["",[U.required,U.pattern(/^01[0125][0-9]{8}$/)]],address:["",U.required],password:["",[U.required,U.minLength(6),U.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{6,}$/)]],confirmPassword:["",U.required],profileImage:[null]},{validators:ED("password","confirmPassword")})}registerForm;notvalidemail="";notvalidusername="";egyptGovernorates=Hi;selectedFile=null;ngOnInit(){this.registerForm.get("email")?.valueChanges.subscribe(()=>{this.registerForm.get("email")?.valid&&(this.notvalidemail="")}),this.registerForm.get("userName")?.valueChanges.subscribe(()=>{this.registerForm.get("userName")?.valid&&(this.notvalidusername="")})}onFileSelected(n){let t=n.target;t.files&&t.files.length>0&&(this.selectedFile=t.files[0],this.registerForm.patchValue({profileImage:this.selectedFile}))}onSubmit(){if(this.registerForm.valid){let n=new FormData,t=this.registerForm.value;for(let i in t)i==="profileImage"&&this.selectedFile?n.append("profileImage",this.selectedFile):n.append(i,t[i]);this.authService.register(n).subscribe({next:i=>{i.isSuccess&&(alert("Registration successful!"),this.router.navigate(["/login"]))},error:i=>{console.error("Registration failed",i),this.handleErrorResponse(i)}})}else console.log("Form is invalid")}handleErrorResponse(n){let t=n?.error?.message;t==="user is exist"?(this.notvalidusername=t,this.notvalidemail=""):t?.includes("Email")?(this.notvalidemail=t,this.notvalidusername=""):(this.notvalidusername="",this.notvalidemail="",console.error("Unhandled error message:",t))}get natId(){return this.registerForm.get("natId")}get fullName(){return this.registerForm.get("fullName")}get userName(){return this.registerForm.get("userName")}get email(){return this.registerForm.get("email")}get phone(){return this.registerForm.get("phone")}get address(){return this.registerForm.get("address")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}static \u0275fac=function(t){return new(t||e)(C(Ui),C(cd),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-register"]],decls:60,vars:12,consts:[[1,"auth-background","d-flex","justify-content-center","align-items-center","py-5","px-3"],[1,"registerForm","w-100","bg-white","p-4","p-md-5","shadow","rounded",2,"max-width","800px",3,"ngSubmit","formGroup"],[1,"text-center","mb-4","text-dark","fw-bold"],[1,"row","g-3"],[1,"col-md-6"],["for","natId",1,"form-label","fw-semibold"],["type","text","id","natId","formControlName","natId",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","fullName",1,"form-label","fw-semibold"],["type","text","id","fullName","formControlName","fullName",1,"form-control"],["for","userName",1,"form-label","fw-semibold"],["type","text","id","userName","formControlName","userName",1,"form-control"],["for","email",1,"form-label","fw-semibold"],["type","email","id","email","formControlName","email",1,"form-control"],["for","phone",1,"form-label","fw-semibold"],["type","text","id","phone","formControlName","phone",1,"form-control"],["for","address",1,"form-label","fw-semibold"],["id","address","formControlName","address",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","password",1,"form-label","fw-semibold"],["type","password","id","password","formControlName","password",1,"form-control"],["for","confirmPassword",1,"form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control"],["for","profileImage",1,"form-label","fw-semibold"],["type","file","id","profileImage","accept","image/*",1,"form-control",3,"change"],[1,"d-flex","flex-column","justify-content-center","gap-2","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mt-2","text-center"],["routerLink","/login",1,"fw-bold",2,"text-decoration","none","color","var(--dark)"],[1,"text-danger","small","mt-1"],[4,"ngIf"],[3,"value"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"form",1),M("ngSubmit",function(){return i.onSubmit()}),u(2,"h2",2),f(3,"Ma'ak"),c(),u(4,"div",3)(5,"div",4)(6,"label",5),f(7,"National ID"),c(),S(8,"input",6),D(9,jk,3,2,"div",7),c(),u(10,"div",4)(11,"label",8),f(12,"Full Name"),c(),S(13,"input",9),D(14,$k,4,3,"div",7),c(),u(15,"div",4)(16,"label",10),f(17,"Username"),c(),S(18,"input",11),D(19,qk,2,1,"div",7)(20,Wk,3,2,"div",7),c(),u(21,"div",4)(22,"label",12),f(23,"Email"),c(),S(24,"input",13),D(25,Yk,2,0,"div",7)(26,Jk,4,3,"div",7),c(),u(27,"div",4)(28,"label",14),f(29,"Phone"),c(),S(30,"input",15),D(31,tA,3,2,"div",7),c(),u(32,"div",4)(33,"label",16),f(34,"Governorate"),c(),u(35,"select",17)(36,"option",18),f(37,"Select Governorate"),c(),D(38,nA,2,2,"option",19),c()(),u(39,"div",4)(40,"label",20),f(41,"Password"),c(),S(42,"input",21),D(43,sA,4,3,"div",7),c(),u(44,"div",4)(45,"label",22),f(46,"Confirm Password"),c(),S(47,"input",23),D(48,cA,3,2,"div",7),c()(),u(49,"div",4)(50,"label",24),f(51,"Profile Image"),c(),u(52,"input",25),M("change",function(o){return i.onFileSelected(o)}),c()(),u(53,"div",26)(54,"button",27),f(55," Register "),c(),u(56,"p",28),f(57," Already have an account? "),u(58,"a",29),f(59,"Login"),c()()()()()),t&2&&(h(),g("formGroup",i.registerForm),h(8),g("ngIf",(i.natId==null?null:i.natId.invalid)&&(i.natId==null?null:i.natId.touched)),h(5),g("ngIf",(i.fullName==null?null:i.fullName.invalid)&&(i.fullName==null?null:i.fullName.touched)),h(5),g("ngIf",i.notvalidusername),h(),g("ngIf",(i.userName==null?null:i.userName.invalid)&&(i.userName==null?null:i.userName.touched)),h(5),g("ngIf",i.notvalidemail),h(),g("ngIf",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),h(5),g("ngIf",(i.phone==null?null:i.phone.invalid)&&(i.phone==null?null:i.phone.touched)),h(7),g("ngForOf",i.egyptGovernorates),h(5),g("ngIf",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),h(5),g("ngIf",(i.confirmPassword==null?null:i.confirmPassword.invalid)&&(i.confirmPassword==null?null:i.confirmPassword.touched)),h(6),g("disabled",i.registerForm.invalid))},dependencies:[qn,cn,Hn,$n,Oe,Un,$e,ln,gi,_i,re,He,Ye],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;position:relative;display:flex;align-items:center;justify-content:center}.registerForm[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:70%;max-width:800px}.registerForm[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600}.registerForm[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   select.form-select[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.registerForm[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);opacity:.9;color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--dark);color:var(--dark);font-weight:600;font-size:1rem;padding:.75rem 1rem;border-radius:4px}.registerForm[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:var(--dark);color:var(--dark)}.registerForm[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{font-size:.875rem;color:var(--yellow)}']})};function uA(e,n){if(e&1&&(u(0,"span",18),f(1),c()),e&2){let t=y(2);h(),O(t.usernError)}}function dA(e,n){if(e&1&&(u(0,"span",18),f(1),c()),e&2){let t=y(2);h(),O(t.passwordError)}}function fA(e,n){if(e&1){let t=ne();u(0,"div",19),f(1),u(2,"a",20),M("click",function(){R(t);let r=y(2);return N(r.recoveraccount())}),f(3,"Recover Account"),c()()}if(e&2){let t=y(2);h(),j("",t.deletedAcountError," ")}}function pA(e,n){if(e&1&&(u(0,"div",19),f(1),c()),e&2){let t=y(2);h(),O(t.formError)}}function hA(e,n){if(e&1){let t=ne();u(0,"form",2),M("ngSubmit",function(){R(t);let r=y();return N(r.login())}),u(1,"h2",3),f(2,"Welcome Back"),c(),u(3,"div",4)(4,"label",5),f(5,"Email or Username"),c(),S(6,"input",6),D(7,uA,2,1,"span",7),c(),u(8,"div",4)(9,"label",8),f(10,"Password"),c(),S(11,"input",9),D(12,dA,2,1,"span",7),c(),u(13,"div",10)(14,"div",11),S(15,"input",12),u(16,"label",13),f(17,"Remember Me"),c()(),u(18,"a",14),f(19,"Forgot Password?"),c()(),u(20,"button",15),f(21,"Login"),c(),u(22,"a",16),f(23,"Create Account"),c(),D(24,fA,4,1,"div",17)(25,pA,2,1,"div",17),c()}if(e&2){let t=y();g("formGroup",t.loginForm),h(7),g("ngIf",t.usernError),h(5),g("ngIf",t.passwordError),h(12),g("ngIf",t.deletedAcountError),h(),g("ngIf",t.formError)}}var dd=class e{constructor(n,t,i){this.fb=n;this.authService=t;this.router=i;this.loginForm=this.fb.group({identifier:["",U.required],password:["",U.required],rememberMe:[!1]})}loginForm;formError=null;usernError=null;passwordError=null;deletedAcountError=null;ngOnInit(){let n=localStorage.getItem("token")||sessionStorage.getItem("token"),t=localStorage.getItem("exp")||sessionStorage.getItem("exp");if(n&&t){let i=Date.now(),r=parseInt(t);if(i<r){this.router.navigate(["/"]);return}else localStorage.removeItem("token"),localStorage.removeItem("exp"),sessionStorage.removeItem("token"),sessionStorage.removeItem("exp"),this.router.navigate(["/login"]),alert("Session expired. Please log in again.")}this.loginForm.valueChanges.subscribe(()=>{this.usernError=null,this.passwordError=null,this.deletedAcountError=null,this.formError=null})}login(){if(this.loginForm.invalid){this.formError="Please fill in all required fields.",this.usernError=this.loginForm.get("identifier")?.hasError("required")?"Username or email is required":null,this.passwordError=this.loginForm.get("password")?.hasError("required")?"Password is required":null;return}this.formError=null,this.authService.login(this.loginForm.value).subscribe({next:n=>{console.log("API response:",n),this.usernError="",this.passwordError="",n.isSuccess&&(alert(" Welcome To P2P Login successful!"),this.loginForm.value.rememberMe?(localStorage.setItem("token",n.data.token),localStorage.setItem("exp",new Date(n.data.expiration).getTime().toString())):(sessionStorage.setItem("token",n.data.token),sessionStorage.setItem("exp",new Date(n.data.expiration).getTime().toString())),this.router.navigate(["/deliveryrequests/getallDRs"]))},error:n=>{console.error("Login error:",n);let t=n?.error?.message;t==="Wrong email or user-name"?this.usernError=t:t==="Wrong password"?this.passwordError=t:t==="Account has been deleted."?this.deletedAcountError=t:alert("Login failed: "+(t||"Please try again later."))}})}recoveraccount(){let n=this.loginForm.get("identifier")?.value;if(!n){this.formError="Please enter a username or email to recover the account.";return}console.log(n),this.formError=null,this.authService.recoverAccount(n).subscribe({next:t=>{console.log("Recover account response:",t),t.isSuccess?(alert("Account recovery initiated successfully! Please check your email for further instructions."),this.deletedAcountError=null):alert("Account recovery failed: "+(t.message||"Please try again later."))},error:t=>{console.error("Recover account error:",t),alert("Account recovery failed: "+(t?.error?.message||"Please try again later."))}})}logout(){this.authService.logout(),this.router.navigate(["/login"])}getUserIdFromToken(){let n=localStorage.getItem("token")||sessionStorage.getItem("token");if(!n)return null;let t=JSON.parse(atob(n.split(".")[1]));return t?.UserId||t?.userId||null}static \u0275fac=function(t){return new(t||e)(C(Ui),C(qe),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-login"]],decls:2,vars:1,consts:[[1,"auth-background","d-flex","justify-content-center","align-items-center"],["class","login-form card p-4 shadow rounded w-100","style","max-width: 500px; margin: 2rem;",3,"formGroup","ngSubmit",4,"ngIf"],[1,"login-form","card","p-4","shadow","rounded","w-100",2,"max-width","500px","margin","2rem",3,"ngSubmit","formGroup"],[1,"text-center","mb-4",2,"font-weight","700"],[1,"mb-3"],["for","identifier",1,"form-label","fw-semibold"],["id","identifier","formControlName","identifier","placeholder","Enter email or username",1,"form-control"],["class","text-danger small",4,"ngIf"],["for","password",1,"form-label","fw-semibold"],["id","password","formControlName","password","type","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],[1,"form-check"],["id","rememberMe","type","checkbox","formControlName","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],["href","/forgot-password",1,"small","text-decoration-none",2,"color","var(--accent)","font-weight","500"],["type","submit",1,"btn","btn-primary","w-100","mb-2"],["routerLink","/Register",1,"btn","btn-secondary","w-100"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"text-danger","small"],[1,"alert","alert-danger","mt-3"],["href","javascript:void(0)",1,"small","text-decoration-none","ms-2",2,"color","black","font-weight","500",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0),D(1,hA,26,5,"form",1),c()),t&2&&(h(),g("ngIf",i.loginForm))},dependencies:[qn,cn,Oe,Om,$e,ln,gi,_i,Ie,re,Ye],styles:['.auth-background[_ngcontent-%COMP%]{background-image:url("./media/delivering-6QU5PGDC.jpg");background-color:var(--dark);background-blend-mode:soft-light;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;position:relative;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a;width:30%}.login-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--dark)}.login-form[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--yellow);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.75rem 1rem;border-radius:4px;color:var(--dark)}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.login-form[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:var(--dark);border:1px solid var(--dark);color:var(--yellow);font-weight:600;font-size:1rem;padding:.75rem 1rem;border-radius:4px}.login-form[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{font-size:.875rem;color:var(--yellow)}']})};var mA=e=>["/profile",e],gA=(e,n,t,i)=>({"bg-warning text-dark":e,"bg-success":n,"bg-secondary":t,"bg-danger":i}),_A=e=>["/deliveryrequests/update",e];function vA(e,n){if(e&1&&S(0,"img",26),e&2){let t=y().$implicit;g("src","https://localhost:7176"+t.profileImageUrl,nn)}}function yA(e,n){if(e&1&&(u(0,"div",27),f(1),c()),e&2){let t=y().$implicit;h(),j(" ",t.userName.charAt(0).toUpperCase()," ")}}function bA(e,n){if(e&1&&(u(0,"div",28),S(1,"img",29),c()),e&2){let t=y().$implicit;h(),g("src","https://localhost:7176"+t.drImageUrl,nn)}}function DA(e,n){if(e&1&&(u(0,"div",9)(1,"div",10)(2,"div",11),D(3,vA,1,1,"img",12)(4,yA,2,1,"div",13),u(5,"h5",14),f(6),c()(),u(7,"h5",15),f(8),c(),u(9,"p",16),f(10),c(),u(11,"ul",17)(12,"li")(13,"strong"),f(14,"\u2696\uFE0F Weight:"),c(),f(15),c(),u(16,"li")(17,"strong"),f(18,"\u{1F4CD} From:"),c(),f(19),c(),u(20,"li")(21,"strong"),f(22,"\u{1F4E6} To:"),c(),f(23),c(),u(24,"li")(25,"strong"),f(26,"\u{1F4C5} Pickup Date:"),c(),f(27),gt(28,"date"),c(),u(29,"li")(30,"strong"),f(31,"\u{1F4B0} Price Range:"),c(),f(32),c()(),D(33,bA,2,1,"div",18),u(34,"span",19),f(35),c(),S(36,"hr",20),u(37,"div",21)(38,"button",22),S(39,"i",23),f(40," Update "),c(),u(41,"button",24),S(42,"i",25),f(43," Delete "),c()()()()),e&2){let t=n.$implicit;h(3),g("ngIf",t.profileImageUrl),h(),g("ngIf",!t.profileImageUrl),h(),g("routerLink",kt(19,mA,t.userId)),h(),j(" ",t.userName," "),h(2),O(t.title),h(2),O(t.description),h(5),j(" ",t.totalWeight," kg"),h(4),j(" ",t.pickUpLocation,""),h(4),j(" ",t.dropOffLocation,""),h(4),j(" ",rn(28,16,t.pickUpDate,"mediumDate"),""),h(5),Ps(" ",t.minPrice," - ",t.maxPrice," EGP"),h(),g("ngIf",t.drImageUrl),h(),g("ngClass",ly(21,gA,t.status==="Pending",t.status==="Accepted"||t.status==="Delivered",t.status==="Completed",t.status==="Cancelled")),h(),j(" ",t.status," "),h(3),g("routerLink",kt(26,_A,t.id))}}var fd=class e{constructor(n,t,i,r){this.deliveryRequestService=n;this.authService=t;this.modalService=i;this.router=r}deliveryRequests=[];user={};ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>this.user=n,error:n=>{n.status===401&&this.router.navigate(["/login"])}}),this.loadDeliveryRequests()}loadDeliveryRequests(){this.deliveryRequestService.getMyDeliveryRequests().subscribe({next:n=>{n.isSuccess?(this.deliveryRequests=n.data.reverse(),console.log(this.deliveryRequests)):console.error("Error fetching delivery requests:",n.message)},error:n=>{console.error("Request failed:",n)}})}navigateToCreatePost(){localStorage.getItem("token")||sessionStorage.getItem("token")?this.modalService.open(Yi,{centered:!0,size:"lg",backdrop:"static"}).closed.subscribe(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/deliveryrequests/getMyDeliveryRequests"])})}):this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(C(Wt),C(qe),C(vi),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-delivery-requests-by-user-id"]],decls:10,vars:1,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold","text-primary-emphasis"],[1,"card","col-md-8","mx-auto","shadow-sm","mb-4"],[1,"card-body","d-flex","align-items-center","gap-3","flex-wrap"],[1,"flex-grow-1"],["type","text","placeholder","Start a delivery request...","readonly","",1,"form-control","rounded-pill","bg-light","border-0","shadow-sm","ps-4",2,"height","45px",3,"click"],[1,"scrollable-feed","col-md-8","mx-auto","mb-4","bg-light","p-3","rounded","shadow-sm"],["class","card post-card mb-4 border-0 shadow-sm rounded-4 position-relative",4,"ngFor","ngForOf"],[1,"card","post-card","mb-4","border-0","shadow-sm","rounded-4","position-relative"],[1,"card-body"],[1,"d-flex","align-items-center","gap-2"],["alt","Profile Image","class","rounded-circle","style","width: 50px; height: 50px; object-fit: cover;",3,"src",4,"ngIf"],["class","d-flex justify-content-center align-items-center rounded-circle bg-warning text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],[1,"text-black","mb-1",2,"font-size","1.1rem","cursor","pointer",3,"routerLink"],[1,"fw-semibold","text-dark","mb-2"],[1,"text-muted"],[1,"list-unstyled","small","mb-3"],["class","text-center my-3",4,"ngIf"],[1,"badge","position-absolute","top-0","end-0","m-3","px-3","py-2","fs-6","rounded-pill",3,"ngClass"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"bi","bi-pencil-square","me-1"],[1,"link-button"],[1,"bi","bi-trash","me-1"],["alt","Profile Image",1,"rounded-circle",2,"width","50px","height","50px","object-fit","cover",3,"src"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","bg-warning","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"text-center","my-3"],["alt","Delivery Request Image",1,"img-fluid","rounded",2,"max-height","300px","object-fit","cover",3,"src"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"My Delivery Requests"),c()(),u(4,"div",3)(5,"div",4)(6,"div",5)(7,"input",6),M("click",function(){return i.navigateToCreatePost()}),c()()()(),u(8,"div",7),D(9,DA,44,28,"div",8),c()()),t&2&&(h(9),g("ngForOf",i.deliveryRequests))},dependencies:[Ie,Ct,He,re,Ut,Nr,Ye],styles:[".scrollable-feed[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}"]})};function CA(e,n){if(e&1&&(u(0,"p"),f(1),c()),e&2){let t=y();h(),O(t.message)}}function wA(e,n){if(e&1){let t=ne();u(0,"div")(1,"label",11),f(2,"New Offered Price"),c(),u(3,"input",12),Ee("ngModelChange",function(r){R(t);let o=y();return xe(o.updatedValue,r)||(o.updatedValue=r),N(r)}),c()()}if(e&2){let t=y();h(3),we("ngModel",t.updatedValue)}}var pd=class e{title="Confirm";message="";confirmText="Yes";cancelText="Cancel";showPriceInput=!1;updatedOfferedPrice=null;confirm=new me;cancel=new me;updatedValue=null;ngOnChanges(n){n.updatedOfferedPrice&&(this.updatedValue=this.updatedOfferedPrice)}onConfirm(){this.confirm.emit(this.updatedValue)}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["confirm-dialog"]],inputs:{title:"title",message:"message",confirmText:"confirmText",cancelText:"cancelText",showPriceInput:"showPriceInput",updatedOfferedPrice:"updatedOfferedPrice"},outputs:{confirm:"confirm",cancel:"cancel"},features:[Dt],decls:15,vars:5,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.5)"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["for","offeredPrice",1,"form-label"],["type","number","id","offeredPrice","min","1","required","","placeholder","Enter new price",1,"form-control",3,"ngModelChange","ngModel"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),f(5),c(),u(6,"button",5),M("click",function(){return i.onCancel()}),c()(),u(7,"div",6),D(8,CA,2,1,"p",7)(9,wA,4,1,"div",7),c(),u(10,"div",8)(11,"button",9),M("click",function(){return i.onCancel()}),f(12),c(),u(13,"button",10),M("click",function(){return i.onConfirm()}),f(14),c()()()()()),t&2&&(h(5),O(i.title),h(3),g("ngIf",i.message),h(),g("ngIf",i.showPriceInput),h(3),O(i.cancelText),h(2),O(i.confirmText))},dependencies:[Ie,re,Qe,Oe,Dn,$e,zm,qm,Gt],encapsulation:2})};var EA=(e,n,t)=>({"bg-warning text-dark":e,"bg-success":n,"bg-danger":t});function SA(e,n){if(e&1&&(u(0,"div",7)(1,"div",8)(2,"div",9)(3,"div")(4,"h5",10),f(5),c(),u(6,"small",11),S(7,"i",12),f(8),gt(9,"date"),c()(),u(10,"span",13),f(11),c()(),u(12,"p",14)(13,"strong"),f(14,"\u{1F4B0} Offered Price:"),c(),f(15),c()(),S(16,"hr",15),u(17,"div",16)(18,"button",17),S(19,"i",18),f(20," Update "),c(),u(21,"button",17),S(22,"i",19),f(23," Delete "),c()()()),e&2){let t=n.$implicit;h(5),O(t.deliveryTitle),h(3),j(" ",rn(9,5,t.date,"mediumDate")," "),h(2),g("ngClass",As(8,EA,t.applicationStatus==="Pending",t.applicationStatus==="Accepted",t.applicationStatus==="Rejected")),h(),j(" ",t.applicationStatus," "),h(4),j(" ",t.offeredPrice," EGP ")}}function IA(e,n){if(e&1){let t=ne();u(0,"confirm-dialog",20),M("confirm",function(){R(t);let r=y();return N(r.onConfirmDelete())})("cancel",function(){R(t);let r=y();return N(r.onCancelDelete())}),c()}e&2&&g("title","Delete Application")("message","Are you sure you want to delete this application?")("confirmText","Delete")("cancelText","Cancel")}function MA(e,n){if(e&1){let t=ne();u(0,"confirm-dialog",21),M("confirm",function(r){R(t);let o=y();return N(o.onConfirmUpdate(r))})("cancel",function(){R(t);let r=y();return N(r.onCancelUpdate())}),c()}if(e&2){let t=y();g("title","Update Offered Price")("message","Please enter the new offered price.")("confirmText","Update")("cancelText","Cancel")("updatedOfferedPrice",t.updatedOfferedPrice)("showPriceInput",!0)}}var hd=class e{constructor(n,t){this.drApplicationService=n;this.authService=t}DrApplications=[];selectedIdToDelete=null;showConfirmModal=!1;showUpdateModal=!1;selectedAppToUpdate=null;updatedOfferedPrice=null;ngOnInit(){this.loadApplications()}loadApplications(){this.drApplicationService.getMyApplications().subscribe({next:n=>{n.isSuccess?this.DrApplications=n.data:console.error("Error fetching DR Applications",n.message)},error:n=>{console.error("Request Failed:",n)}})}confirmDelete(n){this.selectedIdToDelete=n,this.showConfirmModal=!0}onCancelDelete(){this.selectedIdToDelete=null,this.showConfirmModal=!1}onConfirmDelete(){this.selectedIdToDelete!==null&&this.drApplicationService.deleteApplication(this.selectedIdToDelete).subscribe({next:n=>{n.isSuccess&&this.loadApplications()},error:n=>console.error(n)}),this.onCancelDelete()}confirmUpdate(n){this.selectedAppToUpdate=I({},n),this.updatedOfferedPrice=n.offeredPrice,this.showUpdateModal=!0}onCancelUpdate(){this.selectedAppToUpdate=null,this.updatedOfferedPrice=null,this.showUpdateModal=!1}onConfirmUpdate(n){if(this.selectedAppToUpdate){let t=H(I({},this.selectedAppToUpdate),{offeredPrice:n});this.drApplicationService.updateApplication(this.selectedAppToUpdate.id,t).subscribe({next:i=>{i.isSuccess&&this.loadApplications()},error:i=>console.error("Update failed:",i)})}this.onCancelUpdate()}static \u0275fac=function(t){return new(t||e)(C($i),C(qe))};static \u0275cmp=V({type:e,selectors:[["ng-component"]],decls:8,vars:3,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold","text-primary-emphasis"],[1,"scrollable-feed","col-md-8","mx-auto","mb-4","p-3","bg-light","rounded","shadow-sm"],["class","card post-card mb-2 shadow-sm border-0",4,"ngFor","ngForOf"],[3,"title","message","confirmText","cancelText","confirm","cancel",4,"ngIf"],[3,"title","message","confirmText","cancelText","updatedOfferedPrice","showPriceInput","confirm","cancel",4,"ngIf"],[1,"card","post-card","mb-2","shadow-sm","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold","text-black","mb-1"],[1,"text-muted"],[1,"bi","bi-calendar-event"],[1,"badge","px-3","py-2",3,"ngClass"],[1,"mb-2"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button"],[1,"bi","bi-pencil-square","me-1"],[1,"bi","bi-trash","me-1"],[3,"confirm","cancel","title","message","confirmText","cancelText"],[3,"confirm","cancel","title","message","confirmText","cancelText","updatedOfferedPrice","showPriceInput"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"My Delivery Applications"),c()(),u(4,"div",3),D(5,SA,24,12,"div",4),c(),D(6,IA,1,4,"confirm-dialog",5)(7,MA,1,6,"confirm-dialog",6),c()),t&2&&(h(5),g("ngForOf",i.DrApplications),h(),g("ngIf",i.showConfirmModal),h(),g("ngIf",i.showUpdateModal))},dependencies:[Ie,Ct,He,re,Ut,Qe,pd],styles:[".scrollable-feed[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.5rem;box-shadow:0 4px 10px #0000001a}.scrollable-feed[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.scrollable-feed[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#bbb;border-radius:4px}.post-card[_ngcontent-%COMP%]{border-radius:12px;background-color:#fff;padding:1rem}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}.btn-main[_ngcontent-%COMP%]:disabled{background-color:#0ff}"]})};var xA=(e,n,t)=>({"bg-warning text-dark":e,"bg-success":n,"bg-danger":t}),TA=e=>["/DRApplications/track",e];function RA(e,n){if(e&1&&(u(0,"div",3)(1,"div",4)(2,"div",5)(3,"div")(4,"h5",6),f(5),c(),u(6,"small",7),S(7,"i",8),f(8),c()(),u(9,"span",9),f(10),c()(),u(11,"p",10)(12,"strong"),f(13,"\u{1F4B0} Offered Price:"),c(),f(14),c()(),S(15,"hr",11),u(16,"div",12)(17,"button",13),S(18,"i",14),f(19," Track "),c()()()),e&2){let t=n.$implicit;h(5),O(t.deliveryTitle),h(3),j(" ",t.date," "),h(),g("ngClass",As(6,xA,t.applicationStatus==="Pending",t.applicationStatus==="Accepted",t.applicationStatus==="Rejected")),h(),j(" ",t.applicationStatus," "),h(4),j(" ",t.offeredPrice," EGP "),h(3),g("routerLink",kt(10,TA,t.deliveryRequestId))}}var md=class e{constructor(n){this.drApplicationService=n}Applications=[];ngOnInit(){this.loadApplications()}loadApplications(){this.drApplicationService.getMyApplications().subscribe({next:n=>{n.isSuccess?(console.log(n),this.Applications=n.data.filter(t=>t.applicationStatus=="Accepted")):console.error("Error fetching DR Applications",n.message)},error:n=>{console.error("Request Failed:",n)}})}static \u0275fac=function(t){return new(t||e)(C($i))};static \u0275cmp=V({type:e,selectors:[["app-accepted-applications"]],decls:6,vars:0,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],[1,"fw-bold",2,"color","var(--dark)"],[1,"card","post-card","mb-2","shadow-sm","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold","text-black","mb-1"],[1,"text-muted"],[1,"bi","bi-calendar-event"],[1,"badge","px-3","py-2",3,"ngClass"],[1,"mb-2"],[1,"my-3"],[1,"d-flex","flex-column","flex-sm-row","justify-content-center","gap-2","px-2"],[1,"link-button",3,"routerLink"],[1,"fa-solid","fa-list-check"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"Accepted Applications"),c()(),yr(4,RA,20,12,"div",3,Ns),c()),t&2&&(h(4),br(i.Applications))},dependencies:[Ie,Ct,Qe,Ye],styles:[".post-card[_ngcontent-%COMP%]{border-radius:12px;background-color:#fff;padding:1rem}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease,color .2s ease;width:100%;text-align:center;justify-content:center}.link-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--dark);text-decoration:none;cursor:pointer}"]})};var gd=class e{constructor(n){this.http=n}endpoint="api/Track";getAuthToken(){return localStorage.getItem("token")||sessionStorage.getItem("token")}getLast(n){return this.http.get(`${this.endpoint}/${n}`)}addUpdate(n){return this.http.post(`${this.endpoint}`,n)}static \u0275fac=function(t){return new(t||e)(P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function NA(e,n){e&1&&(u(0,"h5",8),f(1,"You have accepted this offer"),c())}function OA(e,n){if(e&1){let t=ne();u(0,"button",9),M("click",function(){R(t);let r=y(2);return N(r.advanceStep())}),f(1,"Accept to Deliver"),c(),u(2,"button",10),M("click",function(){R(t);let r=y(2);return N(r.Reject())}),f(3,"Reject to Deliver"),c()}if(e&2){let t=y(2);g("disabled",t.IsAccepted),h(2),g("disabled",t.IsAccepted)}}function PA(e,n){if(e&1&&(u(0,"div"),S(1,"i",7),u(2,"h6"),f(3,"You've been matched to deliver this order."),c(),u(4,"p"),f(5,"Price offered: "),u(6,"strong"),f(7),c()(),D(8,NA,2,0,"h5",8)(9,OA,4,2),c()),e&2){let t=y();h(7),j("",t.offerPrice," EGP"),h(),fe(t.IsAccepted?8:9)}}function kA(e,n){if(e&1){let t=ne();u(0,"div"),S(1,"i",11),u(2,"h6"),f(3,"Pick up the item from the sender."),c(),u(4,"p"),f(5,"Once you have received the item from the sender's location, confirm below."),c(),u(6,"button",12),M("click",function(){R(t);let r=y();return N(r.advanceStep())}),f(7,"Confirm Item Received"),c()()}if(e&2){let t=y();h(6),g("disabled",t.actualStep>1)}}function AA(e,n){if(e&1){let t=ne();u(0,"div"),S(1,"i",11),u(2,"h6"),f(3,"Deliver the item to the recipient."),c(),u(4,"p"),f(5,"After successfully delivering the item to the recipient, confirm the delivery below."),c(),u(6,"button",12),M("click",function(){R(t);let r=y();return N(r.advanceStep())}),f(7,"Mark as Delivered"),c()()}if(e&2){let t=y();h(6),g("disabled",t.actualStep>=2)}}function FA(e,n){e&1&&(u(0,"div"),S(1,"i",13),u(2,"h6"),f(3,"Delivery Completed"),c(),u(4,"p"),f(5,"Thank you! You have successfully completed the delivery."),c()())}var _d=class e{trackingService=b(gd);route=b(lt);actualStep=0;currentStep=0;offerPrice=80;IsAccepted=!1;actualTrack;deliveryRequestID;constructor(){this.deliveryRequestID=Number(this.route.snapshot.paramMap.get("id")),console.log("ID is:",this.deliveryRequestID)}ngOnInit(){this.trackingService.getLast(this.deliveryRequestID).subscribe({next:n=>{n.isSuccess?(console.log(n),this.actualTrack=n.data,n.data?(this.actualStep=n.data.status,this.currentStep=this.actualStep+1):(this.actualStep=-1,this.currentStep=this.actualStep+1),this.actualStep>0&&(this.IsAccepted=!0),console.log("Current step",this.currentStep)):console.error("An error occurred while fetching request details.")}})}advanceStep(){if(this.actualStep<3){this.actualStep++,this.currentStep=this.actualStep+1;var n={status:this.actualStep,userId:this.actualTrack?.userId,deliveryRequestId:this.deliveryRequestID};this.trackingService.addUpdate(n).subscribe({next:t=>{console.log(t),t.isSuccess?console.log(t):console.error("An error occurred while fetching request details.")}})}}Reject(){}steps=[{label:"Order Placed",description:"The delivery request has been created and is awaiting traveler acceptance."},{label:"Traveler Accepted",description:"A traveler accepted the delivery and is preparing to pick up the item."},{label:"In Transit",description:"The item is on the way to the destination."},{label:"Delivered",description:"The item has been successfully delivered to the recipient."}];selectStep(n){this.actualStep>=n&&(this.currentStep=n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["app-tracking-progress"]],decls:27,vars:10,consts:[[1,"container","pb-5"],[1,"card"],[1,"row","text-center","justify-content-between","align-items-center","top"],[1,"col","mb-5"],["id","progressbar"],[1,"btn","step-label",3,"click"],[1,"step-details","p-3","rounded","text-center","mt-5",3,"ngSwitch"],[1,"fa-regular","fa-handshake","mb-4",2,"color","var(--dark)","font-size","5rem"],[2,"color","green"],[1,"btn","btn-warning","me-3",3,"click","disabled"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"fa-solid","fa-hand-holding-hand","mb-4",2,"color","var(--dark)","font-size","5rem"],[1,"btn","btn-warning",3,"click","disabled"],[1,"fa-solid","fa-circle-check","mb-3",2,"color","var(--yellow)","font-size","5rem"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),f(5,"Delivery Progress"),c()()(),u(6,"ul",4)(7,"li")(8,"span")(9,"a",5),M("click",function(){return i.selectStep(0)}),f(10,"Step 1: Offer Accept"),c()()(),u(11,"li")(12,"span")(13,"a",5),M("click",function(){return i.selectStep(1)}),f(14,"Step 2: Item Collected"),c()()(),u(15,"li")(16,"span")(17,"a",5),M("click",function(){return i.selectStep(2)}),f(18,"Step 3: Delivered"),c()()(),u(19,"li")(20,"span",5),M("click",function(){return i.selectStep(3)}),f(21,"Completed"),c()()(),u(22,"div",6),D(23,PA,10,2,"div")(24,kA,8,1,"div")(25,AA,8,1,"div")(26,FA,6,0,"div"),c()()()),t&2&&(h(7),mt("active",i.actualStep>=0),h(4),mt("active",i.actualStep>=1),h(4),mt("active",i.actualStep>=2),h(4),mt("active",i.actualStep>=2),h(3),g("ngSwitch",i.currentStep),h(),fe(i.currentStep==0?23:i.currentStep==1?24:i.currentStep==2?25:i.currentStep>=3?26:-1))},dependencies:[kh],styles:['.card[_ngcontent-%COMP%]{background-color:transparent;border-radius:15px;padding:40px;margin-top:50px;border:0}.top[_ngcontent-%COMP%]{margin-bottom:40px}#progressbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0;list-style-type:none;position:relative}#progressbar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:22px;left:10%;width:80%;height:4px;background-color:#c5cae9;z-index:0}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:1;flex:1}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\f10c";font-family:"Font Awesome 6 Free";font-weight:900;font-size:20px;background-color:#c5cae9;color:#fff;width:40px;height:40px;line-height:40px;border-radius:50%;display:inline-block;margin-bottom:10px}#progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{content:"\\f00c";background-color:var(--dark)}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:14px;margin-top:5px}.step-label[_ngcontent-%COMP%]{font-size:13px}.btn-warning[_ngcontent-%COMP%]{background-color:var(--yellow);border-radius:8px;color:#1a202c}']})};var SD=[{path:"",component:xa},{path:"",component:xa},{path:"deliveryrequests/update/:id",pathMatch:"full",component:ku,canActivate:[Yt]},{path:"user-details",component:Au,canActivate:[Yt]},{path:"deliveryrequests/details/:id",component:sd,canActivate:[Yt]},{path:"deliveryrequests/Create",pathMatch:"full",component:Yi,canActivate:[Yt]},{path:"deliveryrequests/getallDRs",pathMatch:"full",component:ld},{path:"Register",component:ud,pathMatch:"full"},{path:"login",component:dd,pathMatch:"full"},{path:"edit-profile",component:Fu,canActivate:[Yt],pathMatch:"full"},{path:"deliveryrequests/getMyDeliveryRequests",pathMatch:"full",component:fd,canActivate:[Yt]},{path:"DRApplications/GetMyApplications",pathMatch:"full",component:hd,canActivate:[Yt]},{path:"DRApplications/AcceptedApplications",pathMatch:"full",component:md,canActivate:[Yt]},{path:"DRApplications/track/:id",pathMatch:"full",component:_d,canActivate:[Yt]},{path:"Application/add",pathMatch:"full",component:qi,canActivate:[Yt]}];var ID=(e,n)=>{let t=b(Qi);if(e.url.startsWith("api")){let i=Wi.apiBaseUrl,r=e.clone({url:`${i}${e.url}`});return t.show(),n(r).pipe(It(()=>{t.hide(),console.log("hidiiiiind")}))}return n(e)};var eg={value:!1},tg=new le(null),MD=(e,n)=>{let t=b(qe),i=(s,a)=>s.clone({setHeaders:{Authorization:`Bearer ${a}`}}),r=s=>eg.value?tg.pipe(Le(a=>a!==null),St(1),Ve(a=>n(i(s,a)))):(eg.value=!0,tg.next(null),t.refreshToken().pipe(Ve(()=>{let a=t.getToken();return a?(tg.next(a),n(i(s,a))):(t.logout(),Pe(()=>new Error("Refresh token failed")))}),rt(a=>(t.logout(),Pe(()=>a))),It(()=>{eg.value=!1}))),o=t.getToken();if(o&&e.url.startsWith(Wi.apiBaseUrl)){let s=i(e,o);return n(s).pipe(rt(a=>a instanceof Pi&&a.status===401?r(e):Pe(()=>a)))}return n(e).pipe(rt(s=>s instanceof Pi&&s.status===401?r(e):Pe(()=>s)))};var xD={providers:[my({eventCoalescing:!0}),Im(SD,xm()),zc(Kh([ID,MD]))]};var LA=()=>["/edit-profile"];function VA(e,n){if(e&1&&S(0,"img",6),e&2){let t=y();g("src","https://localhost:7176"+(t.user==null?null:t.user.profileImageUrl),nn)}}function jA(e,n){if(e&1&&(u(0,"div",7),f(1),c()),e&2){let t=y();h(),j(" ",t.user.userName.charAt(0).toUpperCase(),`
`)}}function BA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=y(4);h(),O(t.errors.fullName)}}function UA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=y(4);h(),O(t.errors.email)}}function HA(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=y(4);h(),O(t.notvalidemail)}}function $A(e,n){if(e&1&&(u(0,"span",27),f(1),c()),e&2){let t=y(4);h(),O(t.errors.phone)}}function qA(e,n){if(e&1&&(u(0,"option",28),f(1),c()),e&2){let t=n.$implicit;g("value",t),h(),O(t)}}function zA(e,n){e&1&&(u(0,"span"),f(1,"Save"),c())}function GA(e,n){e&1&&S(0,"span",29)}function WA(e,n){if(e&1){let t=ne();u(0,"div")(1,"div",14)(2,"label",15),f(3,"Username (not editable)"),c(),S(4,"input",16),c(),u(5,"div",14)(6,"label",15),f(7,"Full Name"),c(),u(8,"input",17),Ee("ngModelChange",function(r){R(t);let o=y(3);return xe(o.user.fullName,r)||(o.user.fullName=r),N(r)}),c()(),D(9,BA,2,1,"span",18),u(10,"div",14)(11,"label",15),f(12,"Email"),c(),u(13,"input",19),Ee("ngModelChange",function(r){R(t);let o=y(3);return xe(o.user.email,r)||(o.user.email=r),N(r)}),c()(),D(14,UA,2,1,"span",18)(15,HA,2,1,"span",18),u(16,"div",14)(17,"label",15),f(18,"Phone"),c(),u(19,"input",17),Ee("ngModelChange",function(r){R(t);let o=y(3);return xe(o.user.phone,r)||(o.user.phone=r),N(r)}),c()(),D(20,$A,2,1,"span",18),u(21,"div",14)(22,"label",15),f(23,"Address"),c(),u(24,"select",20),Ee("ngModelChange",function(r){R(t);let o=y(3);return xe(o.user.address,r)||(o.user.address=r),N(r)}),u(25,"option",21),f(26,"Select Governorate"),c(),D(27,qA,2,2,"option",22),c()(),u(28,"div",14)(29,"label",15),f(30,"National ID (not editable)"),c(),S(31,"input",16),c(),u(32,"div",23)(33,"button",24),M("click",function(){R(t);let r=y(3);return N(r.saveProfile())}),D(34,zA,2,0,"span",10)(35,GA,1,0,"span",25),c(),u(36,"button",26),M("click",function(){R(t);let r=y(3);return N(r.cancelEdit())}),f(37,"Close"),c()()()}if(e&2){let t=y(3);h(4),g("value",t.user.userName),h(4),we("ngModel",t.user.fullName),h(),g("ngIf",t.errors.fullName),h(4),we("ngModel",t.user.email),h(),g("ngIf",t.errors.email),h(),g("ngIf",t.notvalidemail),h(4),we("ngModel",t.user.phone),h(),g("ngIf",t.errors.phone),h(4),we("ngModel",t.user.address),h(3),g("ngForOf",t.egyptGovernorates),h(4),g("value",t.user.natId),h(2),g("disabled",t.loading),h(),g("ngIf",!t.loading),h(),g("ngIf",t.loading)}}function YA(e,n){if(e&1){let t=ne();u(0,"div")(1,"button",11),M("click",function(){R(t);let r=y(2);return N(r.togglePopup())}),f(2),c(),u(3,"button",12),M("click",function(){R(t);let r=y(2);return N(r.openDeleteModal())}),f(4,"Delete Account"),c(),u(5,"button",13),M("click",function(){R(t);let r=y(2);return N(r.logout())}),f(6,"Logout"),c(),D(7,WA,38,14,"div",10),c()}if(e&2){let t=y(2);h(),g("routerLink",Pn(3,LA)),h(),j("",t.user.userName,"'s Profile"),h(5),g("ngIf",t.editingProfile)}}function QA(e,n){if(e&1&&(u(0,"div",8)(1,"h5",9),f(2,"Profile"),c(),D(3,YA,8,4,"div",10),c()),e&2){let t=y();h(3),g("ngIf",!t.editingProfile)}}function ZA(e,n){if(e&1&&(u(0,"div",39),f(1),c()),e&2){let t=y(2);h(),O(t.deleteError)}}function KA(e,n){if(e&1){let t=ne();u(0,"div",30)(1,"div",31)(2,"h5",32),f(3,"Confirm Account Deletion"),c(),u(4,"p",33),f(5,"Please enter your password to confirm:"),c(),u(6,"input",34),Ee("ngModelChange",function(r){R(t);let o=y();return xe(o.confirmPassword,r)||(o.confirmPassword=r),N(r)}),c(),D(7,ZA,2,1,"div",35),u(8,"div",36)(9,"button",37),M("click",function(){R(t);let r=y();return N(r.cancelDelete())}),f(10,"Cancel"),c(),u(11,"button",38),M("click",function(){R(t);let r=y();return N(r.confirmDelete())}),f(12,"Delete"),c()()()()}if(e&2){let t=y();h(6),we("ngModel",t.confirmPassword),h(),g("ngIf",t.deleteError)}}var vd=class e{constructor(n,t){this.router=n;this.eRef=t}authService=b(qe);user={};showPopup=!1;loading=!1;egyptGovernorates=Hi;notvalidemail=null;editingProfile=!1;errors={fullName:"",email:"",phone:""};showPasswordModal=!1;confirmPassword="";deleteError="";ngOnInit(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n),n.status===401&&this.router.navigate(["/login"])}})}loadUser(){this.authService.getUserProfile().subscribe({next:n=>{this.user=n},error:n=>{console.error("Failed to load user:",n)}})}validate(){let n=!0;this.errors={fullName:"",email:"",phone:""},(!this.user.fullName||this.user.fullName.trim().length<3)&&(this.errors.fullName="Full name is required and must be at least 3 characters.",n=!1);let t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return(!this.user.email||!t.test(this.user.email))&&(this.errors.email="Please enter a valid email address.",n=!1),this.user.phone&&!/^(010|011|012|015)\d{8}$/.test(this.user.phone)&&(this.errors.phone="Phone must be a valid Egyptian number starting with 010, 011, 012, or 015.",n=!1),n}saveProfile(){this.validate()&&(this.loading=!0,this.authService.updateUser(this.user).subscribe({next:()=>{alert("User updated successfully!"),this.loading=!1,this.loadUser(),this.editingProfile=!1},error:n=>{console.error("Update failed:",n),n.error&&n.error.message==="Email is already taken."?this.notvalidemail="Email is already taken. Please choose another one.":this.notvalidemail="An error occurred. Please try again later.",this.loading=!1}}))}togglePopup(){this.showPopup=!this.showPopup}clickOutside(n){this.showPopup&&!this.eRef.nativeElement.contains(n.target)&&(this.showPopup=!1)}logout(){this.authService.logout(),this.togglePopup()}cancelEdit(){this.editingProfile=!1}openDeleteModal(){this.togglePopup(),this.showPasswordModal=!0,this.confirmPassword="",this.deleteError=""}cancelDelete(){this.showPasswordModal=!1,this.confirmPassword="",this.deleteError=""}confirmDelete(){this.deleteError="",this.authService.deleteUser(this.confirmPassword).subscribe({next:()=>{this.showPasswordModal=!1,this.authService.logout()},error:n=>{this.deleteError=n.error?.message||"Incorrect password or server error."}})}static \u0275fac=function(t){return new(t||e)(C(oe),C(Ge))};static \u0275cmp=V({type:e,selectors:[["app-user-profile"]],hostBindings:function(t,i){t&1&&M("click",function(o){return i.clickOutside(o)},!1,rv)},decls:6,vars:4,consts:[[1,"position-relative"],[1,"profile-icon","text-white","text-center","fw-bold",3,"click"],["alt","Profile Image","style","width: 50px; height: 50px; object-fit: cover; border-radius: 50%;",3,"src",4,"ngIf"],["class","d-flex justify-content-center align-items-center rounded-circle bg-#e99a42 text-white fw-bold","style","width: 50px; height: 50px; font-size: 1.3rem;",4,"ngIf"],["class","card profile-popup registerForm shadow position-absolute end-0 mt-2 p-4","style","width: 400px; z-index: 999;",4,"ngIf"],["class","custom-modal",4,"ngIf"],["alt","Profile Image",2,"width","50px","height","50px","object-fit","cover","border-radius","50%",3,"src"],[1,"d-flex","justify-content-center","align-items-center","rounded-circle","bg-#e99a42","text-white","fw-bold",2,"width","50px","height","50px","font-size","1.3rem"],[1,"card","profile-popup","registerForm","shadow","position-absolute","end-0","mt-2","p-4",2,"width","400px","z-index","999"],[1,"card-title","text-center","mb-3",2,"font-weight","700"],[4,"ngIf"],[1,"btn","btn-outline-primary","w-100","mb-2",3,"click","routerLink"],[1,"btn","btn-outline-warning","w-100","mb-2",3,"click"],[1,"btn","btn-outline-danger","w-100","mb-2",3,"click"],[1,"mb-3","text-start"],[1,"form-label"],["type","text","disabled","",1,"form-control",3,"value"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","email",1,"form-control",3,"ngModelChange","ngModel"],["name","address",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","gap-2"],[1,"btn","btn-primary","w-100",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"error"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"custom-modal"],[1,"custom-modal-content"],[1,"text-center","mb-3"],[1,"text-center"],["type","password","placeholder","Enter password",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["class","text-danger mb-2 text-center",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"btn","btn-secondary","w-50","me-2",3,"click"],[1,"btn","btn-danger","w-50",3,"click"],[1,"text-danger","mb-2","text-center"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1),M("click",function(){return i.togglePopup()}),D(2,VA,1,1,"img",2)(3,jA,2,1,"div",3),c(),D(4,QA,4,1,"div",4)(5,KA,13,2,"div",5),c()),t&2&&(h(2),g("ngIf",i.user==null?null:i.user.profileImageUrl),h(),g("ngIf",!(i.user!=null&&i.user.profileImageUrl)&&(i.user==null?null:i.user.userName)),h(),g("ngIf",i.showPopup),h(),g("ngIf",i.showPasswordModal))},dependencies:[Ie,He,re,Qe,Hn,$n,Oe,Un,$e,Gt,Ye],styles:[".profile-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:var(--yellow);display:flex;align-items:center;justify-content:center;cursor:pointer;font-family:Montserrat,sans-serif;box-shadow:0 2px 4px #00000026}.profile-popup[_ngcontent-%COMP%]{background-color:#f0f0f0!important;border-radius:8px;font-family:Montserrat,sans-serif;box-shadow:0 4px 6px #0000001a}.profile-popup[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--text);font-weight:600}.profile-popup[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px;font-size:.95rem}.profile-popup[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{background-color:var(--sender);border-color:var(--dark);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--neutral)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--dark);border-color:var(--dark);color:var(--yellow)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-warning[_ngcontent-%COMP%]{background-color:var(--traveler);border-color:var(--yellow);font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:var(--yellow)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-warning[_ngcontent-%COMP%]:hover{background-color:var(--yellow);border-color:var(--yellow);color:var(--dark)}.profile-popup[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{background-color:var(--traveler);border-color:#eb2828;font-weight:700;font-size:1rem;padding:.5rem;border-radius:4px;color:#eb2828}.profile-popup[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#eb2828;border-color:#eb2828;color:#fff}.error[_ngcontent-%COMP%]{color:red;font-size:.8em}.custom-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1055}.custom-modal-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;width:100%;max-width:400px;box-shadow:0 0 20px #0003}@media (max-width: 576px){.profile-popup[_ngcontent-%COMP%]{width:90vw;max-width:320px;right:auto;left:50%;transform:translate(-50%);padding:1rem}.profile-popup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.4rem .8rem}.profile-popup[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .profile-popup[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .profile-popup[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.9rem}.profile-popup[_ngcontent-%COMP%]   h5.card-title[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var Zi=class e{constructor(n,t){this.signalRService=n;this.http=t;this.signalRService.newMessage$.subscribe(i=>{this.addMessageToChat(i)})}apiUrl="api/Chat";chatsSubject=new le([]);chats$=this.chatsSubject.asObservable();activeChatSubject=new le(null);activeChat$=this.activeChatSubject.asObservable();chatsPanelVisibleSubject=new le(!1);chatsPanelVisible$=this.chatsPanelVisibleSubject.asObservable();chatWindowVisibleSubject=new le(!1);chatWindowVisible$=this.chatWindowVisibleSubject.asObservable();toggleChatsPanel(){this.chatsPanelVisibleSubject.next(!this.chatsPanelVisibleSubject.value)}openChat(n){this.activeChatSubject.next(n),this.chatWindowVisibleSubject.next(!0),this.loadChatHistory(n.id)}closeChat(){this.chatWindowVisibleSubject.next(!1)}toggleChatWindow(){this.chatWindowVisibleSubject.next(!this.chatWindowVisibleSubject.value)}loadChats(){return this.http.get(`${this.apiUrl}/user`).subscribe({next:n=>{n.isSuccess?(n.data.forEach(t=>{t.unreadMessagesCount=0,t.lastMessage=t.messages?.length>0?t.messages[t.messages.length-1]:null,t.lastMessageTime=t.lastMessage?.date??null}),this.chatsSubject.next(n.data)):console.error(`Error loading chats: ${n.message}`,n.errorCode)},error:n=>{console.error("Error loading chats:",n)}}),this.chats$}loadChatHistory(n){return this.http.get(`api/chat/${n}`)}addMessageToChat(n){let t=this.chatsSubject.value,i=t.findIndex(r=>r.id===n.chatId);if(i>-1){let r=[...t];r[i]=H(I({},r[i]),{lastMessage:n,lastMessageTime:n.date,unreadMessagesCount:this.activeChatSubject.value?.id===n.chatId?0:(r[i].unreadMessagesCount||0)+1});let o=r.splice(i,1)[0];if(r.unshift(o),this.chatsSubject.next(r),this.activeChatSubject.value?.id===n.chatId){let s=this.activeChatSubject.value;this.activeChatSubject.next(H(I({},s),{messages:[...s.messages||[],n]}))}}}static \u0275fac=function(t){return new(t||e)(P(Qn),P(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function JA(e,n){if(e&1&&(u(0,"span",3),f(1),c()),e&2){let t=y();h(),O(t.totalUnreadMessages)}}var yd=class e{constructor(n){this.chatService=n;this.chatService.chats$.subscribe(t=>{this.totalUnreadMessages=t.reduce((i,r)=>i+r.unreadMessagesCount,0)})}totalUnreadMessages=0;toggleChatsPanel(){this.chatService.toggleChatsPanel()}static \u0275fac=function(t){return new(t||e)(C(Zi))};static \u0275cmp=V({type:e,selectors:[["app-chat-icon"]],decls:3,vars:1,consts:[[1,"chat-icon","d-flex","align-items-center","position-relative",3,"click"],[1,"bi","bi-chat"],["class","badge rounded-circle",4,"ngIf"],[1,"badge","rounded-circle"]],template:function(t,i){t&1&&(u(0,"div",0),M("click",function(){return i.toggleChatsPanel()}),S(1,"i",1),D(2,JA,2,1,"span",2),c()),t&2&&(h(2),g("ngIf",i.totalUnreadMessages>0))},dependencies:[re],styles:[".chat-icon[_ngcontent-%COMP%]{cursor:pointer;width:40px;height:40px;justify-content:center}.chat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--yellow);font-size:20px}.badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background-color:var(--yellow);color:var(--dark);width:18px;height:18px;font-size:12px;display:flex;align-items:center;justify-content:center}"]})};var bd=class e{hubConnection;newNotificationSubject=new ae;newNotification$=this.newNotificationSubject.asObservable();constructor(){}startConnection(){this.hubConnection=new Vr().withUrl(`${Wi.notificationHubUrl}`,{accessTokenFactory:()=>localStorage.getItem("token")||sessionStorage.getItem("token")||""}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>console.log("SignalR connection started")).catch(n=>console.log("Error while starting connection: "+n)),this.registerSignalREvents()}registerSignalREvents(){this.hubConnection?this.hubConnection.on("ReceiveNotification",n=>{this.newNotificationSubject.next(n)}):console.error("Hub connection is not established.")}stopConnection(){this.hubConnection&&this.hubConnection.stop().then(()=>console.log("SignalR connection stopped")).catch(n=>console.log("Error while stopping connection: "+n))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var ns=class e{constructor(n,t){this.http=n;this.notificationSignalrService=t;this.notificationSignalrService.newNotification$.subscribe(i=>{this.addNotification(i)})}apiUrl="api/notification";notificationsSubject=new le([]);notifications$=this.notificationsSubject.asObservable();notificationPanelVisibleSubject=new le(!1);notificationPanelVisible$=this.notificationPanelVisibleSubject.asObservable();totalUnreadNotificationsSubject=new le(0);totalUnreadNotifications$=this.totalUnreadNotificationsSubject.asObservable();toggleNotificationPanel(){this.notificationPanelVisibleSubject.next(!this.notificationPanelVisibleSubject.value)}loadNotifications(){return this.http.get(`${this.apiUrl}`).subscribe({next:n=>{n.isSuccess?n.data.forEach(t=>{this.addNotification(t)}):console.error(`Error loading notifications: ${n.message}`,n.errorCode)},error:n=>{console.error("Error loading notifications:",n)}}),this.notifications$}addNotification(n){let t=this.notificationsSubject.value,i=t.findIndex(r=>r.id===n.id);n.isRead||this.totalUnreadNotificationsSubject.next(this.totalUnreadNotificationsSubject.value+1),i===-1?(t.unshift(n),this.notificationsSubject.next(t)):(t[i]=n,this.notificationsSubject.next(t))}markAsRead(n){this.http.put(`${this.apiUrl}/mark-as-read`,n).subscribe({next:t=>{if(t.isSuccess){let i=this.notificationsSubject.value;n.forEach(r=>{let o=i.findIndex(s=>s.id===r);o!==-1&&(i[o].isRead=!0,this.totalUnreadNotificationsSubject.next(this.totalUnreadNotificationsSubject.value-1))}),this.notificationsSubject.next(i)}else console.error(`Error marking notifications as read: ${t.message}`,t.errorCode)},error:t=>{console.error("Error marking notifications as read:",t)}})}static \u0275fac=function(t){return new(t||e)(P(vt),P(bd))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function e2(e,n){if(e&1&&(u(0,"span",3),f(1),c()),e&2){let t=y();h(),O(t.totalUnreadNotifications)}}var Dd=class e{constructor(n){this.notificationService=n;this.notificationService.notifications$.subscribe(t=>{this.totalUnreadNotifications=t.reduce((i,r)=>i+(r.isRead?0:1),0)})}totalUnreadNotifications=0;toggleNotificationsPanel(){this.notificationService.toggleNotificationPanel()}static \u0275fac=function(t){return new(t||e)(C(ns))};static \u0275cmp=V({type:e,selectors:[["app-notification-icon"]],decls:3,vars:1,consts:[[1,"chat-icon","d-flex","align-items-center","position-relative",3,"click"],[1,"bi","bi-bell","fs-5"],["class","badge bg-danger position-absolute top-0 start-100 translate-middle rounded-pill px-2",4,"ngIf"],[1,"badge","bg-danger","position-absolute","top-0","start-100","translate-middle","rounded-pill","px-2"]],template:function(t,i){t&1&&(u(0,"div",0),M("click",function(){return i.toggleNotificationsPanel()}),S(1,"i",1),D(2,e2,2,1,"span",2),c()),t&2&&(h(2),g("ngIf",i.totalUnreadNotifications>0))},dependencies:[re],encapsulation:2})};function t2(e,n){e&1&&(Nn(0),u(1,"li",9)(2,"a",10),f(3,"Delivery Requests"),c()(),u(4,"li",9)(5,"a",11),f(6,"My Applications"),c()(),u(7,"li",9)(8,"a",12),f(9,"Track Applications"),c()(),u(10,"li",9)(11,"a",13),f(12,"My Delivery Requests"),c()(),u(13,"li",9)(14,"a",14),S(15,"app-chat-icon"),c()(),u(16,"li",15)(17,"a",14),S(18,"app-notification-icon"),c()(),u(19,"li",16),S(20,"app-user-profile"),c(),On())}function n2(e,n){e&1&&(Nn(0),u(1,"div",17)(2,"ul",7)(3,"li",9)(4,"a",10),f(5,"Delivery Requests"),c()()(),u(6,"a",18),f(7,"Login"),c(),u(8,"a",19),f(9,"Register"),c()(),On())}var Cd=class e{constructor(n,t){this.authService=n;this.router=t;this.respond=this.authService.response}isLoggedIn=!0;searchQuery="";user=null;respond=null;ngOnInit(){this.authService.isLoggedIn$.subscribe(n=>{this.isLoggedIn=n})}logout(){this.authService.logout(),this.router.navigate(["/login"])}onSearch(n){n.preventDefault(),this.searchQuery?.trim()&&this.router.navigate(["/user-details"],{queryParams:{name:this.searchQuery.trim()}})}static \u0275fac=function(t){return new(t||e)(C(qe),C(oe))};static \u0275cmp=V({type:e,selectors:[["app-header"]],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","sticky-top","shadow-sm"],[1,"container"],["href","#",1,"navbar-brand"],["src","logocopy.png","width","90px","alt","Logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","text-light","border-0"],[1,"fa-solid","fa-bars","fs-4"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-center","gap-2","pe-3"],[4,"ngIf"],[1,"nav-item"],["routerLink","deliveryrequests/getallDRs","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","DRApplications/GetMyApplications","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","DRApplications/AcceptedApplications","routerLinkActive","active",1,"nav-link","custom-link"],["routerLink","deliveryrequests/getMyDeliveryRequests","routerLinkActive","active",1,"nav-link","custom-link"],[1,"nav-link","custom-link","d-flex","align-items-center","gap-1"],[1,"nav-item","position-relative"],[1,"nav-item","ms-3"],[1,"d-flex","gap-2","ps-3"],["routerLink","/login","routerLinkActive","active-link",1,"btn","btn-main","rounded-pill","px-4","py-1"],["routerLink","/Register","routerLinkActive","active-link",1,"btn","btn-main","rounded-pill","px-4","py-1"]],template:function(t,i){t&1&&(u(0,"nav",0)(1,"div",1)(2,"a",2),S(3,"img",3),c(),u(4,"button",4),S(5,"i",5),c(),u(6,"div",6)(7,"ul",7),D(8,t2,21,0,"ng-container",8),c(),D(9,n2,10,0,"ng-container",8),c()()()),t&2&&(h(8),g("ngIf",i.isLoggedIn),h(),g("ngIf",!i.isLoggedIn))},dependencies:[Ye,ma,re,Qe,vd,Jh,yd,Dd],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--dark);z-index:900}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:var(--yellow)}.navbar[_ngcontent-%COMP%]   .left-border[_ngcontent-%COMP%]{border-left:1px solid var(--yellow)}.navbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--yellow)}.btn-main[_ngcontent-%COMP%]{padding:5px 20px;background-color:var(--yellow);color:var(--dark)}.btn-main[_ngcontent-%COMP%]:hover{opacity:.9;background-color:var(--yellow);color:var(--dark)}"]})};var wd=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=V({type:e,selectors:[["app-footer"]],decls:47,vars:0,consts:[[1,"text-center","text-white"],[1,"container"],[1,"row","text-center","d-flex","justify-content-center","pt-5"],[1,"col-md-2"],[1,"text-uppercase","font-weight-bold"],["href","#",1,"btn","text-white"],[1,"mt-4","mb-3"],[1,"mb-5"],[1,"row","d-flex","justify-content-center"],[1,"col-lg-8"],[1,"text-center","mb-5"],["href","",1,"btn","text-white","me-4"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-google"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin"],[1,"fab","fa-github"],[1,"text-center","p-3","copyrights"],["href","https://ma3ak.me.com",1,""]],template:function(t,i){t&1&&(u(0,"footer",0)(1,"div",1)(2,"section")(3,"div",2)(4,"div",3)(5,"h1",4)(6,"a",5),f(7,"Home"),c()()(),u(8,"div",3)(9,"h1",4)(10,"a",5),f(11,"Services"),c()()(),u(12,"div",3)(13,"h1",4)(14,"a",5),f(15,"Portfolio"),c()()(),u(16,"div",3)(17,"h1",4)(18,"a",5),f(19,"contact"),c()()(),u(20,"div",3)(21,"h1",4)(22,"a",5),f(23,"About us"),c()()()()(),S(24,"hr",6),u(25,"section",7)(26,"div",8)(27,"div",9)(28,"p"),f(29," Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt distinctio earum repellat quaerat voluptatibus placeat nam, commodi optio pariatur est quia magnam eum harum corrupti dicta, aliquam sequi voluptate quas. "),c()()()(),u(30,"section",10)(31,"a",11),S(32,"i",12),c(),u(33,"a",11),S(34,"i",13),c(),u(35,"a",11),S(36,"i",14),c(),u(37,"a",11),S(38,"i",15),c(),u(39,"a",11),S(40,"i",16),c(),u(41,"a",11),S(42,"i",17),c()()(),u(43,"div",18),f(44," \xA9 2025 Copyright: "),u(45,"a",19),f(46,"MDBootstrap.com"),c()()())},styles:["footer[_ngcontent-%COMP%]{background-color:var(--dark)}.copyrights[_ngcontent-%COMP%]{background-color:#0003;color:var(--yellow)}.copyrights[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--yellow)}"]})};var jr=class extends Error{};jr.prototype.name="InvalidTokenError";function i2(e){return decodeURIComponent(atob(e).replace(/(.)/g,(n,t)=>{let i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function r2(e){let n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return i2(n)}catch{return atob(n)}}function RD(e,n){if(typeof e!="string")throw new jr("Invalid token specified: must be a string");n||(n={});let t=n.header===!0?0:1,i=e.split(".")[t];if(typeof i!="string")throw new jr(`Invalid token specified: missing part #${t+1}`);let r;try{r=r2(i)}catch(o){throw new jr(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(r)}catch(o){throw new jr(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}var o2=["messagesContainer"],s2=e=>({minimized:e}),a2=e=>({"own-message":e}),l2=(e,n)=>n.id;function c2(e,n){if(e&1&&(u(0,"div",13)(1,"div",18),f(2),c(),u(3,"div",19),f(4),gt(5,"date"),c()()),e&2){let t=n.$implicit,i=y(3);g("ngClass",kt(6,a2,t.senderId==i.currentUserId)),h(2),O(t.message),h(2),j(" ",rn(5,3,t.date,"shortTime")," ")}}function u2(e,n){if(e&1){let t=ne();u(0,"div",11)(1,"div",12,0),yr(3,c2,6,8,"div",13,l2),c(),u(5,"div",14)(6,"input",15),M("keyup.enter",function(){R(t);let r=y(2);return N(r.sendMessage())}),c(),u(7,"button",16),M("click",function(){R(t);let r=y(2);return N(r.sendMessage())}),S(8,"i",17),c()()()}if(e&2){let t=y(2);h(3),br(t.messages),h(3),g("formControl",t.messageInput)}}function d2(e,n){if(e&1){let t=ne();u(0,"div",2)(1,"div",3),M("click",function(){R(t);let r=y();return N(r.toggleMinimize())}),u(2,"div",4)(3,"div",5),f(4),c()(),u(5,"div",6)(6,"button",7),M("click",function(r){R(t);let o=y();return N(o.minimizeWindow(r))}),S(7,"i",8),c(),u(8,"button",7),M("click",function(r){R(t);let o=y();return N(o.closeWindow(r))}),S(9,"i",9),c()()(),D(10,u2,9,1,"div",10),c()}if(e&2){let t=y();g("ngClass",kt(4,s2,t.isMinimized)),h(4),O(t.activeChat.chattingWith),h(3),g("ngClass",t.isMinimized?"bi-chevron-up":"bi-dash-lg"),h(3),g("ngIf",!t.isMinimized)}}var Ed=class e{constructor(n,t){this.chatService=n;this.signalRService=t}messagesContainer;userToken=localStorage.getItem("token")||sessionStorage.getItem("token");currentUserId;activeChat=null;messages=[];isWindowVisible=!1;isMinimized=!1;messageInput=new Or("",U.required);ngOnInit(){if(this.userToken){let n=RD(this.userToken);this.currentUserId=parseInt(n["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"])}this.chatService.activeChat$.subscribe(n=>{this.activeChat=n,n&&(this.messages=n.messages||[],this.scrollToBottom())}),this.chatService.chatWindowVisible$.subscribe(n=>{this.isWindowVisible=n,n&&(this.isMinimized=!1)}),this.signalRService.newMessage$.subscribe(n=>{this.activeChat&&n.chatId===this.activeChat.id&&setTimeout(()=>this.scrollToBottom(),100)})}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){try{this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch{}}sendMessage(){if(this.messageInput.invalid||!this.activeChat)return;let n=this.messageInput.value?.trim();if(!n)return;let t={chatId:this.activeChat.id,message:n,senderId:this.currentUserId,date:new Date};this.messages.push(t),this.scrollToBottom(),this.messageInput.reset(),this.signalRService.sendMessage(t,"1")}toggleMinimize(){this.isMinimized=!this.isMinimized}minimizeWindow(n){n.stopPropagation(),this.isMinimized=!0}closeWindow(n){n.stopPropagation(),this.chatService.closeChat()}static \u0275fac=function(t){return new(t||e)(C(Zi),C(Qn))};static \u0275cmp=V({type:e,selectors:[["app-chat-window"]],viewQuery:function(t,i){if(t&1&&fi(o2,5),t&2){let r;gn(r=_n())&&(i.messagesContainer=r.first)}},decls:1,vars:1,consts:[["messagesContainer",""],["class","chat-window-container shadow",3,"ngClass",4,"ngIf"],[1,"chat-window-container","shadow",3,"ngClass"],[1,"window-header","d-flex","justify-content-between","align-items-center",3,"click"],[1,"chat-details","d-flex","align-items-center"],[1,"name","text-white"],[1,"window-controls"],[1,"btn","btn-link","p-1",3,"click"],[1,"bi","text-yellow",3,"ngClass"],[1,"bi","bi-x-lg","text-yellow"],["class","messages-container bg-white",4,"ngIf"],[1,"messages-container","bg-white"],[1,"messages","px-3","py-2"],[1,"message","mb-3",3,"ngClass"],[1,"message-input","d-flex","p-2","border-top"],["type","text","placeholder","Type a message...",1,"form-control","me-2",3,"keyup.enter","formControl"],[1,"btn","btn-main",3,"click"],[1,"bi","bi-send-fill"],[1,"message-content","p-2"],[1,"message-time","small","text-muted","mt-1"]],template:function(t,i){t&1&&D(0,d2,11,6,"div",1),t&2&&g("ngIf",i.isWindowVisible&&i.activeChat)},dependencies:[Ct,Ut,qn,Oe,$e,$m,re],styles:[".chat-window-container[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:0;width:320px;background:#fff;border-radius:8px 8px 0 0;display:flex;flex-direction:column;z-index:1000;max-height:450px;border:1px solid #ddd;border-bottom:none}.chat-window-container.minimized[_ngcontent-%COMP%]{height:auto}.window-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-radius:8px 8px 0 0;cursor:pointer}.avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;overflow:hidden;background-color:#fff;display:flex;align-items:center;justify-content:center}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--yellow)}.messages-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:350px}.messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:12px}.message[_ngcontent-%COMP%]{margin-bottom:10px;max-width:70%}.message-content[_ngcontent-%COMP%]{padding:8px 12px;border-radius:18px;background:#f1f1f1;display:inline-block;word-break:break-word}.message-time[_ngcontent-%COMP%]{color:#888;margin-top:2px}.own-message[_ngcontent-%COMP%]{margin-left:auto}.own-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--dark);color:#fff}.own-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{text-align:right}.btn-main[_ngcontent-%COMP%]{padding:5px 15px}.btn-main[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dark)}"]})};function f2(e,n){if(e&1){let t=ne();u(0,"div",7),M("click",function(){let r=R(t).$implicit,o=y(2);return N(o.openChat(r))}),u(1,"div",8)(2,"div",9),f(3),c(),u(4,"div",10),f(5),gt(6,"slice"),c()(),u(7,"div",11)(8,"div",12),f(9),gt(10,"date"),c()()()}if(e&2){let t=n.$implicit;h(3),O(t.chattingWith),h(2),O(fy(6,3,t.lastMessage==null?null:t.lastMessage.message,0,20)),h(4),O(rn(10,7,t.lastMessageTime,"shortTime"))}}function p2(e,n){if(e&1){let t=ne();u(0,"div",1)(1,"div",2)(2,"h3",3),f(3,"Chats"),c(),u(4,"button",4),M("click",function(){R(t);let r=y();return N(r.closePanel())}),f(5,"\xD7"),c()(),u(6,"div",5),D(7,f2,11,10,"div",6),c()()}if(e&2){let t=y();h(7),g("ngForOf",t.chats)}}var Sd=class e{constructor(n){this.chatService=n;this.chatService.chatsPanelVisible$.subscribe(t=>{this.isPanelOpen=t,t&&this.loadChats()})}chats;isPanelOpen=!1;ngOnInit(){this.chatService.chats$.subscribe(n=>{this.chats=n})}loadChats(){this.chatService.loadChats()}openChat(n){this.chatService.openChat(n)}closePanel(){this.chatService.toggleChatsPanel()}static \u0275fac=function(t){return new(t||e)(C(Zi))};static \u0275cmp=V({type:e,selectors:[["app-chats-panel"]],decls:1,vars:1,consts:[["class","chats-panel-container shadow",4,"ngIf"],[1,"chats-panel-container","shadow"],[1,"panel-header","d-flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"btn-close-panel",3,"click"],[1,"chats-list"],["class","chat-item d-flex align-items-center",3,"click",4,"ngFor","ngForOf"],[1,"chat-item","d-flex","align-items-center",3,"click"],[1,"chat-info","flex-grow-1"],[1,"chat-name","fw-medium"],[1,"last-message","text-truncate"],[1,"chat-meta","d-flex","flex-column","align-items-end"],[1,"time","small"]],template:function(t,i){t&1&&D(0,p2,8,1,"div",0),t&2&&g("ngIf",i.isPanelOpen)},dependencies:[Ut,He,re,Lh],styles:[".chats-panel-container[_ngcontent-%COMP%]{position:fixed;right:10%;top:70px;width:300px;height:400px;background:#fff;border-radius:8px;display:flex;flex-direction:column;z-index:1000;border:1px solid var(--yellow);overflow:hidden}@media (max-width: 400px){.chats-panel-container[_ngcontent-%COMP%]{width:80%;right:10%;top:10%;height:60%}}.panel-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-bottom:1px solid #eaeaea}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.btn-close-panel[_ngcontent-%COMP%]{background:none;border:none;color:var(--yellow);font-size:20px;cursor:pointer}.chats-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.chat-item[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f5f5f5;cursor:pointer}.chat-item[_ngcontent-%COMP%]:hover{background-color:#e99a421a}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;background-color:var(--dark);display:flex;align-items:center;justify-content:center}.chat-name[_ngcontent-%COMP%]{color:var(--dark);margin-bottom:4px}.last-message[_ngcontent-%COMP%]{font-size:12px;color:#888}.time[_ngcontent-%COMP%]{color:#888;margin-bottom:5px}.unread-badge[_ngcontent-%COMP%]{background-color:var(--yellow);color:var(--dark);border-radius:50%;min-width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:12px;padding:0 5px}"]})};var h2=e=>({unread:e});function m2(e,n){if(e&1&&(u(0,"div",9)(1,"div",10),S(2,"i",11),c(),u(3,"div",12)(4,"p",13),f(5),c(),u(6,"small",14),f(7),gt(8,"date"),c()()()),e&2){let t=n.$implicit;g("ngClass",kt(6,h2,!t.isRead)),h(5),O(t.message),h(2),j(" ",rn(8,3,t.createdAt,"short")," ")}}function g2(e,n){e&1&&(u(0,"div",15),S(1,"i",16),u(2,"p",17),f(3,"No notifications yet"),c()())}function _2(e,n){if(e&1){let t=ne();u(0,"div",1)(1,"div",2)(2,"h5",3),f(3,"Notifications"),c(),u(4,"button",4),M("click",function(){R(t);let r=y();return N(r.closePanel())}),S(5,"i",5),c()(),u(6,"div",6),D(7,m2,9,8,"div",7)(8,g2,4,0,"div",8),c()()}if(e&2){let t=y();h(7),g("ngForOf",t.notifications),h(),g("ngIf",t.notifications.length===0)}}var Id=class e{constructor(n){this.notificationService=n;this.notificationService.notificationPanelVisible$.subscribe(t=>{this.isPanelOpen=t,t&&this.loadNotifications()})}isPanelOpen=!1;notifications=[];ngOnInit(){this.notificationService.notifications$.subscribe(n=>{this.notifications=n})}loadNotifications(){this.notificationService.loadNotifications()}closePanel(){this.notificationService.toggleNotificationPanel(),this.markAsRead()}markAsRead(){let n=[];this.notifications.forEach(t=>{t.isRead||n.push(t.id)}),n.length!==0&&this.notificationService.markAsRead(n)}static \u0275fac=function(t){return new(t||e)(C(ns))};static \u0275cmp=V({type:e,selectors:[["app-notification-panel"]],decls:1,vars:1,consts:[["class","notifications-panel-container card shadow position-fixed",4,"ngIf"],[1,"notifications-panel-container","card","shadow","position-fixed"],[1,"card-header","panel-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-white"],[1,"btn-close-panel","btn","btn-link","p-0",3,"click"],[1,"bi","bi-x-lg","text-yellow"],[1,"notifications-list","card-body","p-0","bg-white"],["class","notification-item d-flex align-items-center p-3 border-bottom",3,"ngClass",4,"ngFor","ngForOf"],["class","no-notifications text-center p-4",4,"ngIf"],[1,"notification-item","d-flex","align-items-center","p-3","border-bottom",3,"ngClass"],[1,"notification-icon","me-3"],[1,"bi","fs-5"],[1,"notification-content","flex-grow-1"],[1,"notification-text","mb-1"],[1,"notification-time","text-muted"],[1,"no-notifications","text-center","p-4"],[1,"bi","bi-bell","fs-4","mb-2","text-yellow"],[1,"mb-0","text-muted"]],template:function(t,i){t&1&&D(0,_2,9,2,"div",0),t&2&&g("ngIf",i.isPanelOpen)},dependencies:[Ie,Ct,He,re,Ut],styles:[".notifications-panel-container[_ngcontent-%COMP%]{position:fixed;right:100px;top:70px;width:350px;max-height:450px;z-index:1000;border:none;border-radius:8px;overflow:hidden}.panel-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:var(--dark);color:#fff;border-bottom:1px solid rgba(255,255,255,.1)}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin:0}.btn-close-panel[_ngcontent-%COMP%]{background:none;border:none;color:var(--yellow);font-size:20px;cursor:pointer}.btn-close-panel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.8}.notifications-list[_ngcontent-%COMP%]{flex:1;max-height:400px;overflow-y:auto}.notification-item[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid rgba(0,0,0,.05);cursor:pointer;transition:all .2s ease}.notification-item[_ngcontent-%COMP%]:hover{background-color:#e99a420d}.notification-item.unread[_ngcontent-%COMP%]{background-color:#e99a421a}.notification-item.unread[_ngcontent-%COMP%]   .notification-text[_ngcontent-%COMP%]{font-weight:500}.notification-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;color:var(--dark)}.notification-text[_ngcontent-%COMP%]{color:var(--dark);font-size:14px;margin-bottom:0;line-height:1.4}.notification-time[_ngcontent-%COMP%]{font-size:12px}.no-notifications[_ngcontent-%COMP%]{color:#888;font-size:14px}.no-notifications[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dark);opacity:.5}"]})};function v2(e,n){e&1&&(Nn(0),S(1,"app-header"),On())}function y2(e,n){e&1&&(Nn(0),S(1,"app-footer"),On())}var Md=class e{constructor(n,t){this.router=n;this.signalRService=t;this.router.events.subscribe(i=>{i instanceof wt&&(this.isAuthRoute=["/login","/Register"].includes(i.urlAfterRedirects))})}isAuthRoute=!1;spinnerSerivce=b(Qi);ngOnInit(){this.signalRService.startConnection()}ngOnDestroy(){this.signalRService.stopConnection()}title="P2PDeliveryClientSide";static \u0275fac=function(t){return new(t||e)(C(oe),C(Qn))};static \u0275cmp=V({type:e,selectors:[["app-root"]],decls:7,vars:2,consts:[[4,"ngIf"]],template:function(t,i){t&1&&(D(0,v2,2,0,"ng-container",0),S(1,"app-spinner")(2,"router-outlet")(3,"app-chats-panel")(4,"app-chat-window")(5,"app-notification-panel"),D(6,y2,2,0,"ng-container",0)),t&2&&(g("ngIf",!i.isAuthRoute),h(6),g("ngIf",!i.isAuthRoute))},dependencies:[da,Cd,wd,Ie,re,Ed,Sd,ts,Id],styles:["[_ngcontent-%COMP%]:root{--background: #FEC262;--secondary: #E0F7FA;--accent: #F44336;--text: #212121;--neutral: #FFFFFF;--box: #D7CCC8;--sender: #E64A19;--traveler: #4A6366}"]})};Wh(Md,xD).catch(e=>console.error(e));
